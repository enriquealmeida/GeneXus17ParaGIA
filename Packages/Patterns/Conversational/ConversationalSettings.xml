<?xml version="1.0" encoding="utf-8"?>
<Pattern xmlns="http://schemas.genexus.com/Patterns/InstanceSpecification/v1.0" Name="Conversational" Version="15.0.0" RootElement="Config" RootType="Config">
	<ElementTypes>
		<ElementType Name="Config" Caption="Conversational Configuration">
			<Attributes>
				<Attribute Name="keepResourcesUpdated" PrettyName="Keep Resources Updated" Type="enum{Prompt;True;False;*}" Description="If true, GeneXus updates automatically the Conversational Flows resources without prompting. If prompt, GeneXus will prompt before updating them. If false, GeneXus will never update the Conversational Flows resources." DefaultValue="Prompt" />
			</Attributes>
			<ChildrenElements>
				<!--<ChildElement Name="Context" ElementType="Context" Multiple="false" Optional="false" />
				<ChildElement Name="Security" ElementType="Security" Multiple="false" Optional="false" />-->
				<ChildElement Name="WelcomeMessages" ElementType="WelcomeMessages" Multiple="false" Optional="false" />
				<ChildElement Name="WelcomeTriggers" ElementType="WelcomeTriggers" Multiple="false" Optional="false" />
				<ChildElement Name="InsertTriggerMessages" ElementType="InsertTriggerMessages" Multiple="false" Optional="false" />
				<ChildElement Name="SearchTriggerMessages" ElementType="SearchTriggerMessages" Multiple="false" Optional="false" />
				<ChildElement Name="UpdateTriggerMessages" ElementType="UpdateTriggerMessages" Multiple="false" Optional="false" />
				<ChildElement Name="DeleteTriggerMessages" ElementType="DeleteTriggerMessages" Multiple="false" Optional="false" />
				<ChildElement Name="Transaction" ElementType="Transaction" Multiple="false" Optional="false" />
				<!--<ChildElement Name="Provider" ElementType="Provider" Multiple="false" Optional="false" />-->
<!--				<ChildElement Name="Channels" ElementType="Channels" Multiple="true" Optional="false" /> descomentar con todas las referencias al implementar channels-->
			</ChildrenElements>
		</ElementType>
<!--		<ElementType Name="Channels" Caption="Conversational Channels" Icon="ConversationalObject" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes/>
			<ChildrenElements>
				<ChildElement Name="Messenger" ElementType="Messenger" Multiple="true" Optional="true" />-->
			<!--	<ChildElement Name="Slack" ElementType="Slack" Multiple="false" Optional="true" />
				<ChildElement Name="GoogleActions" ElementType="GoogleActions" Multiple="false" Optional="true" />
				<ChildElement Name="Custom" ElementType="Custom" Multiple="false" Optional="true" />-->
<!--			</ChildrenElements>
		</ElementType>
		<ElementType Name="Messenger" Caption="Facebook Messenger ({0})" CaptionParameters="pageName" Icon="fbMessenger" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
          <Attribute NotNull="true" Name="pageName" Type="string" Description="Facebook page name" PrettyName="Facebook Page Name"/>
          <Attribute NotNull="true" Name="pageToken" Type="string" Description="Token generated by your Facebook Application for your Facebook page." PrettyName="Page Token"/>
          <Attribute NotNull="true" Name="securityToken" Type="string" Description="The 'verify token' defined for the webhook settings in your Facebook Application." PrettyName="Security Token"/>
			</Attributes>
      <ChildrenElements>
        <ChildElement Name="QuickReplies" ElementType="QuickReplies" Multiple="false" Optional="false" />
        <ChildElement Name="GenericTemplate" ElementType="GenericTemplate" Multiple="false" Optional="false" />
        <ChildElement Name="PhoneButton" ElementType="PhoneButton" Multiple="false" Optional="false" />
        <ChildElement Name="URLButton" ElementType="URLButton" Multiple="false" Optional="false" />
        <ChildElement Name="MultiMedia" ElementType="MultiMedia" Multiple="false" Optional="false" />
      </ChildrenElements>
		</ElementType>
    <ElementType Name="QuickReplies" Caption="Quick Replies" Icon="Message_One" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="includeImage" PrettyName="Include Image" Type="bool" Description="Select true for include images in the quick reply." DefaultValue="False"/>
        <Attribute VisibleIf="self::*[@includeImage = 'True']" Name="defaultImage" Type="reference(Image)" Description="KBObject Name."/>
        <Attribute Name="AskForLocationMapping" PrettyName="Ask for Location Mapping" Type="bool" Description="Enable the mapping between Geolocation and 'Send Location' quick reply."/>
      </Attributes>
      <ChildrenElements/>
    </ElementType>
    <ElementType Name="GenericTemplate" Caption="Generic Template" Icon="ObjectsList" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="MaxHorizontal" PrettyName="Top Horizontal Length" Type="int" Description="Specify the maximum horizontal length for this template. It's value should be less than 11." DefaultValue="10"/>
        <Attribute Name="includeButtons" PrettyName="Include Buttons" Type="bool" Description="Select true if you want to include buttons in this template." DefaultValue="True"/>
        <Attribute VisibleIf="self::*[@includeButtons = 'True']" Name="MaxButtons" PrettyName="Top Vertical Buttons" Type="int" Description="Specify the maximum vertical buttons for this template. It's value should be less than 4." DefaultValue="3"/>        
      </Attributes>
      <ChildrenElements/>
    </ElementType>
    <ElementType Name="PhoneButton" Caption="Phone Button" Icon="ObjectsList" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="MapWithPhone" PrettyName="Map With Phone Data Type" Type="bool" Description="Select true if you want to map the phone data type with the phone button response type." DefaultValue="True"/>
        <Attribute Name="Caption" Type="string" Description="" DefaultValue="Call"/>
      </Attributes>
      <ChildrenElements/>
    </ElementType>
    <ElementType Name="URLButton" Caption="URL Button" Icon="ObjectsList" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="MapWithURL" PrettyName="Map With URL Data Type" Type="bool" Description="Select true if you want to map the URL data type with the URL button response type." DefaultValue="True"/>
        <Attribute Name="Caption" Type="string" Description="" DefaultValue="Go"/>
        <Attribute Name="Height" Type="enum{full;tall;compact;*}" Description="Specify the default height of the webview." DefaultValue="compact" />    
      </Attributes>
      <ChildrenElements/>
    </ElementType>
    <ElementType Name="MultiMedia" Caption="MultiMedia" Icon="ObjectsList" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="MapWithImage" PrettyName="Map Image Data Type" Type="bool" Description="Select true for map the image data type with the image response type." DefaultValue="True"/>
      <Attribute Name="MapWithVideo" PrettyName="Map Video Data Type" Type="bool" Description="Select true for map the video data type with the video response type." DefaultValue="True"/>
      </Attributes>
      <ChildrenElements/>
    </ElementType>-->
	<!--	<ElementType Name="Slack" Caption="Slack" Icon="Pattern_Template" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="webhook" Type="string" Description="The webhook for the Slack Connection"/>
			</Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="GoogleActions" Caption="Google Actions" Icon="Pattern_Template" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="webhook" Type="string" Description="The webhook for the Google Actions Connection"/>
			</Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="Custom" Caption="Custom" Icon="Pattern_Template" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="webhook" Type="string" Description="The webhook for the Custom Connection"/>
			</Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="Provider" Caption="Provider" Icon="Pattern_Template" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="activeProvider" Type="enum{&lt;Api.ai&gt;;&lt;AWS Lex&gt;;&lt;IBM Watson&gt;;*}" Description="Select a conversational provider" PrettyName="Active Provider"/>
			</Attributes>
			<ChildrenElements>
				<ChildElement Name="APIai" ElementType="APIai" Multiple="false" Optional="true" />
				<ChildElement Name="AWSLex" ElementType="AWSLex" Multiple="false" Optional="true" />
				<ChildElement Name="IBMWatson" ElementType="IBMWatson" Multiple="false" Optional="true" />
			</ChildrenElements>
		</ElementType>
		<ElementType Name="APIai" Caption="API.ai" Icon="Pattern_Template" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="webhook" Type="string"  Description="Webhook for API.ai"/>
			</Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="AWSLex" Caption="AWS Lex" Icon="Pattern_Template" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="botName" Type="string" Description="The bot's name in AWS Lex" PrettyName="Bot Name"/>
				<Attribute Name="botAlias" Type="string" Description="The bot's alias in AWS Lex" PrettyName="Bot Alias"/>
				<Attribute Name="accesKey" Type="string" Description="The access key in AWS" PrettyName="Access Key"/>
				<Attribute Name="secretKey" Type="string" Description="The secret key in AWS" PrettyName="Secret Key"/>
				<Attribute Name="awsRegion" Type="enum{&lt;us-east-1&gt;;*}"  Description="The AWS region" PrettyName="AWS Region"/>
				<Attribute Name="webhook" Type="string"  Description="Webhook for AWS Lex"/>
			</Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="IBMWatson" Caption="IBM Watson" Icon="Pattern_Template" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="webhook" Type="string"  Description="Webhook for Watson"/>
			</Attributes>
			<ChildrenElements/>
		</ElementType>	-->
		<ElementType Name="Transaction" Caption="Transaction" Icon="ObjectTransaction" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
			<Attributes>
				<Attribute Name="generateInsertFlow" Type="bool" Description="If it is true, GeneXus will generate the insert flow" DefaultValue="true" PrettyName="Generate Insert Flow"/>
				<Attribute Name="generateUpdateFlow" Type="bool" Description="If it is true, GeneXus will generate the update flow" DefaultValue="true" PrettyName="Generate Update Flow"/>
				<Attribute Name="generateSearchFlow" Type="bool" Description="If it is true, GeneXus will generate the search flow" DefaultValue="true" PrettyName="Generate Search Flow"/>
				<Attribute Name="generateDeleteFlow" Type="bool" Description="If it is true, GeneXus will generate the delete flow" DefaultValue="true" PrettyName="Generate Delete Flow"/>
				<Attribute Name="generateForeignFlows" Type="bool" Description="If it is true, GeneXus will generate the foreign flows" DefaultValue="false" PrettyName="Generate Foreign Flows"/>
				<Attribute Name="generateViews" Type="bool" Description="If it is true, GeneXus will generate the views" DefaultValue="true" PrettyName="Generate Views"/>
			<!--	<Attribute Name="generateFilters" Type="bool" Description="If is true, GeneXus will generate the filters" DefaultValue="true" PrettyName="Generate Filters"/>
				<Attribute Name="generateOrders" Type="bool" Description="If is true, GeneXus will generate the orders" DefaultValue="true" PrettyName="Generate Orders"/>-->
			</Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="WelcomeMessages" Caption="Default Welcome Messages" Icon="Message_One" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="message" Type="code(Expressions)" Description="Default welcome messages" DefaultValue="Hello! Welcome to your very own chatbot!"/>
      </Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="WelcomeTriggers" Caption="Default Welcome Triggers" Icon="Message_One" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="message" Type="code(Expressions)" Description="Default welcome messages" DefaultValue="Hi;Hello;"/>
      </Attributes>
      <ChildrenElements/>
		</ElementType>
		<ElementType Name="InsertTriggerMessages" Caption="Default Insert Trigger Messages" Icon="Message_One" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="message" Type="code(Expressions)" Description="Generic insert trigger message, use conversationalObject variable to define where do you want a reference to any conversational object" DefaultValue="Insert &amp;conversationalObject;" />
      </Attributes>
      <ChildrenElements/>
		</ElementType>
		<ElementType Name="SearchTriggerMessages" Caption="Default Search Trigger Messages" Icon="Message_One" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="message" Type="code(Expressions)" Description="Generic search trigger message, use conversationalObject variable to define where do you want a reference to any conversational object" DefaultValue="Search &amp;conversationalObject;" />
      </Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="UpdateTriggerMessages" Caption="Default Update Trigger Messages" Icon="Message_One" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="message" Type="code(Expressions)" Description="Generic update trigger message, use conversationalObject variable to define where do you want a reference to any conversational object" DefaultValue="Update &amp;conversationalObject;" />
      </Attributes>
			<ChildrenElements/>
		</ElementType>
		<ElementType Name="DeleteTriggerMessages" Caption="Default Delete Trigger Messages" Icon="Message_One" IconResource="Genexus.Patterns.Conversational.Resources.Images,Genexus.Patterns.Conversational">
      <Attributes>
        <Attribute Name="message" Type="code(Expressions)" Description="Generic delete trigger message, use conversationalObject variable to define where do you want a reference to any conversational object" DefaultValue="Delete &amp;conversationalObject;" />
      </Attributes>
			<ChildrenElements/>
		</ElementType>
	</ElementTypes>
</Pattern>