<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Configuring Google Dialogflow for the Chatbot Generator</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?39749,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Configuring Google Dialogflow for the Chatbot Generator</h1>
<!--Configuring Google Dialogflow for the Chatbot Generator--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>This article introduces the steps to use the <a href="37102.html">Chatbot Generator</a> with Dialogflow.<br />
After the setup in Google Clouds, you need to create an <a href='https://dialogflow.com/docs/agents'>Agent</a> in Dialogflow, where GeneXus will create your chatbot for this provider (create and update the <a href="38949.html">intents</a>, <a href="39083.html">entities</a>, and the dialog itself).</p>

<p>Below is a summary of the steps that should be followed:</p>

<p><ul><li><a class="HashLink" href="#Create+a+project+in+Google+Cloud"><span style="color: rgb(2,136,209);">Create a project in Google Cloud</span></a></li><li><a class="HashLink" href="#Enable+the+%22Dialogflow+API%22+service+in+your+project"><span style="color: rgb(2,136,209);">Enable the &quot;Dialogflow API&quot; service in your project</span></a></li><li><a class="HashLink" href="#Get+the+credentials+for+accessing+the+API"><span style="color: rgb(2,136,209);">Get the credentials for accessing the API</span></a></li><li><a class="HashLink" href="#Create+an+Agent+in+Dialogflow+that+is+related+to+the+Google+Cloud+project"><span style="color: rgb(2,136,209);">Create an Agent in Dialogflow that is related to the Google Cloud project</span></a></li><li><a class="HashLink" href="#Configure+the+GeneXus+Chabot+instance+for+using+Dialogflow"><span style="color: rgb(2,136,209);">Configure the GeneXus Chabot instance for using Dialogflow</span></a></li><li><a class="HashLink" href="#Compatibility">Compatibility</a></li></ul></ul></p>

<h3><a id="Create+a+project+in+Google+Cloud" class="HashLink" href="#Create+a+project+in+Google+Cloud"><span style="color: rgb(2,136,209);">Create a project in Google Cloud</span></a></h3>

<p>Go to <a href='https://console.cloud.google.com/'>this</a> link. Select the list of projects, and create a New Project.<br />
Then, you'll have something similar to the following:</p>

<p><img src="./images/39750.png" id="39750" class="WikiImage"/></p>

<h3><a id="Enable+the+%22Dialogflow+API%22+service+in+your+project" class="HashLink" href="#Enable+the+%22Dialogflow+API%22+service+in+your+project"><span style="color: rgb(2,136,209);">Enable the &quot;Dialogflow API&quot; service in your project</span></a></h3>

<p>In the project's Dashboard, go to APIs &amp; Services -&gt; Library</p>

<p><img src="./images/39751.png" id="39751" class="WikiImage"/></p>

<p>In the search bar, look for Dialogflow. Select it and click the Enable button.</p>

<p><img src="./images/39752.png" id="39752" class="WikiImage"/></p>

<h3><a id="Get+the+credentials+for+accessing+the+API" class="HashLink" href="#Get+the+credentials+for+accessing+the+API"><span style="color: rgb(2,136,209);">Get the credentials for accessing the API</span></a></h3>

<p>The following images show step by step how to create a Service Account to work with the Dialogflow APIs:</p>

<p><b id="docs-internal-guid-f405e537-7fff-a265-2528-561607ef8ba1"><img height="300" src="https://lh4.googleusercontent.com/WrNrF1OI8Kq4ul3hCWR2YazwDgyHl6Ytu12NEdJqmxjzuUSdbAE_lcjs-A0zdy_8fD_3vSuwOMu-oXVplslrZCfcidYxSgj6wPSBVyhrd9Py2NTp1BYJFHj4uBBl3puo3JGHbi6h" width="624" /></b></p>

<p>Next, click on the option to create a service account:</p>

<p><b id="docs-internal-guid-f405e537-7fff-a265-2528-561607ef8ba1"><img height="305" src="https://lh4.googleusercontent.com/u0wki7Ljc1MzlqO4mSUBsk_o4z-jErRqxlsQ5O35lFbp0D_DaJuCj-vwpLHmpv9ycI-Ris8LAMqNFygEHrOUD-d0iUQbfTBusHxQpLeXulj_gmtPcG878vU6zWvmyOWXiNhyETOS" width="624" /></b></p>

<p>Find the new account in the list of service accounts and click on edit (in the Actions menu). In the edit screen, create a new key:</p>

<p><b id="docs-internal-guid-f405e537-7fff-a265-2528-561607ef8ba1"><img height="305" src="https://lh6.googleusercontent.com/aP4BxjbybE0VQDpUREscTJ72t9UrEJ2dFfltUOFwLDqtv2HB7CaKcI-JUrf1vdJzN0olLsRsU734TTMvgJZgf2kqxMs8fS5ollri6wzAtLmPn9D4C3_S3Uxt8rJYDKJVyXovHMoP" width="624" /></b></p>

<p>Select the JSON type:</p>

<p><b id="docs-internal-guid-f405e537-7fff-a265-2528-561607ef8ba1"><img height="305" src="https://lh3.googleusercontent.com/dayQ_hU5-3rcjBrOYR91QzbiYplELWob0q-Al8M-VW1vlzmUl1qzc7SLmOss82Ibhy9gfpznGcLWFNDoPwdRvzMIoRPn3FsVa3L4glYSwqNQnInyIVqJw9nxXZQr9Yb41RTNuvG0" width="624" /></b></p>

<p>The generated JSON is downloaded as shown below:</p>

<p><b id="docs-internal-guid-f405e537-7fff-a265-2528-561607ef8ba1"><img height="305" src="https://lh3.googleusercontent.com/jLaGYF7D1D9nFWE1A8B_M2OpOGDfBrv-Hga1HFPP8sLN9XkiW9YGpT6rX4OPvScMQAlvdpiu4zJWFx2q-zOQJy8inACUIfuKzt5cQNiNO9TXYfpR8KG_tSuzp_kZvSeEVZjU3W0r" width="624" /></b></p>

<p>The content of this JSON must be entered in the <a href="47826.html">Google Cloud JSON Credentials property</a>.</p>

<h3><a id="Create+an+Agent+in+Dialogflow+that+is+related+to+the+Google+Cloud+project" class="HashLink" href="#Create+an+Agent+in+Dialogflow+that+is+related+to+the+Google+Cloud+project"><span style="color: rgb(2,136,209);">Create an Agent in Dialogflow that is related to the Google Cloud project</span></a></h3>

<p>Go to the <a href='https://console.dialogflow.com'>Dialogflow</a> website to create a new Agent. Make sure you select the right Project (defined in the previous step) before pressing the create Agent button. Note that you can create only one Agent per project.</p>

<p><img src="./images/39757.png" id="39757" class="WikiImage"/></p>

<h3><a id="Configure+the+GeneXus+Chabot+instance+for+using+Dialogflow" class="HashLink" href="#Configure+the+GeneXus+Chabot+instance+for+using+Dialogflow"><span style="color: rgb(2,136,209);">Configure the GeneXus Chabot instance for using Dialogflow</span></a></h3>

<p>Edit the <a href="37113.html">Conversational Flows object</a> and configure the <a href="38931.html">NLP Provider property</a>, <a href="39759.html">Google Cloud Project property</a> and <a href="47826.html">Google Cloud JSON Credentials property</a>.</p>

<p>To continue, save or execute &quot;Generate Chatbot.&quot; At this moment, GeneXus will try to synchronize your instance with the agent created in Dialogflow.</p>

<p>It will no longer be necessary to authenticate to use Dialogflow because a service account is now used.</p>

<h3><a id="Compatibility" class="HashLink" href="#Compatibility">Compatibility</a></h3>

<p>Since <a href="https://wiki.genexus.com/commwiki/wiki?47659,," target="_blank">GeneXus 17 upgrade 3</a>, it is necessary to use the Service Account authentication mechanism because the previous mechanism is no longer supported.</p>

<p></p>
</td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="42695.html">Chatbot Generator common errors and solutions</a></TD></TR><TR><TD><a href="39761.html">Client Id property</a></TD><TD><a href="39762.html">Client Secret property</a></TD></TR><TR><TD><a href="39758.html">Dialogflow Agent property</a></TD><TD><a href="47826.html">Google Cloud JSON Credentials property</a></TD></TR><TR><TD><a href="39759.html">Google Cloud Project property</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 04/23/21 03:00 PM</em></font></td></TR></table></font>