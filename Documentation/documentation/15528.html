<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>HowTo: Using SendMessage from Interop in Smart Devices</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?15528,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">HowTo: Using SendMessage from Interop in Smart Devices</h1>
<!--HowTo: Using SendMessage from Interop in Smart Devices--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>This tutorial is a simple and quick guide for developers that want to add behavior to their smart devices applications.</p>

<p>In order to add behavior, GeneXus defined the concept of Actions. By adding Actions to your Smart Device application you’ll be able to call procedures, web pages, etc. The Actions can interact with the device through <a href="17880.html">External Objects for Smart Devices</a>. Specifically, we are going to send a message to a client using <a href="23734.html">Interop external object</a>.<br />
 </p>

<h3><a id="Step+1" class="HashLink" href="#Step+1"><b>Step 1</b></a></h3>

<p>Let’s continue with our KB that we developed in  <a href="14738.html">My first iOS application</a>.<br />
<img src="./images/37362.png" id="37362" class="WikiImage"/><br />
 </p>

<h3><a id="Step+2" class="HashLink" href="#Step+2"><b>Step 2</b></a></h3>

<p>Before starting we should see which actions for Smart Devices are provided.<br />
On <a href="3210.html">KB Explorer</a>, under References, you’ll see a section module called SD. There you’ll see the external objects GeneXus offers to interact with the device. <br />
<img src="./images/37800.png" id="37800" class="WikiImage"/><br />
In this document, we are going to focus on the <a href="23734.html">Interop external object</a>.<br />
<img src="./images/37801.png" id="37801" class="WikiImage"/><br />
This object has a method called <em>Send Message </em>for sending general messages through those apps which allow it. It has two parameters that can be set.</p>

<ul>
	<li><strong>Message</strong><br />
	The content of the message.<br />
	 </li>
	<li><strong>To</strong><br />
	The receiver of the general message (e.g. by its phone number, email, facebook account, twitter username etc.).</li>
</ul>

<p>The method will display every application installed in the end user's device for sending the message, without pay attention to the semantic of <em>To</em> parameter (phone, email, etc.). The end-user should select which app should resolve its request; otherwise, the <em>To </em>parameter will be ignored. For instance, if <em>To</em> parameter is set as under Phone domain, and the end user tries to send the message by email, only Message parameter will be used.</p>

<h3><a id="Step+3+" class="HashLink" href="#Step+3+"><b>Step 3 </b></a></h3>

<p>Add the Action to our application. <br />
Go to the <a href="15974.html">Work With for Smart Devices object</a> associated with Customer <a href="1908.html">Transaction object</a> (called WorkWithDevicesCustomer). On the Section General, add an Action as follows.<br />
<img src="./images/37802.png" id="37802" class="WikiImage"/></p>

<h3><a id="Step+4" class="HashLink" href="#Step+4"><b>Step 4</b></a></h3>

<p>Add behavior to the action. Go to Event tab, and call <span style="font-family: courier new;">Interop.SendMessage</span> method as follows. </p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event 'Message'
    Interop.SendMessage(&quot;&quot;,CustomerPhone)
EndEvent</pre>

<p>Then, this action will try to send a message with no content to a specific customer  (in this case, by its phone number). If the end-user selects the SMS messaging app, will open it directly to send the message to the target user. But, if the end-user selects Email app, only will open the application for sending an email --- since message's content is empty and phone number is discarded. If your aim is only to send SMS, use <a href="17310.html">SendSMS method</a>.</p>

<p>For example, in runtime, we'll have the following behavior.<br />
<img src="./images/37803.png" id="37803" class="WikiImage"/></p>

<p> </p>

<p></p>

<p><br />
<br />
</p>
<br /><br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="17392.html">Calling objects from Menu Events</a></TD></TR><TR><TD><a href="15551.html">Composite examples</a></TD><TD><a href="23734.html">Interop external object</a></TD></TR><TR></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:19 PM</em></font></td></TR></table></font>