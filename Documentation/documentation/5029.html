<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>HowTo: Using Map control</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?5029,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">HowTo: Using Map control</h1>
<!--HowTo: Using Map control--><div class="TableWikiBody" id="tblwikibody"><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><strong>Breaking change: </strong>To configure a Google Maps API key after the <a href='http://googlegeodevelopers.blogspot.com.uy/2016/06/building-for-scale-updates-to-google.html'>Google policy changes</a> of 22 June 2016, please download version 8.1 or higher from <a href="https://wiki.genexus.com/commwiki/wiki?31556,," target="_blank">here</a> or the <a href='https://marketplace.genexus.com/product.aspx?mapcontrol,es'>marketplace</a>.</div>

<h3><a id="Purpose" class="HashLink" href="#Purpose">Purpose</a></h3>

<p>It allows including a map in a Web Form and marking points on it. In addition, it allows setting map display properties such as precision, map type, zoom control, etc. Currently, there are three providers: Google, Baidu, and Yahoo for any city in the world.</p>

<h3><a id="Using+the+control" class="HashLink" href="#Using+the+control">Using the control</a></h3>

<p>The control is distributed by Genexus, however, it is possible to download and install a newer version. In order to do this, uncompress the zip file to the User control directory of the GeneXus X installation. At design time, the control can be opened from View/Tool Windows/Toolbox. With drag &amp; drop, a map is added to the Web Form and a sample is consolidated to mark some points on the map.</p>

<p>For each point, a title, text, and link can be specified.</p>

<p>To geoposition the map or a point on it, the coordinates (latitude/longitude) are needed. To this end, there is a <a href="42430.html">City property</a> with a set of cities and their coordinates or two Latitude/Longitude properties (N/E positive number, S/W negative number).<strong> </strong>These values are in decimal degrees format.</p>

<p>Download the control from <a href='http://marketplace.genexus.com/product.aspx?mapcontrol'>here</a>.</p>

<h3><a id="Example+-+GeneXus+Code" class="HashLink" href="#Example+-+GeneXus+Code">Example - GeneXus Code</a></h3>

<h4><a id="1.+Draw+Point" class="HashLink" href="#1.+Draw+Point">1. Draw Point</a></h4>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;Radisson = new GxMap.Point()
&amp;Radisson.PointLat         = "-34.9056247303566"
&amp;Radisson.pointLong        = "-56.198415756225586"
&amp;Radisson.PointInfowinTit  ='XIX International GeneXus Meeting'
&amp;Radisson.PointInfowinDesc = "Radisson Montevideo Victoria Plaza Hotel - September 14-16"
&amp;Radisson.PointInfowinLink = "http://genexus.com/event/"

&amp;Radisson.PointInfowinLinkDsc = "Genexus Site" 

&amp;Radisson.PointIcon       = "Red" // or &amp;Radisson.PointIcon = "http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=|FE6256|000000"
&amp;Radisson.PointInfowinImg = "http://wiki.gxtechnical.com/commwiki/servlet/apgetwikiimage?6327,1" // Some image
&amp;GxMapdata.Points.Add(&amp;Radisson)
</pre>

<div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>: Google has a <a href='https://developers.google.com/chart/image/docs/gallery/dynamic_icons'>dynamic icon generator</a>.</div>

<p>The sample is consolidated in the object's start event when dragging and dropping the control.</p>

<h4><a id="2.+Draw+Line" class="HashLink" href="#2.+Draw+Line">2. Draw Line</a></h4>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;MapLine = new()
&amp;MapLinePoint = new()
&amp;MapLinePoint.PointLat  = '31.223182'
&amp;MapLinePoint.PointLong = '121.44654'
&amp;MapLine.Points.Add(&amp;MapLinePoint)

&amp;MapLinePoint = new()
&amp;MapLinePoint.PointLat  = '31.228209'
&amp;MapLinePoint.PointLong = '121.474006'
&amp;MapLine.Points.Add(&amp;MapLinePoint) 

&amp;GxMapData.Lines.Add(&amp;MapLine)</pre>

<h4><a id="3.+Draw+Polygon" class="HashLink" href="#3.+Draw+Polygon">3. Draw Polygon</a></h4>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;GxMapPolygon = new GxMap.Polygon(

&amp;GxMapPolygon.PolygonFill = "#00AAFF"
&amp;GxMapPolygon.PolygonFillOpacity = 0.80
&amp;GxMapPolygon.PolygonStroke ="#FFAA00"
&amp;GxMapPolygon.PolygonStrokeOpacity = 0.50
&amp;GxMapPolygon.PolygonStrokeWeight = 2
&amp;GxMapPolygon.PolygonInfowinHtml = "Plaza Independencia"

&amp;GxMapPolyPath = new GxMap.Polygon.Path()

&amp;GxMapPolyPath.PathLat = '-34.90691372574081'
&amp;GxMapPolyPath.PathLong = '-56.198716163635254'
&amp;GxMapPolygon.Paths.Add(&amp;GxMapPolyPath )

&amp;GxMapPolyPath = new GxMap.Polygon.Path()

&amp;GxMapPolyPath.PathLat = "-34.906077860733134"
&amp;GxMapPolyPath.PathLong = "-56.19883418083191"
&amp;GxMapPolygon.Paths.Add(&amp;GxMapPolyPath )

&amp;GxMapPolyPath = new GxMap.Polygon.Path()

&amp;GxMapPolyPath.PathLat = "-34.90617464553802"
&amp;GxMapPolyPath.PathLong = "-56.20078682899475"
&amp;GxMapPolygon.Paths.Add(&amp;GxMapPolyPath )

&amp;GxMapPolyPath = new GxMap.Polygon.Path()

&amp;GxMapPolyPath.PathLat = "-34.90718647984938"
&amp;GxMapPolyPath.PathLong = "-56.200679540634155"
&amp;GxMapPolygon.Paths.Add(&amp;GxMapPolyPath )

&amp;GxMapPolyPath = new GxMap.Polygon.Path()

&amp;GxMapPolyPath.PathLat = "-34.90691372574081"
&amp;GxMapPolyPath.PathLong = "-56.198716163635254"
&amp;GxMapPolygon.Paths.Add(&amp;GxMapPolyPath )

&amp;GxMapData.Polygons.Add(&amp;GxMapPolygon ) </pre>

<h4><a id="4.+Get+coordinate+from+address+%28Geocoding+-+Google%29" class="HashLink" href="#4.+Get+coordinate+from+address+%28Geocoding+-+Google%29">4. Get coordinate from address (Geocoding - Google)</a></h4>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
 &amp;httpclient.Host = 'maps.google.com'                       //load the associated host
 &amp;httpclient.Secure = 1
 &amp;httpclient.BaseUrl     = '/maps/api/geocode/'
 &amp;postvar = 'xml?address=' + &amp;address + '&amp;sensor=false&amp;key=' + &amp;apikey
 &amp;httpclient.Execute('GET',&amp;postvar)                       //execute a GET operation
 &amp;var = &amp;httpclient.ToString()

 &amp;xmlreader.OpenFromString(&amp;var)                           //parse the coordinates
 &amp;xmlreader.Read()
 &amp;xmlreader.ReadType(1,'lat')
 &amp;lat = &amp;xmlreader.Value
 &amp;xmlreader.ReadType(1,'lng')
 &amp;long = &amp;xmlreader.Value

 GoogleMapControl1.Latitude =&amp;lat                          //center the map in the coordinates
 GoogleMapControl1.Longitude = &amp;long
 GoogleMapControl1.Precision = &amp;precision</pre>

<p>According to the new google security policies, it is necessary to acquire an API key and send it in each request, more <a href='https://developers.google.com/maps/documentation/javascript/examples/geocoding-simple'>details here</a>.<br />
Other service offer the same geocoding service, such us <a href='https://developer.here.com/api-explorer/rest/geocoder/latitude-longitude-by-free-form-address'>Here</a>, <a href='https://nominatim.openstreetmap.org/search?q=Avenida%20Italia+6201+Montevideo&amp;format=xml&amp;polygon=1&amp;addressdetails=1'>OpenStreetMap</a>, <a href='https://www.arcgis.com/home/item.html?id=305f2e55e67f4389bef269669fc2e284'>ArcGis</a></p>

<p>See this <a href='http://view.vzaar.com/333220.video'>video</a> for more info.</p>

<p>Other design (or runtime) properties of the control are as follows:</p>

<ul>
	<li>Precision (zoom scale is 1 to 16)</li>
	<li>Type of map (map, satellite photo, or hybrid)</li>
	<li>Controls can be included within the map such as zoom, overview, etc.</li>
</ul>

<h4><a id="5.+Get+route+between+two+points" class="HashLink" href="#5.+Get+route+between+two+points">5. Get route between two points</a></h4>

<ul>
	<li> Set the <strong>Travel_Mode</strong> control property -&gt; Driving or Walking</li>
	<li> Populate the <a href="2427.html">SDT</a> Routing points, programming something like the following:</li>
</ul>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;routingpoint = new()
&amp;routingpoint.Latitude = 'xxxxxxx'
&amp;routingpoint.Longitude = 'yyyyyy'
&amp;routingpoint.Description = 'Work'
&amp;routingpoint.Pin = "blank.png"
&amp;GxMapData.Routing.add(&amp;routingpoint)

&amp;routingpoint = new()
&amp;routingpoint.Latitude = 'xxxxxxx2'
&amp;routingpoint.Longitude = 'yyyyyyy2'
&amp;routingpoint.Description = 'House'
&amp;routingpoint.Pin = "blank.png"
&amp;GxMapData.Routing.Add(&amp;routingpoint) </pre>

<p><img src="./images/40199.png" id="40199" class="WikiImage"/></p>

<h4><a id="6.+Get+coordinates+just+by+clicking+on+the+map" class="HashLink" href="#6.+Get+coordinates+just+by+clicking+on+the+map">6. Get coordinates just by clicking on the map</a></h4>

<ul>
	<li>Set the <strong>On Click</strong> control property = Get Value</li>
	<li>In an event, program something like this:</li>
</ul>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
    for &amp;point in &amp;GxMapData.Points
        msg(&amp;point.PointLat)
        msg(&amp;point.PointLong)
    endfor </pre>

<p>Where &amp;point is based on GxMap.Point Data type and GX Map Control property = &amp;GxMapData (based on GXMap Type).</p>

<p><strong>Important:</strong> getLongitude and getLatitude properties were used in previous versions (deprecated).</p>

<h4><a id="7.+Get+coordinates+and+open+a+popup+just+by+clicking+on+the+map" class="HashLink" href="#7.+Get+coordinates+and+open+a+popup+just+by+clicking+on+the+map">7. Get coordinates and open a popup just by clicking on the map</a></h4>

<p>Set Click_Lat and Click_Long variables into ClickLatitude/ClickLongitude design properties.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event GoogleMapControl1.Click
        &amp;Window.Object = WPAsPopup.Create(&amp;ClickLatitude , &amp;ClickLonigtude)
        &amp;Window.Open()
EndEvent</pre>

<h4><a id="8.+How+to+Import+XML+file+on+the+map" class="HashLink" href="#8.+How+to+Import+XML+file+on+the+map">8. How to Import XML file on the map</a></h4>

<p>In order to show the United State Map provided by a Kml File located under http://developers.google.com/kml/documentation/us_states.kml , programming something like the following:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event Start
    GoogleMapControl1.KML = true
    GoogleMapControl1.KMLURL = "developers.google.com/kml/documentation/us_states.kml"
Endevent
</pre>

<p><img src="./images/40200.png" id="40200" class="WikiImage"/></p>

<h3><a id="Control+Properties" class="HashLink" href="#Control+Properties">Control Properties</a></h3>

<div style="overflow-x:auto"><table border="1" cellpadding="0" cellspacing="0" class="wikitable">
	<tbody>
		<tr>
			<td class="wikicell">Property</td>
			<td class="wikicell">Description</td>
		</tr>
		<tr>
			<td class="wikicell">Provider</td>
			<td class="wikicell">
			<p>Defines what provider will be used to draw the map (Google, Yahoo, Baidu.)</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell">Google API Key</td>
			<td class="wikicell">The key is obtained from <a href='http://www.google.com/apis/maps/signup.html'>http://www.google.com/apis/maps/signup.html</a><br />
			It has some restrictions such as the number of accesses per day to the page. In version 2.0 or older, this property is not taken into account at runtime.</td>
		</tr>
		<tr>
			<td class="wikicell">Type</td>
			<td class="wikicell">
			<p align="left">Possible Values= Map, Satellite, ImageHybrid.</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell">City</td>
			<td class="wikicell">Offers a combo to position the map on a specific city. To define another place, set the "Specific Coordinate" value and set the Specific Latitude and Specific Longitude values. To add a city to the combo, edit the User Control/Map/Mapdefinition.xml</td>
		</tr>
		<tr>
			<td class="wikicell">Latitude</td>
			<td class="wikicell">Used to center the map when City (Specific coordinate) is not selected.</td>
		</tr>
		<tr>
			<td class="wikicell">Longitude</td>
			<td class="wikicell">Used to center the map when City (Specific coordinate) is not selected.</td>
		</tr>
		<tr>
			<td class="wikicell">Precision</td>
			<td class="wikicell">
			<p align="left">Levels 1 to 16 to indicate the zoom.</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell">Style</td>
			<td class="wikicell">Values: Standard, Silver, Retro. Dark, Nigth, Aubergine<br />
			<img src="./images/45370.png" id="45370" class="WikiImage"/></td>
		</tr>
		<tr>
			<td class="wikicell">ControlName</td>
			<td class="wikicell">
			<p align="left">By default : GoogleMapControlX</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell"> </td>
			<td class="wikicell"> </td>
		</tr>
		<tr>
			<td class="wikicell"><b>Controls </b></td>
			<td class="wikicell">
			<p>Controls appearing inside the map.</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell"><em>Small</em></td>
			<td class="wikicell">Lets us pan/zoom the map. It enables arrows to move (up, down, left, right) and zoom (control "+" and "-")</td>
		</tr>
		<tr>
			<td class="wikicell">SmallZoom</td>
			<td class="wikicell">A small zoom control (no panning controls) used in the small map blowup windows used to display driving directions steps on Google Maps.</td>
		</tr>
		<tr>
			<td class="wikicell">
			<p>Large</p>
			</td>
			<td class="wikicell">
			<p>A large pan/zoom control used on Google Maps. Appears in the top left corner of the map.</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell"><em>Overview</em></td>
			<td class="wikicell">A collapsible overview map in the corner of the screen. It's not valid for Yahoo provider.</td>
		</tr>
		<tr>
			<td class="wikicell">
			<p>Scale-</p>
			</td>
			<td class="wikicell">
			<p>A map scale Height.</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell">
			<p><b>Data Binding</b></p>
			</td>
			<td class="wikicell">
			<p>An SDT variable of GXmap type can be specified to indicate points on the map at runtime: the variable is created when dragging and dropping the control. For each point of the provided collection, the following is specified:<br />
			Point coordinates (PointLat, PointLong)<br />
			Icon – type of icon<br />
			Infowindow - text to display upon clicking the point<br />
			InfowindowTit - title<br />
			InfowindowDesc - text<br />
			infowindowLink - Link<br />
			PointDraggable - Boolean //This point is draggable<br />
			PointDeletable - Boolean //This point is deletable with double click</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell"><b>Google Provider</b></td>
			<td class="wikicell"> </td>
		</tr>
		<tr>
			<td class="wikicell">Icon</td>
			<td class="wikicell">
			<p>Offers a combo of color icons. The possible values are: Red, Green Blue, Orange, Pink<br />
			It can also specify a Url, such as<a><em>http://chart.apis.google.com/chart?chst=d_map_pin_letter&amp;chld=|00ff00|000000</em></a></p>
			</td>
		</tr>
		<tr>
			<td class="wikicell">OpenlinkInNewwindow</td>
			<td class="wikicell">It allows opening a new window when clicking the PointInfowinLink inside the balloon.</td>
		</tr>
		<tr>
			<td class="wikicell"><b>Getcoordenates</b></td>
			<td class="wikicell">
			<p> </p>
			</td>
		</tr>
		<tr>
			<td class="wikicell">Geticon</td>
			<td class="wikicell">It allows changing the color of the icon which is used to get the coordinate of any point</td>
		</tr>
		<tr>
			<td class="wikicell">OnClick</td>
			<td class="wikicell">
			<p>It allows getting the latitude/longitude of any point, just by clicking on the map.<br />
			Values<br />
			• getvalue &amp; center: return coordinates of the clicked point and center the map there.</p>

			<p>• getvalue: return coordinates of the clicked point.</p>

			<p>• none: there is no action when clicking on the map.</p>
			</td>
		</tr>
		<tr>
			<td class="wikicell">Clicklatitude<br />
			Clicklongitude</td>
			<td class="wikicell">This property allows getting the Coordinates when clicking on the marker (Example 4).</td>
		</tr>
		<tr>
			<td class="wikicell"><b>KML</b></td>
			<td class="wikicell"> </td>
		</tr>
		<tr>
			<td class="wikicell">Kml</td>
			<td class="wikicell">Boolean. Allows turning on a Kml Layer</td>
		</tr>
		<tr>
			<td class="wikicell">KmlUrl</td>
			<td class="wikicell">Character. Url of Kml file: i.e : 'gmaps-samples.googlecode.com/svn/trunk/ggeoxml/cta.kml'</td>
		</tr>
		<tr>
			<td class="wikicell"><b>Routing</b></td>
			<td class="wikicell"> </td>
		</tr>
		<tr>
			<td class="wikicell">Travel_Mode</td>
			<td class="wikicell">Driving/Walking. In order to use Routing please check Example 5</td>
		</tr>
	</tbody>
</table></div>

<div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>: The Data binding Icon property still isn't taken into account at runtime.</div>

<h3><a id="Licensing" class="HashLink" href="#Licensing">Licensing</a></h3>

<p>Google Provider: <a href='https://developers.google.com/maps/pricing-and-plans/'>https://developers.google.com/maps/pricing-and-plans/</a><br />
Since 22 June 2016, an ApiKey is required <a href='http://googlegeodevelopers.blogspot.com.uy/2016/06/building-for-scale-updates-to-google.html'>http://googlegeodevelopers.blogspot.com.uy/2016/06/building-for-scale-updates-to-google.html</a><br />
In order to get an API key, go to <a href='http://www.google.com/apis/maps/signup.html'>https://developers.google.com/maps/web/</a> with the following <a href='http://www.google.com/intl/en_ALL/help/terms_maps.html'>terms of use</a>,<br />
Since June 2018 you must include an API key with all API requests and you must enable billing on each of your projects.<br />
<a href='https://developers.google.com/maps/documentation/javascript/usage-and-billing'>https://developers.google.com/maps/documentation/javascript/usage-and-billing</a></p>

<p>Yahoo Provider: The component was discontinued by the provider.</p>

<hr />
<h3><a id="Implementation" class="HashLink" href="#Implementation">Implementation</a></h3>

<p align="left"><strong>Versions:</strong></p>

<p align="left"><strong>9.0.4</strong><br />
Fix de Routing<br />
<strong>9.0.3</strong><br />
Routing new implementation<br />
IMPORTANT: requires google direction APIKEY<br />
<strong>9.0.2</strong><br />
Hidden Yahoo maps<br />
<strong>9.0.1</strong><br />
Styles support<br />
<strong>8.3.11</strong><br />
Movemarker<br />
Change Icon with Baidu maps<br />
Changing City = "Specificate Coordinate" in runtime it doesn't work<br />
<strong>8.3.10</strong><br />
Map size (Width, Height) with Baidu maps it doesn't work<br />
<strong>8.3.9</strong><br />
Routing is broken<br />
Default type routing = Driving<br />
<strong>8.3.8</strong><br />
Clear Circles<br />
Icon path java models fixed<br />
error con On click = GetValue</p>

<p align="left"><strong>8.3.6 - </strong></p>

<p align="left">- Web Panel which includes map is not showing when is called from another Web Panel which includes a map.<br />
- An Event, launched from one button, which creates markers to not work properly.<br />
- Markers are not shown, after refreshing the map.<br />
- Markers images are distributed.<br />
- The snippet code is improved.<br />
- SDT to represent Circles is included.<br />
- Event Click is not working properly.</p>

<p align="left"><strong>8.3.1 - </strong></p>

<p align="left">- An error "You have included the Google Maps API multiple times", occurs using the control in Web Component.<br />
- Double click when zoom is creating marker.<br />
- Circles are implemented.<br />
- Marker Click Event is enabled.<br />
- Snippet code to draw Lines.<br />
- Markers icons update.<br />
- Multiple loads of Google JScript.<br />
- Remove Lines.<br />
- Map contour does not appear at design time, with abstract layout.<br />
- Type Terrain support.<br />
- New properties: icon size and icon anchor.</p>

<p align="left"><strong>8.1 -</strong><br />
It allows API Key configuration.<br />
Icon Url was changed.<br />
Secure URL for accessing API.</p>

<p align="left"><strong>8.0- </strong>Kml support<br />
Routing support.<br />
Breaking Change: GetLatitude, GetLongitude properties are not supported.<br />
In order to Get Latitude and Longitude, please check Example 6 above.<br />
<br />
<strong>7.0- </strong>Distribute GXxev2 U3</p>

<p align="left">Draw lines.<br />
Event GoogleMapControl.Click is enabled.<br />
Map control works fine as dynamic Web Components.</p>

<p align="left"><strong>6.1 - </strong>Add Baidu Maps (China) as a new maps provider. Now you can Draw lines (available on Google and Baidu). Reduced the number of resources requested (now depends on the chosen provider).</p>

<p align="left"><b>6.0 -</b> Distributed with GxXev2. Implementation using<strong> Google map V3 API.</strong><br />
<strong>5.2 -</strong> Distributed with GxXev1 U3.<br />
Geocoding</p>

<p align="left"><b>5.1 -</b> Distributed with GxXev1 U1.<br />
New properties: OpenlinkinNewwindow.<br />
Rename property Get read-only to Onclick and include a new value "getvalue &amp; center".<br />
Fix: when a point is marked, it is possible to use another icon different from the predetermined one.<br />
<b>5.0 -</b> Breaking change: Change the name of the control to GoogleMapControl.<br />
New GetCoordenate section includes GetIcon Property, Get read-only property and getLatitude/getLongitude (both are read-only at design time).<br />
<b>4.0 -</b> Access to new API V2 (required for Ruby prototyping).<br />
It is possible to change the icon color:<br />
For the entire map use the Icon property of the control.<br />
Per each marked point using the PointIcon property of Gxmap.point data type.<br />
<strong>3.1 </strong>- Fix some default values and implement the Access Yahoo Key.<br />
<strong>3.0 - </strong>Include Icon (Google Provider). Include Link description and image (Google, Yahoo).<br />
<strong>2.0 - </strong>Include Ica Provider - Montevideo Local Map.<br />
<strong>1.3 - </strong>Include a fix for Google and Yahoo maps.<br />
<strong>1.2 - </strong>Update the control for breaking change of Build 6884.<br />
<strong>1.0 - </strong>Google and Yahoo map implementation.</p>

<p>You can choose the control provider from the window properties by selecting and setting the <a href="42429.html">Provider property</a>. Your selection depends on your needs because each provider offers different functionalities.</p>

<p><img src="./images/5912.png" id="5912" class="WikiImage"/></p>

<h3><a id="Provider+%3D+Google" class="HashLink" href="#Provider+%3D+Google">Provider = Google</a></h3>

<p align="left"><img src="./images/7350.png" id="7350" class="WikiImage"/></p>

<ul>
	<li>
	<div align="left">City – coordinates (Latitude, Longitude) of the city represented in grades. They are defined in User control/Map/Mapdefinition.xml.</div>
	</li>
	<li>
	<div align="left">Specific Latitude – the value is represented in grades. N/E positive, S/W negative.</div>
	</li>
	<li>
	<div align="left">Specific Longitude – the value is represented in grades. N/E positive, S/W negative.</div>
	</li>
	<li>
	<div align="left">Precision - levels 1 to 16 to indicate the zoom (the higher the number, the closer the zoom).
	<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.setCenter(new GLatLng(This.Latitude,this.Longitude), This.Precision );  </pre>
	</div>
	</li>
	<li>
	<div align="left">Type</div>

	<ul>
		<li>
		<div align="left">Map</div>
		</li>
		<li>
		<div align="left">Satellite Image</div>
		</li>
		<li>
		<div align="left">Hybrid
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
 map.setMapType(this.Type);</pre>
		</div>
		</li>
	</ul>
	</li>
	<li>
	<div align="left">Access Key – the key is obtained from <a href='http://www.google.com/apis/maps/signup.html'>http://www.google.com/apis/maps/signup.html</a>. The URL for publishing the map has to be specified. It has some restrictions such as the number of accesses per day to the page.</div>

	<ul>
		<li>
		<p><strong>Small - </strong>let us pan/zoom the map.</p>

		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addControl(newGSmallMapControl());</pre>
		</li>
		<li>
		<p><strong>SmallZoom</strong></p>

		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addControl(new GSmallZoomControl());</pre>
		</li>
		<li>
		<div align="left"><strong>Type </strong>
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addControl(newGMapTypeControl());</pre>
		</div>
		</li>
		<li>
		<div align="left"><code><strong>Overview</strong></code>(Only Google)
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addControl(new GOverviewMapControl());</pre>
		</div>
		</li>
		<li>
		<div align="left"><strong>Large</strong>
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addControl(new GLargeMapControl());</pre>
		</div>
		</li>
		<li>
		<div align="left"><strong>Scale</strong>
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addControl(new GScaleControl());</pre>
		</div>
		</li>
	</ul>
	</li>
</ul>

<h3><a id="Provider+%3D+Yahoo" class="HashLink" href="#Provider+%3D+Yahoo">Provider = Yahoo</a></h3>

<p><img src="./images/7351.png" id="7351" class="WikiImage"/></p>

<div align="left">Precision - levels 1 to 16 to indicate the zoom (the smaller the number, the closer the zoom).</div>

<ul>
	<li>
	<div align="left">City – Similar to Google's implementation
	<div align="left">
	<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.drawZoomAndCenter(new YGeoPoint(this.Latitude,this.Longitude, this.Precision)</pre>
	</div>
	Type</div>
	</li>
	<li>
	<div align="left">Specific Latitude – the value is represented in grades. N/E positive, S/W negative.</div>
	</li>
	<li>
	<div align="left">Specific Longitude – the value is represented in grades. N/E positive, S/W negative.</div>

	<ul>
		<li>
		<div align="left">Map</div>
		</li>
		<li>
		<div align="left">Satellite Image</div>
		</li>
		<li>
		<div align="left">Hybrid
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.setMapType(value);</pre>
		</div>
		</li>
	</ul>

	<ul>
		<li>
		<div align="left"><strong>Small - </strong>lets us pan/zoom the map.</div>

		<div align="left">
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addZoomLong();</pre>
		</div>
		</li>
		<li>
		<div align="left"><strong><strong>SmallZoom</strong> </strong></div>

		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addZoomShort();</pre>
		</li>
		<li>
		<div align="left"><strong>Type</strong>
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addTypeControl()</pre>
		</div>
		</li>
		<li>
		<div align="left"><strong>Large</strong>
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addPanControl();</pre>
		</div>
		</li>
		<li>
		<div align="left"><strong>Scale</strong>
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
map.addZoomScale()</pre>
		</div>
		</li>
	</ul>
	</li>
</ul>

<p>Please visit: <a href="5920.html">Default Installation Instructions for User Controls</a>.</p>

<p></p>
</div><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="42423.html">Anchor Left property</a></TD><TD><a href="42424.html">Anchor Top property</a></TD><TD><a href="42427.html">Baidu Key property</a></TD></TR><TR><TD><a href="42418.html">Center When Click property</a></TD><TD><a href="42430.html">City property</a></TD><TD><a href="42419.html">Clear_Overlay property</a></TD><TD><a href="42411.html">Click Latitude property</a></TD></TR><TR><TD><a href="42412.html">Click Longitude property</a></TD><TD><a href="42416.html">get Icon property</a></TD><TD><a href="42425.html">Google Api Key property (for GoogleMapControl)</a></TD></TR><TR><TD><a href="42410.html">Gx Map property</a></TD><TD><a href="10447.html">GXGoogle Visualization Library</a></TD><TD><a href="42422.html">Icon Height property</a></TD><TD><a href="42420.html">Icon property</a></TD></TR><TR><TD><a href="42421.html">Icon Width property</a></TD><TD><a href="42413.html">Information Control property</a></TD><TD><a href="42414.html">KML property</a></TD><TD><a href="42415.html">KMLURL property</a></TD></TR><TR><TD><a href="42403.html">Large_Control property</a></TD><TD><a href="42431.html">Latitude property</a></TD><TD><a href="42432.html">Longitude property</a></TD><TD><a href="42404.html">Map Type_Control_Style property</a></TD></TR><TR><TD><a href="41339.html">Map Zoom property</a></TD><TD><a href="41338.html">MapType property</a></TD><TD><a href="42280.html">Max Zoom property</a></TD><TD><a href="42281.html">Min Zoom property</a></TD></TR><TR><TD><a href="42405.html">Navigation_Control_Style property</a></TD><TD><a href="42417.html">Onclick property</a></TD><TD><a href="42426.html">Open Links In New Window property</a></TD><TD><a href="42401.html">Over View_Control property</a></TD></TR><TR><TD><a href="42429.html">Provider property</a></TD><TD><a href="32755.html">Purpose Strings properties group</a></TD><TD><a href="42409.html">Scale_Control property</a></TD><TD><a href="42406.html">Scroll Wheel property</a></TD></TR><TR><TD><a href="42407.html">Small_Control property</a></TD><TD><a href="42402.html">Small_Zoom_Control property</a></TD><TD><a href="42433.html">Style property</a></TD><TD><a href="42428.html">Travel_Mode property</a></TD></TR><TR><TD><a href="42408.html">Type_Control property</a></TD><TD><a href="27212.html">Toc:Web User Controls</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 06/06/22 02:15 PM</em></font></td></TR></table></font>