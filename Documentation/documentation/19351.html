<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Distributing applications with pre-loaded cache</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?19351,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Distributing applications with pre-loaded cache</h1>
<!--Distributing applications with pre-loaded cache--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Distributing a Smart Device application with a pre-loaded data cache solves the scenario of applications with large volumes of data and infrequent updates. For example, an application of cooking recipes could have hundreds or thousands of recipes at the beginning, and later new recipes could be added on the Server. In this case, we want the application to be distributed with all the recipes available, checking them against the server if the tables involved in each query have been changed in order to update them if necessary.</p>

<h4><a id="Fill+cache" class="HashLink" href="#Fill+cache">Fill cache</a></h4>

<p>Using the <a href="14761.html">iOS emulator in a Mac</a>, the application has to be manually run through to reach all the screens for which data is to be cached.</p>

<h4><a id="Embed+Cache+DB+files+in+the+Xcode+project" class="HashLink" href="#Embed+Cache+DB+files+in+the+Xcode+project">Embed Cache DB files in the Xcode project</a></h4>

<p>Locate the files <strong>AppDB.sqlite, AppDB.sqlite-wal and AppDB.sqlite-shm</strong> using the search finder or at /Users/&lt;user&gt;/Library/Developer/CoreSimulator/Devices/&lt;DeviceID&gt;/Data/Containers/Data/Application/&lt;appGUID&gt;<span style="line-height: 1.6em;">/Library/Caches/12345678-1234-1234-1234-123456789012/..., where:</span></p>

<ul>
	<li>&lt;user&gt; is the name of the user logged in at osx.</li>
	<li>&lt;DeviceId&gt; is the id of the emulator being used -it can be obtained running this command on terminal 'xcrun simctl list devices'.</li>
	<li>&lt;appGUID&gt; is a GUID that assigns the emulator to each application. To find the corresponding one, search for the app bundle with the application’s name inside each folder with a GUID.</li>
</ul>

<p><img src="./images/19352.png" id="19352" class="WikiImage"/></p>

<p>For example: /Users/sebadrc/Library/Developer/CoreSimulator/Devices/0283D0A0-CF5E-45F7-ACDF-78E83AB2D971/data/Containers/Data/Application/EC11FFA9-09BC-477D-9348-E5DC78DAB20C/Library/Caches/12345678-1234-1234-1234-123456789012/AppDB.sqlite</p>

<p>Upon finding the files, open the Xcode project of the application and drag them to the tree, as shown below:</p>

<p><img src="./images/19353.png" id="19353" class="WikiImage"/></p>

<p>…and select the check box as shown in the image below:</p>

<p><img src="./images/19354.png" id="19354" class="WikiImage"/></p>

<h3><a id="Images" class="HashLink" href="#Images">Images</a></h3>

<p>To pre-load the cache with images there are some additional steps needed:</p>

<p>a. On the folder as shown on the first image, there is a folder named ImageCache. In that folder there are all the images used on the applicaction that was navigated on the simulator. Compress all the images you want to include on the pre-load of the cache. Take into consideration that is not the same to compress the folder named ImageCache than compressing the files. The commpressed file should have the name ImageCache.zip for this process to work.</p>

<p>b. Include, by drag &amp; drop, this zip file on the Xcode to the project on the GXResources (same folder where the AppDB.sqlite file was added).</p>

<h3><a id="Compile+%2F+Publish" class="HashLink" href="#Compile+%2F+Publish">Compile / Publish</a></h3>

<p>Compile, test, and file, etc. again, always from Xcode. If it is transferred again from GeneXus, the AppDB.sqlite file will have to be embedded again.</p>

<p></p>

<p></p>

<p><br />
<br />
</p>
<br /><br /><br /></td></tr></tbody></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:17 PM</em></font></td></TR></table></font>