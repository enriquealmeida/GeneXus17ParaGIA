<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Column <attname> in table <tablename> already exist</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?14347,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Column <attname> in table <tablename> already exist</h1>
<!--Column <attname> in table <tablename> already exist--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><pre class="prettyprint lang-genexus" style="max-width: 100%">
An error was found in the database schema verification process.
Column CountryZip in table Country already exist
The reorganization process was not successfully completed.</pre>

<p><strong>Scope:</strong> All DBMS</p>

<h4><a id="Cause%3A" class="HashLink" href="#Cause%3A">Cause:</a></h4>

<p>An attempt is made to create a New attribute in a table in which it already exists.</p>

<h4><a id="Solution%3A+" class="HashLink" href="#Solution%3A+">Solution: </a></h4>

<p>Open a backup version, confirm that such attribute does NOT exist in that table and rerun the reorg.</p>

<p>The reorg can be executed ignoring this verification, by adding the parameter - noverifydatabaseschema to the Reorganization Options property, but it isn’t the most advisable option for this particular case.</p>

<p><strong>WARNING:</strong> Depending on the DBMS, this reorg is likely to fail (*)</p>

<p>If there isn’t a backup in that status (equal to the model in the GeneXus KB), another option is to manually fix the database so that it is synchronized with the GX model. In this case, it would involve deleting the attname attribute from the database table.</p>

<p><strong>WARNING:</strong> This attribute could be used by another system (GeneXus or otherwise). The database model should not have to be unsynchronized with the model in the GeneXus KB. Examining why it was left in this status is advisable.  However, this maintenance should be left to GeneXus rather than making changes manually to the database.</p>

<p>(*) if the (-novi… ) verification is ignored and the reorg is executed anyway, for instance, against SQS Server, an error such as the following will be displayed:</p>

<p><span style="font-family: arial;"><span style="font-size: xx-small;">\&quot;C:\Program Files\Java\jdk1.6.0_17\bin\java.exe&quot;  Reorganization -nogui -noverifydatabaseschema<br />
Table Country has 0 records<br />
Updating table Country .<br />
Waiting for 1 submitted procs to end...Updating table Country . STARTED<br />
 <br />
java.sql.SQLException: Column names in each table must be unique. Column name 'CountryZip' in table 'Country' is specified more than once.<br />
                at net.sourceforge.jtds.jdbc.SQLDiagnostic.addDiagnostic(SQLDiagnostic.java:365)<br />
Updating table Country . FAILED at net.sourceforge.jtds.jdbc.TdsCore.tdsErrorToken(TdsCore.java:2781)<br />
 <br />
                at net.sourceforge.jtds.jdbc.TdsCore.nextToken(TdsCore.java:2224)<br />
                at net.sourceforge.jtds.jdbc.TdsCore.getMoreResults(TdsCore.java:628)<br />
                at net.sourceforge.jtds.jdbc.JtdsStatement.processResults(JtdsStatement.java:525)<br />
                at net.sourceforge.jtds.jdbc.JtdsStatement.executeSQL(JtdsStatement.java:487)<br />
                at net.sourceforge.jtds.jdbc.JtdsStatement.executeImpl(JtdsStatement.java:664)<br />
                at net.sourceforge.jtds.jdbc.JtdsStatement.executeUpdate(JtdsStatement.java:1120)<br />
                at net.sourceforge.jtds.jdbc.JtdsStatement.executeUpdate(JtdsStatement.java:1073)<br />
                at com.genexus.db.driver.GXStatement.executeUpdate(Unknown Source)<br />
                at com.genexus.db.DBConnectionManager.executeStatement(Unknown Source)<br />
                at com.genexus.ExecuteDirectSQL.executeWithThrow(Unknown Source)<br />
                at reorg.ReorganizeCountry(reorg.java:53)<br />
                at reorg.submitReorg(reorg.java:208)<br />
                at com.genexus.util.ReorgSubmitThread.run(Unknown Source)<br />
The reorganization process was not successfully completed.<br />
Reorganization Failed<br />
error: Error in reorganization</span></span><br />
<span style="display: none;"> </span></p>

<p><br />
<br />
<br />
<br />
</p>
<br /><br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:16 PM</em></font></td></TR></table></font>