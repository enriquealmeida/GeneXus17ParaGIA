<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>GXtest UI Commands - CompareImage</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?48889,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">GXtest UI Commands - CompareImage</h1>
<!--GXtest UI Commands - CompareImage--><div class="TableWikiBody" id="tblwikibody"><p><img src="./images/49127.png" id="49127" class="WikiImage"/></p>

<p>Compares the second image against the first one. Returns the percentage similarity as an integer number, returning 100 if the images are equal. Images must have similar aspect ratios in order for the comparison to be performed.</p>

<p><strong>Parameters</strong></p>

<ul>
	<li>OriginalImagePath (Character): the path of the image you want to compare the new image against. It also supports references to external images, such as those in a shared drive or the web.</li>
	<li>NewImagePath (Character): the path of the image you want to compare against the original. It also supports references to external images, such as those in a shared drive or the web.</li>
</ul>

<p><strong>Returns</strong></p>

<ul>
	<li>An integer value between 0 and 100 that represents the similarity percentage between the images compared. Equal images return 100.</li>
</ul>

<p><strong>Examples</strong></p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;driver.Verify(&amp;driver.CompareImage(&quot;C:\screenshot1.png&quot;,&quot;C:\screenshot2.png&quot;) &gt; 95, true, &quot;Comparing screenshots&quot;) // Local images

&amp;driver.Verify(&amp;driver.CompareImage(&quot;C:\screenshot1.png&quot;,&quot;https://somewhere/screenshot2.png&quot;) &gt; 95, true, &quot;Comparing screenshots&quot;) // Local image vs web image

&amp;driver.Verify(&amp;driver.CompareImage(ExpectedPageAfterInsert.Link(),&quot;currentScreenshot.png&quot;) &gt; 95, true, &quot;Comparing screenshots&quot;) // KB image vs local relative path image
</pre>

<p> </p>

<p>To view the differences between the images compared, click on the image icon associated with the CompareImage command. The differences will be highlighted with a pink fluor color.</p>

<p><strong>Disclaimers</strong></p>

<ul>
	<li>The best results can be achieved by comparing images with the same resolution.</li>
	<li>Image diff visibility(in the TestResults' window) is only offered when the user compares two images with the same resolution.</li>
	<li>Two images with different resolutions will be compared as long as their aspect ratios (e.g. 16:9 when talking about FHD resolution) are similar. A square image and a rectangular image will give result 0 due to an aspect ratio incompatibility.</li>
	<li>Two images that appear similar can be really different in reality, for example, if one image is offset by 1px, every pixel in that image can potentially be different than the one in the original.</li>
	<li>Two images of the same website taken on two monitors with the same resolution but different scaling (OS setting) will not be comparable.</li>
	<li>Comparing two full-page screenshots of a webpage with dynamic content loading is not a good idea since the result might differ between executions due to loading times.</li>
</ul>

<p> </p>

<p> </p>

<p class="Code"><h3><a id="Availability" class="HashLink" href="#Availability">Availability</a></h3>

<p> This command is available since GeneXus 17 upgrade 6.</p>

<p></p>
</p>

<p></p>

<p></p>
</div><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="38327.html">Toc:Automated Testing</a></TD><TD><a href="43807.html">Changelog GXtest</a></TD><TD><a href="48684.html">GeneXus 17 Upgrade 6</a></TD></TR><TR><TD><a href="49626.html">GXtest UI Commands - CompareImage (<GeneXus 17 Upgrade 6>)</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 11/24/21 01:45 PM</em></font></td></TR></table></font>