<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Command to retrieve information from database</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?24765,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Command to retrieve information from database</h1>
<!--Command to retrieve information from database--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Throughout any application it is necessary to retrieve information from the database in a <a href='http://en.wikipedia.org/wiki/Imperative_programming'>procedural</a> way. Whether <strong>procedures</strong> (the <a href="6664.html">Source</a>), <strong>events</strong> of <a href="6916.html">Web</a>, <a href="https://wiki.genexus.com/commwiki/wiki?7387,," target="_blank">Work</a> or <a href="24829.html">Smart Devices</a> Panels, <strong>events</strong> of <a href="15974.html">Work With for Smart Devices object</a> objects, or <a href="24767.html">subroutines</a> (all places where procedural code is expected.).  </p>

<p>For this, GeneXus has the <strong>For each command</strong>. Used to get a dataset from the database, when used in procedures, besides reading the database, it can also be used in order to update it.</p>

<p>Within a For Each command we define the information we want to read (also write if inside a <a href="6293.html">Procedure object</a>) by specifying the <strong>Transaction Level</strong> from which we want to retrieve information, and the name of the attributes we want to use. The transaction level is known as <strong>Base Trn</strong>. </p>

<h3><a id="Example" class="HashLink" href="#Example">Example</a></h3>

<p>We want to display some information about our customers, so we design the following <a href="6664.html">Procedure</a>:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
For each Customer
    Print Customers
Endfor</pre>

<p>&quot;Customer&quot; is the name of the Transaction (remember the first level of a transaction receives the name of the Transaction itself). &quot;Customers&quot; is the name of the following printBlock defined in the Procedure <a href="5468.html">Layout</a>:</p>

<p><img src="./images/6022.JPG" id="6022" class="WikiImage"/></p>

<p>It can be easily inferred that with this for each command (which contains a <a href="5479.html">Print Command</a> sentence to show customers data) we are trying to display the code, name and country of each customer in the database.</p>

<p>Every time there is a for each command, we are specifying that we want to get some information from the database. GeneXus knows that with a for each command <strong>by default</strong> we want to navigate <strong>one table</strong>, and for each record of that table we want to do something with the associated information (for example: print it).</p>

<h3><a id="Base+table" class="HashLink" href="#Base+table">Base table</a></h3>

<p>So, all for each command by default will navigate one physical table, which is known as &quot;the for each base table&quot;. It is the table associated to the base Trn. A special case arises when using <a href="24456.html">more than one base trn</a>. We will see it later.</p>

<p>In the example above, the for each base table determined by GeneXus to be navigated is CUSTOMER, that is: the table associated to the Trn 'Customer'. And for each customer, his/her country is obtained from the COUNTRY table.</p>

<p><img src="./images/24768.jpg" id="24768" class="WikiImage"/></p>

<p>A related and important concept that you need to learn and consider when defining a For Each is: the <a href="6029.html">Extended Table</a> of a base table.</p>

<h3><a id="Extended+table" class="HashLink" href="#Extended+table">Extended table</a></h3>

<p>After learning the <a href="6029.html">Extended Table</a> concept, you can understand that within any for each command GeneXus will navigate a <strong>base table</strong>, but can access all tables that belong to the <strong>extended table</strong> of that base table, in order to get the necessary information. That is why in the example above the base table is CUSTOMER, but for each customer GeneXus can get its related country, because the COUNTRY table is included in the CUSTOMER's extended table.</p>

<p>Although we can specify that starting point (Base Trn) for the search (it is strongly recommended to do so), it is not mandatory:</p>

<ul>
	<li>When a base TRN is specified, the base table is directly determined. All attributes mentioned within the for each command code (including the attributes mentioned within the invoked print blocks), will have to belong to the corresponding extended table. If not, warnings will be displayed for each attribute not reachable from base table through extended table (&quot;Att is not instantiated in group...&quot;).</li>
</ul>

<ul>
	<li>When not: considering the attributes defined inside the for each (including those mentioned within the invoked print blocks), GeneXus will find out how to retrieve them. How? Finding the least extended table that has all of them, and the base table of that extended table is the one chosen by GeneXus as the for each base table. We don’t need to define which tables they must be obtained from, nor the indexes that must be used to access them. We define which attributes are needed and GeneXus will find out how to retrieve them.</li>
</ul>

<p>Specifying the Base Trn, however, it is easier for GeneXus to understand what you want (and make it faster), and for you to be sure you have been clear and on control. </p>

<p></p>

<p><br />
<br />
<br />
</p>
<br /><br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="6826.html">Category:Database update through procedures</a></TD><TD><a href="24744.html">For Each command</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:16 PM</em></font></td></TR></table></font>