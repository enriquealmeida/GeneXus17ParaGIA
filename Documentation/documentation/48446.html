<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>GAM Repository Connections (GeneXus 17 upgrade 4 or prior)</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?48446,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">GAM Repository Connections (GeneXus 17 upgrade 4 or prior)</h1>
<!--GAM Repository Connections (GeneXus 17 upgrade 4 or prior)--><div class="TableWikiBody" id="tblwikibody"><p>The <a href="19888.html">GeneXus Access Manager</a> Repository connection purpose is to add a security level to the GAM application. So, in order to access to the GAM application it's necessary to establish a Repository connection first, it's like having an API key. </p>

<p>Then, the <a href="16535.html">GAM API</a> methods execute only after the GAM Repository connection is successfully established. More than one connections can be defined for each Repository. This is particularly interesting when many Web or SD Application access the same GAM Repository. In such case, the administrator can control the access to the GAM by managing the Repository connections defined in the database.</p>

<p>The user associated to the Repository connection is called the GAM <a href="15217.html">Connection User</a>.</p>

<p>The connection data is saved in the <a href='http://www2.gxtechnical.com/portal/hgxpp001.aspx?15,4,61,O,S,0,,30451;S;0;A;0;0;CONNECTION.GAM;;;;;;;;;;;;;;;;A;%20%20/%20%20/%20%20;;0;9;;0;;99;;0;1;%200;N;N;S;B;P'>connection.gam file</a>, under the web directory of the GeneXus model.</p>

<h3><a id="Considerations+about+the+GAM+Repository+Connections" class="HashLink" href="#Considerations+about+the+GAM+Repository+Connections">Considerations about the GAM Repository Connections</a></h3>

<p>1. When security is set in the Knowledge Base (<a href="14706.html">Enable Integrated Security Property</a> = Yes), or specifically, any time that a new GAM database has to<br />
be created by GeneXus, a <em>GAM Repository Connection</em> is defined by default. In this case, the GAM connection user name is set by default with the name of the active version.<br />
This information is generated by the GX IDE in the GAM DB for prototyping purposes. Nevertheless, the GAM connection user can be changed as desired before the GAM database is created (see <a href="15769.html">GeneXus Administration of GAM Repository</a> for more information).</p>

<p>Figure 1 shows the default Repository Connection created in the GAM DB, for a KB called &quot;TestRestAuthorization&quot;.</p>

<h6> <img src="./images/16152.png" id="16152" class="WikiImage"/><br />
<img src="./images/16155.png" id="16155" class="WikiImage"/><br />
Figure 1.</h6>

<p>2. One possible scenario is to have n applications using the same GAM Repository.</p>

<p><img src="./images/16156.png" id="16156" class="WikiImage"/></p>

<p><br />
Once a GAM database has been defined, for any other environment or KB which needs to use the same GAM database you have to set existing values for <a href="15217.html">Connection User Name Property</a> and <a href="15218.html">Connection User Password Property</a> (the same as <a href="https://wiki.genexus.com/commwiki/wiki?15215,," target="_blank">Administrator User Name Property</a>). The best option is to define and set a different Repository Connection for each application in this case. This is for performance and security reasons.</p>

<p>The Repository Id property has to be the same in all KBs.</p>

<p>A new connection can be created using the GAM API. The <a href="15935.html">GAM Web Backoffice</a> <span style="background-color: rgb(245,246,245);">also </span>provides an easy way to manage Repository Connections, by clicking on the &quot;Repository Connections&quot; link and accessing &quot;GAMExampleWWconnections&quot;, as shown in the figures.</p>

<p>Figure 2 shows the interface of &quot;Add new GAM Repository Connection&quot; of the GAM backend.</p>

<h6><img src="./images/16157.png" id="16157" class="WikiImage"/><br />
Figure 2.</h6>

<p>After the GAM Connection has been created in the GAM database, it has to be included in the connection.gam file. Figure 3 shows how to save to file the connection created. The <span style="background-color: rgb(245,246,245);">&quot;Connection&quot;</span><span style="background-color: rgb(245,246,245);"> </span>tag has to be copied and pasted to the existing connection.gam to add a new connection to the already existing connections. Otherwise, just create a new connection.gam with the entire XML (&quot;ConnectionCollection&quot; tag).</p>

<p><img src="./images/18606.png" id="18606" class="WikiImage"/></p>

<h6><a id="Figure+3." class="HashLink" href="#Figure+3.">Figure 3.</a></h6>

<p>In summary:</p>

<ul>
	<li>A <em>GAM Repository connection</em> is determined by a Connection User, and is used to establish a connection to the GAM database Repository each time the <span style="background-color: rgb(245,246,245);">GAM </span>API methods are used.</li>
	<li>The GAM connection information is stored in the GAM database and has to be set under the connection.gam file, which has to be included in the server deployment.</li>
	<li>A GAM database may have n <em>GAM Repository Connections</em>; each Repository Connection may be used from a different Knowledge Base or environment that uses the same GAM database.</li>
	<li>The Repository Id is what identifies the repository and has to be kept the same in all KBs which use the same GAM Repository.</li>
	<li>Several Repositories can be stored in the same GAM database, and in this case you need to define a connection for each Repository, updating the connection.gam file accordingly. See <a href="18642.html">HowTo: Creating New Repositories</a> for details.</li>
</ul>

<h3><a id="See+Also" class="HashLink" href="#See+Also">See Also</a></h3>

<p><a href="16151.html">HowTo: Using the same GAM Database by different applications</a><br />
<a href="15769.html">GeneXus Administration of GAM Repository</a><br />
<a href="19245.html">HowTo: Get and Set GAM Repository Connections</a><br />
<a href="19231.html">HowTo: Get GAM Repository connection information and create a connection file</a><br />
 </p>

<p></p>

<p></p>

<p></p>

<p><br />
<br />
</p>

<p><br />
</p>
<br />
<br />
<br />
</div>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 12/28/21 06:24 PM</em></font></td></TR></table></font>