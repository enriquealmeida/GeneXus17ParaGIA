<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Android - FAQ and Common Issues</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?14575,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Android - FAQ and Common Issues</h1>
<!--Android - FAQ and Common Issues--><div class="TableWikiBody" id="tblwikibody"><h2 class="Code"><a id="Which+version+is+supported%3F" class="HashLink" href="#Which+version+is+supported%3F">Which version is supported?</a></h2 class="Code">

<p>Refer to <a href="14449.html">Android Requirements</a> for version specific information.</p>

<h2><a id="Enabling+logging" class="HashLink" href="#Enabling+logging">Enabling logging</a></h2>

<p>Check that you have <a href="17817.html">Enable Logging</a> main object property set to &quot;debug&quot; (i.e. any value but &quot;off&quot;)</p>

<h2><a id="Getting+Crash+Logs+and+Console+Output" class="HashLink" href="#Getting+Crash+Logs+and+Console+Output">Getting Crash Logs and Console Output</a></h2>

<p>In order to see what is happening when app is executing in background exists LogCat. The LogCat is an Android application that allows you to debug your apps or find error stack trace in order to see what is happening in the background of your applications. If you are using the Android emulator instead of a device, you can generate some debugging information by executing the following command line:</p>

<p><span style="font-family: courier new;"><em>&gt; android_sdk_path/platforms-tools/adb.exe </em></span><em><span style="font-family: courier new;">logcat</span></em><span style="font-family: courier new;"><em> &gt; some_path_in_your_machine/some_file_name.txt</em></span></p>

<p>Example:<br />
<span style="font-family: courier new;">&gt; adb.exe </span><span style="font-family: courier new;">logcat</span><span style="font-family: courier new;"> &gt; c:\temp\log</span></p>

<p>Note: check <a href="33331.html">Offline Synchronization Log Level property</a> for offline app debugging</p>

<h2><a id="How+to+customize+the+emulator+%28AVD%29" class="HashLink" href="#How+to+customize+the+emulator+%28AVD%29">How to customize the emulator (AVD)</a></h2>

<p>The AVD used by GeneXus is created the first time an application is run (i.e. F5 is pressed). <a href='https://developer.android.com/studio/run/managing-avds.html'>AVD-Manager tool</a> allows changing AVD properties (e.g. change AVD resolution) when the emulator is not launched and even create new ones. In order to launch a non-default emulator, you must run it manually from the <span style="font-family: courier new;">avdmanager</span>, and then rerun your application from GeneXus.</p>

<h2><a id="How+to+manually+install+the+wiki%3F14974%2CKnowledge%2BBase%2BNavigator+KBN" class="HashLink" href="#How+to+manually+install+the+wiki%3F14974%2CKnowledge%2BBase%2BNavigator+KBN">How to manually install the <a href="14974.html">KBN</a></a></h2>

<p>As of GeneXus 15, KBN prototyping is not available.</p>

<h2><a id="When+a+Menu+%28ex+Dashboard%29+object+is+run%2C+what+options+are+displayed%3F" class="HashLink" href="#When+a+Menu+%28ex+Dashboard%29+object+is+run%2C+what+options+are+displayed%3F">When a Menu (ex Dashboard) object is run, what options are displayed?</a></h2>

<p>The options are obtained from a JSON file located on the server you’re accessing. The content of this metadata can be verified using a browser. The URL has the following aspect <span style="font-family: courier new;">http</span><span style="font-family: courier new;">://&lt;BaseURL&gt;/gxmetadata/&lt;dashboard_name&gt;.menu.json </span>(e.g. http://sdxapps.genexus.com/gcinv10e/gxmetadata/maindashboard.menu.json). </p>

<p>The result should be something as follows:<br />
<br />
<span style="font-family: courier new;">{<br />
  &quot;Dashboard&quot;: {<br />
    &quot;@Title&quot;: &quot;&quot;,<br />
    &quot;@Background&quot;: &quot;&quot;,<br />
    &quot;@Header&quot;: &quot;&quot;,<br />
    &quot;@Icon&quot;: &quot;&quot;,<br />
    &quot;@Class&quot;: &quot;&quot;,<br />
    &quot;instanceProperties&quot;: {<br />
      &quot;@IsMain&quot;: &quot;True&quot;<br />
    },<br />
    &quot;Item&quot;: [<br />
      {<br />
        &quot;@Name&quot;: &quot;Customer&quot;,<br />
        &quot;@Description&quot;: &quot;&quot;,<br />
        &quot;@LowCardinality&quot;: &quot;False&quot;,<br />
        &quot;@Image&quot;: &quot;&quot;,<br />
        &quot;@Class&quot;: &quot;&quot;,<br />
        &quot;@Link&quot;: &quot;&quot;,<br />
        &quot;@LinkType&quot;: &quot;Page&quot;,<br />
        &quot;@Data&quot;: &quot;15cf49b5-fc38-4899-91b5-395d02d79889-WorkWithDevicesCustomer&quot;<br />
      },<br />
     ....<br />
     ]<br />
}</span><br />
</p>

<h4><strong>Note</strong><br />
This answer applies for both Android and iOS.</h4>

<p> </p>

<h2><a id="Troubleshooting" class="HashLink" href="#Troubleshooting">Troubleshooting</a></h2>

<h3><a id="The+android+device+is+connected+by+usb+cable%2C+but+the+emulator+is+always+opened+instead+of+prototyping+with+the+device." class="HashLink" href="#The+android+device+is+connected+by+usb+cable%2C+but+the+emulator+is+always+opened+instead+of+prototyping+with+the+device.">The android device is connected by usb cable, but the emulator is always opened instead of prototyping with the device.</a></h3>

<p><strong>Cause</strong>: The Android driver is not installed. Even if you may see your device model with the Windows Explorer, you may access your device's files, or the Windows Device Manager is showing your device as Portable Device, it doesn't mean that the android device is recognized. Thus, the build process will not find any Android device connected, and the run process check sequence will start a new emulator, using the default AVD.<br />
<strong>Solution</strong>: In order to check if the android device is properly recognized by Windows, you should execute the following command line: <br />
<span style="font-family: courier new;">&gt; android_sdk_path/platforms-tools&gt;/adb.exe devices</span><br />
<img src="./images/38160.png" id="38160" class="WikiImage"/><br />
Another way to check that the android device is recognized as a device for Windows is by opening the Device Manager and look for an ADB interface in the <em>Universal Serial Bus controller</em> node. <br />
<img src="./images/38161.png" id="38161" class="WikiImage"/></p>

<p>If you don't have the driver installed, you may look for it at the factory Internet site and get the suitable driver is by installing the software you use to synchronize the device with your computer. The software will install the adequate driver for your device.</p>

<hr />
<h3><a id="android.util.AndroidException%3A+Can%27t+connect+to+activity+manager%3B+is+the+system+running%3F" class="HashLink" href="#android.util.AndroidException%3A+Can%27t+connect+to+activity+manager%3B+is+the+system+running%3F">android.util.AndroidException: Can't connect to activity manager; is the system running?</a></h3>

<p>Just try pressing F5 again.</p>

<hr />
<h3><a id="Waiting+for+device+to+become+ready...+%28this+may+take+a+while%29%22+and+it+takes+forever" class="HashLink" href="#Waiting+for+device+to+become+ready...+%28this+may+take+a+while%29%22+and+it+takes+forever">Waiting for device to become ready... (this may take a while)&quot; and it takes forever</a></h3>

<p>When compiles an Android application, GeneXus gives the following output and does not progress:<br />
<span style="font-family: courier new;">Command</span><span style="font-family: courier new;">:emulator</span><span style="font-family: courier new;"> -</span><span style="font-family: courier new;">avd</span><span style="font-family: courier new;"> </span><span style="font-family: courier new;">my_gx_avd_instance</span><br />
<span style="font-family: courier new;">Waiting for device to become ready... (this may take a while)</span><br />
Also, if I try to run the emulator manually with this command:<br />
<span style="font-family: courier new;"><em>&gt; android_sdk_path/</em>tools /emulator -avd my_gx_avd_instance </span><br />
...I get:<br />
<span style="font-family: courier new;">emulator: Error: unknown virtual device name: &quot;my_gx_avd_instance &quot;<br />
emulator: could not find virtual device name: &quot;my_gx_avd_instance &quot;</span><br />
However, the AVD exists (can be listed using <span style="font-family: courier new;">avdmanager</span><span style="font-family: courier new;"> list devices</span> command). </p>

<p><strong>Cause</strong>: This is due to a known bug in the SDK emulator.exe app that doesn't find the *.avd file. <br />
<strong>Solution</strong>: Add a System Variable called <span style="font-family: courier new;">ANDROID_SDK_HOME</span> that points to the root of where the SDK Manager is storing your AVD (you can find this path at the top of the list of virtual devices in the SDK Manager).<br />
For example:<br />
<span style="font-family: courier new;">ANDROID_SDK_HOME = &quot;C:\Windows\system32\config\systemprofile\&quot;</span><br />
or<br />
<span style="font-family: courier new;">ANDROID_SDK_HOME  = &quot;C:\User\myuser\&quot;</span><br />
More info <a href='http://techtraveller.blogspot.com/2009/07/android-fixed-unknown-virtual-device.html'>here</a>. Then try again running the emulator.</p>

<hr />
<h3><a id="Run+Developer+Menu+Failed" class="HashLink" href="#Run+Developer+Menu+Failed">Run Developer Menu Failed</a></h3>

<p>Output window shows:</p>

<p>Calculating Mobile Targets...<br />
Command:android list avd<br />
Run Developer Menu Failed</p>

<p><strong>Cause</strong>: GeneXus doesn't find the avd.exe file.<br />
<strong>Solution</strong>: Check <a href="36361.html">Android SDK directory property</a> and  <a href="14449.html">Android Requirements</a> articles.</p>

<hr />
<h3><a id="Error+HTTP+404.0+-+Not+Found" class="HashLink" href="#Error+HTTP+404.0+-+Not+Found">Error HTTP 404.0 - Not Found</a></h3>

<p>When browsing a REST service (e.g. <span style="font-family: courier new;">http//localhost/&lt;ApplicationName&gt;/rest/&lt;transactionName&gt;</span>) the following error appears:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Error HTTP 404.0 - Not Found</pre>

<p><strong>Cause</strong>: The server is running on IIS and URL rewriting is not installed or .svc extension is not properly registered in IIS.<br />
<strong>Solution</strong>: Refer to <a href="14958.html">How to install URL Rewrite</a> and if it does not work, execute the following command at a command prompt : <br />
<span style="font-family: courier new;">&gt; &quot;%WINDIR%\Microsoft.Net\Framework\v3.0\Windows Communication Foundation\ServiceModelReg.exe&quot; -i</span></p>

<hr />
<h3><a id="Failure+NoWiki+2INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATESNoWiki+3" class="HashLink" href="#Failure+NoWiki+2INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATESNoWiki+3">Failure [INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES]</a></h3>

<p>When the F5 process takes place, the following message appears:<br />
<span style="font-family: courier new;">\Command:adb install -r &quot;G:\&lt;models&gt;\my_kb\my_environment\mobile\Android\my_main\bin\my_main.apk&quot;<br />
pkg: /data/local/tmp/my_main.apk<br />
Failure [INSTALL_PARSE_FAILED_INCONSISTENT_CERTIFICATES]<br />
664 KB/s (443392 bytes in 0.651s)<br />
Android Execution<br />
Failed Run Developer Menu Failed</span></p>

<p class="Code"><span style="font-family: arial;"><strong>Cause</strong>:</span> The application was marked with a different release key that is already installed on the device.<br />
<span style="font-family: arial;"><strong>Solution</strong>: </span>Uninstall the application from the emulator and execute F5 again.</p>

<hr />
<h3><a id="Failure+NoWiki+2INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTIONNoWiki+3" class="HashLink" href="#Failure+NoWiki+2INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTIONNoWiki+3">Failure [INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION]</a></h3>

<p>When running the application (i.e. from F5) the following message appears:<br />
<span style="font-family: courier new;">Command:</span><span style="font-family: courier new;">adb</span><span style="font-family: courier new;"> install -r &quot;C:\temp\my_kb\my_environment\mobile\Android\my_main\bin\my_main.apk&quot;<br />
pkg: /data/local/</span><span style="font-family: courier new;">tmp</span><span style="font-family: courier new;">/my_main.apk<br />
Failure [INSTALL_PARSE_FAILED_UNEXPECTED_EXCEPTION]<br />
Android Execution<br />
Failed Run Developer Menu Failed</span></p>

<p><span style="font-family: arial;"><strong>Cause</strong>: </span>This error occurs at the end of the build process when GX is trying to sign the application with SDK 7. <br />
<span style="font-family: arial;"><strong>Solution</strong>: </span>Please, uninstall this version and install the JDK 6 or JDK 8 instead</p>

<hr />
<h3><a id="Failure+NoWiki+2INSTALL_FAILED_INSUFFICIENT_STORAGENoWiki+3" class="HashLink" href="#Failure+NoWiki+2INSTALL_FAILED_INSUFFICIENT_STORAGENoWiki+3">Failure [INSTALL_FAILED_INSUFFICIENT_STORAGE]</a></h3>

<p>When running the application (i.e. from F5) the following message appears:<br />
<span style="font-family: courier new;">Command</span><span style="font-family: courier new;">:emulator</span><span style="font-family: courier new;"> -</span><span style="font-family: courier new;">avd<span style="font-family: courier new;"> </span>my_gx_avd_instance </span><br />
<span style="font-family: courier new;">Waiting for device to become ready... (this may take a while)<br />
Command:</span><span style="font-family: courier new;">adb</span><span style="font-family: courier new;"> install -r &quot;C:\model\my_kb\my_environment\mobile\Android\my_main\bin\\my_main.apk&quot;<br />
pkg: /data/local/</span><span style="font-family: courier new;">tmp</span><span style="font-family: courier new;">/my_main.apk<br />
Failure [INSTALL_FAILED_INSUFFICIENT_STORAGE]<br />
Android Execution Failed<br />
Run Developer Menu Failed</span></p>

<p><strong>Cause</strong>: The emulator is run anyway but the application has not been deployed, so it could show an error or run the previously deployed application (e.g. Dashboard.apk previous version). Storage full status is shown as follows:<br />
<img src="./images/17000.PNG" id="17000" class="WikiImage"/><br />
<strong>Solution</strong>: Remove the default generated AVD by using avdmanager tool. When the application is run again, the AVD will be automatically created.</p>

<hr />
<h3><a id="Error%3A+Activity+not+started%2C+unable+to+resolve+Intent+%7B+act%3Dandroid.intent.action.VIEW+dat%3DAndroid+flg%3D0x10000000+%7D" class="HashLink" href="#Error%3A+Activity+not+started%2C+unable+to+resolve+Intent+%7B+act%3Dandroid.intent.action.VIEW+dat%3DAndroid+flg%3D0x10000000+%7D">Error: Activity not started, unable to resolve Intent { act=android.intent.action.VIEW dat=Android flg=0x10000000 }</a></h3>

<p>When running the application the following message appears:<br />
<span style="font-family: courier new;">Command:</span><span style="font-family: courier new;">adb</span><span style="font-family: courier new;"> install -r &quot;C:\Archivos de programa\ARTech\GeneXus\GeneXusXEv2\Android\GenexusPrototyper.</span><span style="font-family: courier new;">apk</span><span style="font-family: courier new;">&quot;<br />
pkg: /data/local/</span><span style="font-family: courier new;">tmp</span><span style="font-family: courier new;">/GenexusPrototyp<br />
er.apk Success 306 KB/s (0 bytes in 440906.001s)<br />
Command:</span><span style="font-family: courier new;">adb</span><span style="font-family: courier new;"> shell am start -n com.artech/.PrototyperActivity -e </span><span style="font-family: courier new;">url</span><span style="font-family: courier new;"> http://10.0.2.2:10080/FirstAndroidappRubyEnvironment/ -e name<br />
First Android app Starting: Intent { act=android.intent.action.VIEW dat=Android }<br />
Error: Activity not started, unable to resolve Intent { act=android.intent.action.VIEW dat=Android flg=0x10000000 }</span></p>

<p><strong>Cause</strong>: Your model directory path has spaces that Android-SDK cannot resolve properly.<br />
<strong>Solution</strong>: Refer to <a href='http://stackoverflow.com/questions/4374660/dex-not-working-with-spaces-in-path-on-the-new-android-platform-tools-v8'>StackOverflow - dex not working with spaces in path on the new android platform tools v8</a></p>

<hr />
<h3><a id="Error%3A+Failure+NoWiki+14" class="HashLink" href="#Error%3A+Failure+NoWiki+14">Error: Failure [INSTALL_FAILED_MISSING_SHARED_LIBRARY]</a></h3>

<p>When running the application the following error appears:<br />
<span style="font-family: courier new;">Command:adb install -r &quot;C:\myModel\Data\mobile\Android\App\bin\App.apk&quot;<br />
pkg: /data/local/tmp/App.apk<br />
Failure [INSTALL_FAILED_MISSING_SHARED_LIBRARY]<br />
Command:adb shell am start -n com.artech.mymodel.App/.Main<br />
Starting: Intent { cmp=com.artech.mymodel.App/.Main } Error type 3<br />
Error: Activity class {com.artech.myModel.App/com.artech.myModel.App.Main} does not exist.</span></p>

<p><strong>Causes</strong>:</p>

<ol>
	<li>Google API is not installed.</li>
	<li>The AVD is damaged - repair it using AVD Manager or delete it (It'll be created next time the application is run).</li>
</ol>

<p><strong>Solution</strong>: Check <a href="14449.html">Android-SDK requirements</a> or repair the AVD by using avdmanager tool (or simply delete it -- It'll be created again the next time the application is run).</p>

<hr />
<h3><a id="Error%3A+Failure+NoWiki+16" class="HashLink" href="#Error%3A+Failure+NoWiki+16">Error: Failure [INSTALL_FAILED_DEXOPT]</a></h3>

<p>When running the application the following error appears:<br />
<span style="font-family: courier new;">Command:</span><span style="font-family: courier new;">adb</span><span style="font-family: courier new;"> install -r &quot;c:\..WorkWithDevicesCustomer.</span><span style="font-family: courier new;">apk</span><span style="font-family: courier new;">&quot;<br />
pkg: /data/local/</span><span style="font-family: courier new;">tmp</span><span style="font-family: courier new;">/WorkWithDevicesCustomer.apk<br />
Failure  [INSTALL_FAILED_DEXOPT] </span></p>

<p><strong>Causes</strong>: the application was previously installed using different Libraries version.<br />
<strong>Solution</strong>: delete the <span style="font-family: courier new;">my_gx_avd_instance </span>emulator using AVD Manager or deleting <span style="font-family: courier new;">C:\Users\&lt;my_user&gt;\.android\.</span><span style="font-family: courier new;">avd</span><span style="font-family: courier new;"> </span>directory. It will be created next time F5 (run) is executed.</p>

<hr />
<h3><a id="Error%3A+No+Internet+Connection" class="HashLink" href="#Error%3A+No+Internet+Connection">Error: No Internet Connection</a></h3>

<p>When running the application the following error appears:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
No internet connection</pre>

<p><strong>Cause</strong>: The emulator has no access to the internet (you can check it by openning a website through the device browser). The root cause could be: </p>

<ol>
	<li>Your machine has no internet access</li>
	<li>Your launched emulator has no internet access (WiFi or data-plan is off).</li>
</ol>

<p><strong>Solution</strong>: Delete the default generated emulator by using avdmanager tool. It will be created the next time F5 (run) is executed with Internet access by default. Refer to <a href='http://stackoverflow.com/questions/2437366/android-emulator-internet-access'>StackOverlof - Android emulator internet access</a></p>

<hr />
<h3><a id="Error%3A+UNEXPECTED+TOP-LEVEL+EXCEPTION" class="HashLink" href="#Error%3A+UNEXPECTED+TOP-LEVEL+EXCEPTION">Error: UNEXPECTED TOP-LEVEL EXCEPTION</a></h3>

<p>When compiling the application an error like the following occurs:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
[dx] UNEXPECTED TOP-LEVEL EXCEPTION:
[dx] com.android.dx.util.DexException: Cannot merge new index 66032 into a non-jumbo instruction!
[dx]     at com.android.dx.merge.InstructionTransformer.jumboCheck(InstructionTransformer.java:108)
[dx]     at com.android.dx.merge.InstructionTransformer.access$800(InstructionTransformer.java:25)
[dx]     at com.android.dx.merge.InstructionTransformer$StringVisitor.visit(InstructionTransformer.java:71)
[dx]     at com.android.dx.io.CodeReader.callVisit(CodeReader.java:114)
[dx]     at com.android.dx.io.CodeReader.visitAll(CodeReader.java:89)
[dx]     at com.android.dx.merge.InstructionTransformer.transform(InstructionTransformer.java:48)
[dx]     at com.android.dx.merge.DexMerger.transformCode(DexMerger.java:808)
[dx]     at com.android.dx.merge.DexMerger.transformMethods(DexMerger.java:779)
[dx]     at com.android.dx.merge.DexMerger.transformClassData(DexMerger..java:751)
[dx]     at com.android.dx.merge.DexMerger.transformClassDef(DexMerger.java:654)
[dx]     at com.android.dx.merge.DexMerger.mergeClassDefs(DexMerger.java:526)
[dx]     at com.android.dx.merge.DexMerger.mergeDexBuffers(DexMerger.java:168)
[dx]     at com.android.dx.merge.DexMerger.merge(DexMerger.java:186)
[dx]     at com.android.dx.command.dexer.Main.mergeLibraryDexBuffers(Main.java:300)
[dx]     at com.android.dx.command.dexer.Main.run(Main.java:232)
[dx]     at com.android.dx.command.dexer.Main.main(Main.java:174)
[dx]     at com.android.dx.command.Main.main(Main.java:91)

</pre>

<p><strong>Cause</strong>: There is a setting issue resolved as of <a href="https://wiki.genexus.com/commwiki/wiki?23074,," target="_blank">GeneXus Tilo Beta 2</a>.</p>

<p><strong>Solution:  </strong>You have to manually add the line <em>dex.force.jumbo=true</em> to the file <em>&lt;GX&gt;/Android/Templates/default.properties </em>or <em style="line-height: 20.8px;">&lt;GX&gt;/Android/Templates/project.properties</em><em><b>, </b></em>delete<em> </em><em>&lt;model&gt;\mobile\android\ </em>directory and compile again.</p>

<hr style="line-height: 20.8px;" />
<h3><a id="Error%3A+Unable+to+resolve+project+target" class="HashLink" href="#Error%3A+Unable+to+resolve+project+target">Error: Unable to resolve project target</a></h3>

<p style="line-height: 20.8px;">When running the application similar error as follows appears:</p>

<pre class="Code" style="line-height: 20.8px;">
error: BUILD FAILED
error: C:\Android-SDK\tools\ant\build.xml:542: Unable to resolve project target 'android-23'
error: 
error: Total time: 3 seconds
Android Compilation Failed
Run MyMain Failed
</pre>

<p style="line-height: 20.8px;"><strong>Cause</strong>: You are using a GeneXus upgrade that is tries to use a newest Android-SDK that you have installed.<br />
<strong>Solution: </strong>You must update your SDK since SDK Platform and Google APIs are required. <a href="14449.html">Learn more</a>.</p>

<hr />
<h3 style="line-height: 20.8px;"><a id="An+implementation+for+object+%27xxx%27+was+not+found+in+package." class="HashLink" href="#An+implementation+for+object+%27xxx%27+was+not+found+in+package.">An implementation for object 'xxx' was not found in package.</a></h3 style="line-height: 20.8px;">

<p style="line-height: 20.8px;"><strong>Cause</strong>: This error may appear in runtime if an <a href="22221.html">offline</a> object is called by an <a href="14981.html">online</a> app.<br />
<strong>Solution</strong>: That scenario is not supported.</p>

<hr />
<h3><a id="Error%3A+AAPT+err%28Facade+for+24252884%29%3A+libpng+error%3A+CgBI%3A+unhandled+critical+chunk+" class="HashLink" href="#Error%3A+AAPT+err%28Facade+for+24252884%29%3A+libpng+error%3A+CgBI%3A+unhandled+critical+chunk+">Error: AAPT err(Facade for 24252884): libpng error: CgBI: unhandled critical chunk </a></h3>

<p>When compiling the Android application the following error appears:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
AAPT err(Facade for 24252884): libpng error: CgBI: unhandled critical chunk </pre>

<p><strong>Cause</strong>: There are image extension integrity issues.<br />
<strong>Solution</strong>: Run the <a href='http://www.libpng.org/pub/png/apps/pngcheck.html'>pngcheck tool</a> on different directories res\drawable-&lt;density&gt; of the main object, to verify the integrity of PNG, JNG and MNG files.</p>

<hr />
<h3><a id="Error+Could+not+reserve+enough+space+for+2097152KB+object+heap" class="HashLink" href="#Error+Could+not+reserve+enough+space+for+2097152KB+object+heap">Error Could not reserve enough space for 2097152KB object heap</a></h3>

<p>When building the application the following error appears:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
FAILURE: Build failed with an exception.
* What went wrong:
Unable to start the daemon process.
This problem might be caused by incorrect configuration of the daemon.
For example, an unrecognized jvm option is used.
Please refer to the user guide chapter on the daemon at [https://docs.gradle.org/2.13/userguide/gradle_daemon.html]
Please read the following process output to find out more:
-----------------------
Error occurred during initialization of VM
Could not reserve enough space for 2097152KB object heap
* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</pre>

<p><strong>Cause</strong>: JDK x64 is not installed or the PC has not memory enough to build the Gradle project (at least 2GB). <br />
<strong>Solution</strong>: Check the  <a href="14449.html">Android Requirements</a> and/or change <a href="31449.html">Android specific properties</a> to assign less memory to Gradle. Alternatively, delete the<em> %USERPROFILE%/.Gradle</em> directory, and Rebuild-All.</p>

<hr />
<h3><a id="Emulator+%27GeneXus-API24-X86%27+was+launched%2C+but+timed+out+waiting+for+it+to+respond." class="HashLink" href="#Emulator+%27GeneXus-API24-X86%27+was+launched%2C+but+timed+out+waiting+for+it+to+respond.">Emulator 'GeneXus-API24-X86' was launched, but timed out waiting for it to respond.</a></h3>

<p>When building the application the following error appears:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
========== Android Execution started ==========
Creating Android Virtual Device 'GeneXus-API24-X86'...
Command: android create avd --name GeneXus-API24-X86 --target android-24 --abi google_apis/x86 --skin WXGA720 --device &quot;Nexus 4&quot; --sdcard 200M
Launching Android Virtual Device 'GeneXus-API23-X86'...
Command: emulator -avd GeneXus-API24-X86 -gpu auto
Waiting for device to become ready... (this may take a while)
error: Emulator 'GeneXus-API24-X86' was launched, but we timed out waiting for it to respond.
Android Execution Failed
Run SDLlevoTodo Failed</pre>

<p><strong>Cause</strong>: There is an ADB process already running on your machine or the AVD is corrupted.<br />
<strong>Solution</strong>: Check if there exists an adb.exe program executing (use the Task Manager). In such case, kill the process and retry.<br />
If the problem persists, delete the <em>%USERPOFILE%/.Android/</em><em>avd</em> directory.</p>

<hr />
<h3><a id="The+%22android%22+command+is+no+longer+available." class="HashLink" href="#The+%22android%22+command+is+no+longer+available.">The &quot;android&quot; command is no longer available.</a></h3>

<p>When building the application the following error appears:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
error: Error creating Android Virtual Device 'GeneXus-API24-X86'.
The &quot;android&quot; command is no longer available.
For manual SDK and AVD management, please use Android Studio.
For command-line tools, use
tools\bin\sdkmanager.bat and tools\bin\avdmanager.bat</pre>

<p><strong>Cause</strong>: As of Android-SDK 25.3.0, Google has changed its command tools and make them non-backward compatible. This requirement was introduced to the Android Generator as of <a href="https://wiki.genexus.com/commwiki/wiki?34646,," target="_blank">GeneXus 15 Upgrade 5</a>. For that reason, once the developer updates this requirement without backing up previous requirements (set in <a href="31449.html">Android SDK Directory property</a>), it is not possible for previous versions of GeneXus to create a new AVD or run an existing one. In other words, GeneXus Android Generator is trying to use a newer version of the Android-SDK that is non-backward compatible.<br />
<strong>Solution</strong>: There are two alternatives for avoiding this problem.</p>

<ol>
	<li>Migrate your application to <a href="https://wiki.genexus.com/commwiki/wiki?34646,," target="_blank">GeneXus 15 Upgrade 5</a> and use <a href="35473.html">Update Android SDK tool</a>.</li>
	<li>Reconstruct the Android-SDK required for that GeneXus upgrade. This process can be done as follows:<br />
	1) Duplicate your Android-SDK installation directory in order to backtrack changes if some problem occurs (e.g. <em>/Android-SDK</em> and <em>/Android-SDK-GeneXus-15u3</em>).<br />
	2) Download the previous requirements from <a href='http://dl.google.com/android/repository/tools_r25.2.3-windows.zip'>this site</a>.<br />
	3) Once the *.zip file is downloaded, you must replace the <em>/tool </em>directory on your Android-SDK directory (i.e. <em>/Android-SDK-GeneXus15u3</em>).<br />
	4) Ensure that your <a href="14449.html">Android Requirements</a> are according to your GeneXus upgrade (It might be helpful the &quot;SDK Manager.exe&quot; program or Android.bat).<br />
	5) Set the <a href="31449.html">Android SDK Directory property</a>) with the installation folder which we have previously modified.</li>
</ol>

<hr />
<h3><a id="Windows+cannot+find+%27%5Clib%5Cmonitor-location%27." class="HashLink" href="#Windows+cannot+find+%27%5Clib%5Cmonitor-location%27.">Windows cannot find '\lib\monitor-location'.</a></h3>

<p>When executing <em>monitor.bat</em> tool from Android-SDK for debugging purposes, the following dialog is displayed:</p>

<p><img src="./images/35804.png" id="35804" class="WikiImage"/></p>

<p><strong>Cause</strong>: As of Android-SDK 25.3.0, Google has deprecated the <em>logcat</em><em> </em>debugging by using the <em>monitor.bat</em> tool. <br />
<strong>Solution</strong>: Execute the <a href='https://developer.android.com/studio/command-line/logcat.html#outputFormat'>logcat</a><a href='https://developer.android.com/studio/command-line/logcat.html#outputFormat'> of </a><a href='https://developer.android.com/studio/command-line/logcat.html#outputFormat'>adb</a><a href='https://developer.android.com/studio/command-line/logcat.html#outputFormat'> command line tool</a>. Below there is an example of how can execute the command</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&gt; adb logcat -v tag GeneXusApplication:* System.out:I *:S</pre>

<p style="margin-left: 40.0px;"><em>Note</em>: You must ensure that <em>adb</em> tool is reachable from the CMD by adding to the <em>Android-SDK\platform-tools </em>directory to the <em>environment variables</em> or you must be positioned in that directory before executing the command.</p>

<p>This command will filter only those GeneXus applications and System output streams from all the process running on the device.</p>

<hr />
<h3><a id="Error%3A+Android+Virtual+Device+%27GeneXus-API24-X86%27+already+exists" class="HashLink" href="#Error%3A+Android+Virtual+Device+%27GeneXus-API24-X86%27+already+exists">Error: Android Virtual Device 'GeneXus-API24-X86' already exists</a></h3>

<p>When running an Android application the AVD (Android Virtual Device) is not recognized and the following message is displayed:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
========== Execution started ==========
Execution Success
Calculating Mobile Targets for SmartDevices (Smart Devices)
========== Android Execution started ==========
Creating Android Virtual Device 'GeneXus-API24-X86'...
Command: avdmanager create avd --name GeneXus-API24-X86 --package system-images;android-24;google_apis;x86 --abi google_apis/x86 --device &quot;Nexus 4&quot; --sdcard 200M
error: Error creating Android Virtual Device 'GeneXus-API24-X86'.
Error: Android Virtual Device 'GeneXus-API24-X86' already exists.
Use --force if you want to replace it.

Android Execution Failed</pre>

<p><strong>Cause</strong>: As of <a href="https://wiki.genexus.com/commwiki/wiki?34646,," target="_blank">GeneXus 15 Upgrade 5</a>, due to the Android SDK requirements of Android SDK, Google has made the avdmanager tool non-backward compatible, unrecognizing those AVDs created with previous versions of this tool.<br />
<strong>Solution</strong>: You must delete the following resources and run (F5) the application again.</p>

<ul>
	<li>%USERPROFILE%\.android\avd\GeneXus-API24-X86.avd </li>
	<li>%USERPROFILE%\.android\avd\GeneXus-API24-X86.ini</li>
</ul>

<hr />
<h3><a id="Chronometer+control+does+not+trigger+Tick+event" class="HashLink" href="#Chronometer+control+does+not+trigger+Tick+event">Chronometer control does not trigger Tick event</a></h3>

<p>This undesired behavior causes the application does not work properly according to my business logic.</p>

<p><strong>Cause</strong>: You are running the app on Android 8.0 or higher version and Chronometer control is invisible. This behavior is a known bad practice for Google since Chronometer is a UI widget, no an async task.<br />
<strong>Solution</strong>: Make the control visible and assign 0dip on its container row height.</p>

<hr />
<h3><a id="Error%3A+File+path+too+long+on+Windows%2C+keep+below+240+characters" class="HashLink" href="#Error%3A+File+path+too+long+on+Windows%2C+keep+below+240+characters">Error: File path too long on Windows, keep below 240 characters</a></h3>

<p><strong>Cause:</strong> The path to a resource is too long.<br />
<strong>Solution</strong>: Shorten the path of the KB. ref.: <a href='https://stackoverflow.com/questions/33905687/error-file-path-too-long-on-windows-keep-below-240-characters'>https://stackoverflow.com/questions/33905687/error-file-path-too-long-on-windows-keep-below-240-characters</a>. Depending on your Windows version, you may enable long paths: <a href='https://betanews.com/2016/05/29/long-paths-windows-10/'>https://betanews.com/2016/05/29/long-paths-windows-10/</a></p>

<hr />
<h3><a id="Gradle+build+daemon+has+been+stopped%3A+stop+command+received" class="HashLink" href="#Gradle+build+daemon+has+been+stopped%3A+stop+command+received">Gradle build daemon has been stopped: stop command received</a></h3>

<p><strong>Cause</strong>: You may have multiple KBs building and running Android apps on your computer, and one of them has been closed. Gradle daemon is reused, and once it has been killed, other apps cannot be built, producing such error. <br />
<strong>Solution</strong>: Disable daemon when building your apps. This can be done by setting Gradle Options property by replacing &quot;--daemon&quot; flag with &quot;--no-daemon&quot;.</p>

<hr />
<h3><a id="error%3A+Emulator+%27GeneXus-API16-ARM%27+was+launched%2C+but+we+timed+out+waiting+for+it+to+respond." class="HashLink" href="#error%3A+Emulator+%27GeneXus-API16-ARM%27+was+launched%2C+but+we+timed+out+waiting+for+it+to+respond.">error: Emulator 'GeneXus-API16-ARM' was launched, but we timed out waiting for it to respond.</a></h3>

<p>The above message was displayed after 6 minutes trying to run the emulator (by executing <span style="font-family: courier new;">emulator -</span><span style="font-family: courier new;">avd</span><span style="font-family: courier new;"> my_gx_avd_instance</span> command).<br />
In a second try, I have the following error:<br />
<span style="font-family: courier new;">error: Error starting Android Virtual Device 'GeneXus-API16-ARM'.<br />
glMatrixMode:1543 GL err 0x500</span><br />
Also, if I execute the command manually in the terminal, I have this another error:<br />
<span style="font-family: courier new;">PANIC: Missing emulator engine program for 'arm' CPU.</span></p>

<p><strong>Cause</strong>: You may be running GeneXus in a VM (Virtual Machine) or using Parallels in a Mac, but Android emulator cannot start properly due to GPU instability. <br />
<strong>Solution</strong>: Run the emulator manually by disabling GPU acceleration. This can be done by executing this command:<br />
<span style="font-family: courier new;">C:/&lt;android-sdk-path&gt;/emulator &gt; emulator.exe -</span><span style="font-family: courier new;">avd</span><span style="font-family: courier new;"> GeneXus-API16-ARM -</span><span style="font-family: courier new;">gpu</span><span style="font-family: courier new;"> off </span></p>

<hr />
<h3><a id="Error%3A+Error+exists+in+the+bytecode" class="HashLink" href="#Error%3A+Error+exists+in+the+bytecode"><strong>Error:</strong> Error exists in the bytecode</a></h3>

<p>error: A problem occurred configuring project ':SD_HOME'.<br />
error: &gt; Failed to notify project evaluation listener.<br />
error:    &gt; Uninitialized object exists on backward branch 142<br />
error:      Exception Details:<br />
error:        Location:<br />
error:          com/android/build/gradle/internal/pipeline/VariantInfoImpl.&lt;init&gt;(Lcom/android/build/gradle/internal/scope/VariantScope;)V @200: goto<br />
error:        Reason:<br />
error:          Error exists in the bytecode<br />
error:        Bytecode:</p>

<p><strong>Cause</strong>: Known error, produced in some versions of JDK 1.8.<br />
<strong>Solution</strong>: Update to the latest version of JDK 1.8 available.</p>

<hr />
<h3><a id="Build+error+when+using+a+Proxy%3A" class="HashLink" href="#Build+error+when+using+a+Proxy%3A"><strong>Build error when using a Proxy:</strong></a></h3>

<p>In <a href="https://wiki.genexus.com/commwiki/wiki?43446,," target="_blank">GeneXus 16 upgrade 5</a> (or higher), when using a proxy connection, errors are encountered in compilation because the Android generator requires an Internet connection. To avoid such errors the Proxy's properties must be set up within the Gradle option property. To achieve this, the following documents must be checked: <a href='https://docs.gradle.org/current/userguide/build_environment.html#sec:accessing_the_web_via_a_proxy'>Build Environment</a></p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
==========
Android Compilation started ==========

Command:
gradle :PanelSmartDevices1:assembleDebug --no-daemon --parallel
-Dorg.gradle.jvmargs=-Xmx3072m
-Dorg.gradle.internal.launcher.welcomeMessageEnabled=false
To honour
the JVM settings for this build a new JVM will be forked. Please consider using
the daemon: https://docs.gradle.org/5.4.1/userguide/gradle_daemon.html.
Daemon will
be stopped at the end of the build stopping after processing
Configuration
on demand is an incubating feature.
FAILURE: Build failed with an exception.
What went wrong:
error: A
problem occurred configuring root project Android.
error: &gt;
Could not resolve all artifacts for configuration :classpath.
error:
&gt; Could not resolve com.android.tools.build:gradle:3.4.1.
error:
&gt; Could not resolve com.android.tools.build:gradle:3.4.1.
error:
&gt; Could not get resource
https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.4.1/gradle-3.4.1.pom.
error:
&gt; Could not GET
https://dl.google.com/dl/android/maven2/com/android/tools/build/gradle/3.4.1/gradle-3.4.1.pom.
error:
&gt; dl.google.com
error:
&gt; Could not resolve com.android.tools.build:gradle:3.4.1.
error:
&gt; Could not get resource
https://jcenter.bintray.com/com/android/tools/build/gradle/3.4.1/gradle-3.4.1.pom.
error:
&gt; Could not GET
https://jcenter.bintray.com/com/android/tools/build/gradle/3.4.1/gradle-3.4.1.pom.
error:
&gt; jcenter.bintray.com
error:
&gt; Could not resolve com.google.gms:google-services:4.2.0.
error:
&gt; Could not resolve com.google.gms:google-services:4.2.0.
error:
&gt; Could not get resource
https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.2.0/google-services-4.2.0.pom.
error:
&gt; Could not GET https://dl.google.com/dl/android/maven2/com/google/gms/google-services/4.2.0/google-services-4.2.0.pom.
error:
&gt; Ã‰ste es normalmente un error temporal durante la resolución de nombres
de host y significa que el servidor local no recibió una respuesta de un
servidor autoritativo (dl.google.com)
error:
&gt; Could not resolve com.google.gms:google-services:4.2.0.
error:
&gt; Could not get resource
https://jcenter.bintray.com/com/google/gms/google-services/4.2.0/google-services-4.2.0.pom.
error:
&gt; Could not GET
https://jcenter.bintray.com/com/google/gms/google-services/4.2.0/google-services-4.2.0.pom.
error:
&gt; Ã‰ste es normalmente un error temporal durante la resolución de nombres
de host y significa que el servidor local no recibió una respuesta de un
servidor autoritativo (jcenter.bintray.com)
error: Run
with --stacktrace option to get the stack trace. Run with --info or --debug
option to get more log output. Run with --scan to get full insights.
error: 
Get more help at https://help.gradle.org
error:
BUILD FAILED in 24s
</pre>

<p>In this case it is not possible to connect to the URL <em>dl.google.com</em>. Besides configuring the associated proxy parameters in gradle, in some cases will need to download and install certificates, you could execute commands similar to the following:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
# Certificate for my company
keytool -import -trustcacerts -alias SomeName -file SomeFile.cer -keystore cacerts
# Other certificates
keytool -import -trustcacerts -alias Bintray -file Bintray.cer -keystore cacerts
keytool -import -trustcacerts -alias Gradle -file Gradle.cer -keystore cacerts
</pre>

<p></p>
</div><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="14453.html">Category:Android platform</a></TD><TD><a href="14449.html">Android Requirements</a></TD></TR><TR><TD><a href="18270.html">Emulation for Android</a></TD><TD><a href="14910.html">Execution for Android Using the Device</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 10/13/21 12:29 PM</em></font></td></TR></table></font>