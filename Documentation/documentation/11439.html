<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>HowTo: Listing Workitems Filtered by Status</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?11439,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">HowTo: Listing Workitems Filtered by Status</h1>
<!--HowTo: Listing Workitems Filtered by Status--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>
	To list workitems, first we have to connect to the engine using the connect method associated with the WorkflowServer data type. To connect to the engine, we need a user with administrator role.<br />
	<br />
	Next, we load the filter, which in this case is status. To do so, we use the enumerated domain WorkflowWorkitemState that has the following possible values:<br />
	<br />
	 OPEN<br />
	 OPEN_ACTIVE<br />
	 OPEN_ACTIVE_READY<br />
	 OPEN_ACTIVE_ASSIGNED<br />
	 OPEN_ACTIVE_INPROCESS<br />
	 OPEN_SUSPENDED<br />
	 CLOSED<br />
	 CLOSED_COMPLETED<br />
	 CLOSED_ABNORMAL<br />
	 CLOSED_ABNORMAL_ABORTED<br />
	 CLOSED_ABNORMAL_CANCELED<br />
	 CLOSED_ABNORMAL_DELEGATED<br />
	 CLOSED_ABNORMAL_EXPIRED<br />
	 CLOSED_ABNORMAL_INTERRUPTED<br />
	 CLOSED_ABNORMAL_SKIPPED<br />
	 CLOSED_ABNORMAL_TERMINATED<br />
	 CLOSED_ABNORMAL_UNDONE<br />
	<br />
	We use the ListWorkitems method associated with the WorkflowServer data type by passing it a parameter with the filter previously created.<br />
	<br />
	Below is the code to use when you want to list all the open and active workitems.<br />
	 </p>
<pre class="prettyprint lang-genexus" style="max-width: 100%">
    &amp;server.Connect('WFADMINISTRATOR','WFADMINISTRATOR')
    &amp;filter.State = WorkflowWorkitemState.OPEN_ACTIVE
    &amp;workitems = &amp;server.ListWorkitems(&amp;filter)

</pre>
<p style="margin-left: 40.0px;">
	Where:</p>
<p style="margin-left: 80.0px;">
	&amp;server: variable of WorkflowServer type<br />
	&amp;filter: variable of WorkflowFilter type<br />
	WorkflowWorkitemState: enumerated domain<br />
	&amp;workitems: variable of WorkflowWorkitem type (marked as collection)<br />
	 </p>
<p>
	If later you want to list, for example, the closed workitems which were aborted or expired, you should create two filters, obtain the list of workitems twice by using both filters and then run through the resulting collections.</p>
<p>
	</p>
<p>
	</p>
<p>
	</p>
<br />   <br />    <br /> <br /><br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:19 PM</em></font></td></TR></table></font>