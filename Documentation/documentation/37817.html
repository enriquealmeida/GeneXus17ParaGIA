<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Business Component ToJson method</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?37817,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Business Component ToJson method</h1>
<!--Business Component ToJson method--><div class="TableWikiBody" id="tblwikibody"><p>Returns a string with the JSON representation for the <a href="10021.html">Structured Data Type (SDT) object</a> or <a href="5846.html">Business Component</a> variable. </p>

<h3><a id="Syntax" class="HashLink" href="#Syntax">Syntax</a></h3>

<p>&amp;String = &amp;Vble.<strong>ToJson(</strong>[&amp;Boolean]<strong>)</strong></p>

<p><strong>Where:</strong><br />
<em>&amp;String</em><br />
    Attribute or variable based on the Character data type.</p>

<p><em>&amp;Vble</em><br />
    Variable based on an SDT or Business Component.</p>

<p><em>&amp;Boolean</em><br />
     Optional parameter: It only applies to Business Component variables. If True, then the returned string contains the auxiliary variables (old values, mode, initialized flag). Otherwise, it only contains the record data. The default value is True.</p>

<h3><a id="Scope" class="HashLink" href="#Scope">Scope</a></h3>

<p><strong>Generators: </strong><a href="38604.html">.NET</a>, <a href="2892.html">.NET Framework</a>, <a href="12258.html">Java</a></p>

<h3><a id="Sample" class="HashLink" href="#Sample">Sample</a></h3>

<p>Given the following SDT:</p>

<p><img src="./images/10671.png" id="10671" class="WikiImage"/></p>

<p>Define a Data Provider (for example, named DPOneCountry). Drag the Country SDT from the <a href="3210.html">KB Explorer</a> to the Data Provider Source and fill in the data as shown:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Country
{
    Name = "Uruguay"
    Language = "Spanish"
    Coordinates
    {
        Latitude = 30
        Longitude = 35
    }
    Cities
    {
        Item
        {
            Item = "Montevideo"
        }
        Item
        {
            Item = "Paysandu"
        }
    }
}
</pre>

<p> </p>

<p>In a <a href="6916.html">Web Panel object</a> define a variable named &amp;Country based on the Country SDT.</p>

<p>The purpose of the Web Panel is to convert the stored data to a Json format. To achieve this, when the user presses a button, the Event associated with it will load into memory (in the &amp;Country variable) the data of the country stored in the database. After that, the Json method will be applied to the &amp;Country variable, to convert the data to a Json format, to then be displayed in the Web Panel Web Layout.</p>

<p>Design the Web Panel Web Layout like this:</p>

<p><img src="./images/51053.png" id="51053" class="WikiImage"/></p>

<p>Define the following code associated with the Web Panel button:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event 'ToJson'
   &amp;SDTCountry = DPOneCountry()
   &amp;Json=&amp;SDTCountry.ToJson()
Endevent
</pre>

<p>The involved variables are:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;Json                  Type: Character(200)
&amp;Country               Type: Country
</pre>

<p>In run-time when you press the button, the country data is loaded in the &amp;Country variable and converted to Json format, as the following image shows:</p>

<p><img src="./images/51054.JPG" id="51054" class="WikiImage"/></p>

<h3><br />
See Also</h3>

<p><a href="2277.html">Business Component methods</a></p>

<p></p>
</div><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="5846.html">Toc:Business Component</a></TD></TR><TR><TD><a href="37809.html">Business Component FromJson method</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 06/16/22 02:14 PM</em></font></td></TR></table></font>