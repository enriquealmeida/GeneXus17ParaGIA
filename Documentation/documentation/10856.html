<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Reorganization message rgo0003</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?10856,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Reorganization message rgo0003</h1>
<!--Reorganization message rgo0003--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>
<table border="1" cellpadding="0" cellspacing="1" width="100%">
<tbody>
<tr style="height: 15.75pt;">
<td style="border-color: rgb(236,233,216);padding: 0.0cm;height: 15.75pt;background-color: transparent;">
<div>rgo0003</div></td>
<td style="border-color: rgb(236,233,216);padding: 0.0cm;height: 15.75pt;background-color: transparent;" width="90%">
<div>Table ' Country ' is referenced by table ' City ' and at least one attribute in its foreign key ( CountryCode) does not allow nulls. A default record will be added in table ' Country ' if table ' Client ' has records and a record with default values does not exist in table ' Country '. .</div></td></tr></tbody></table></p>

<h2>Rgo0003 Example 
<br /></h2><p><table border="1" cellpadding="1" cellspacing="1" width="80%">
<tbody>
<tr>
<td><u>Trn Client<br /></u>ClientCode*<br />ClientName</td>
<td><u>Trn Country<br /></u>CountryCode*<br />CountryName</td>
<td><u>Trn City<br /></u>CityyCode*<br />CityName<br />CountryCode  // FK</td></tr>
<tr>
<td><span style="border-width: 1.0pt;padding: 0.0cm;font-size: 9.0pt;color: black;font-family: Verdana;">&lt;v:shapetype coordsize=&quot;21600&amp;#44;21600&quot; filled=&quot;f&quot; id=&quot;&amp;#95;x0000&amp;#95;t75&quot; o&amp;#58;preferrelative=&quot;t&quot; o&amp;#58;spt=&quot;75&quot; path=&quot;m&amp;#64;4&amp;#64;5l&amp;#64;4&amp;#64;11&amp;#64;9&amp;#64;11&amp;#64;9&amp;#64;5xe&quot; stroked=&quot;f&quot;&gt;<img src="./images/10857.png" id="10857" class="WikiImage"/>&lt;/v:shapetype&gt;</span></td>
<td><img src="./images/10858.png" id="10858" class="WikiImage"/></td>
<td><img src="./images/10859.png" id="10859" class="WikiImage"/></td></tr></tbody></table></p>
<p>The reorganization consists in adding the not nullable CityCode attribute to the Client Transaction. The CityCode has not initial value, and the CountryCode has initial value=1. So the Client transaction structure is now like follows:<br /></p>
<p><u>Trn Cient</u><br />ClientCode*<br />ClientName<br /><b>CityCode</b></p>
<p>The Impact Analysis report is:</p>
<p><span style="font-size: 12.0pt;"><font size="2"><img src="./images/10860.png" id="10860" class="WikiImage"/></font></span></p>
<p>And the generated SQL Statements to run in this reorganization are:</p>
<p><span style="font-size: 12.0pt;"><font size="2"><img src="./images/10861.png" id="10861" class="WikiImage"/></font></span></p>
<p><span style="font-size: 12.0pt;"><font size="2">As a result of executing this reorganization, the tables and records are:<br /></font></span></p>
<p><span style="font-size: 12.0pt;"><font size="2">
<table border="1" cellpadding="1" cellspacing="1" width="80%">
<tbody>
<tr>
<td><u>Trn Client<br /></u>ClientCode*<br />ClientName<br />CityCode</td>
<td><u>Trn Country<br /></u>CountryCode*<br />CountryName</td>
<td><u>Trn City<br /></u>CityyCode*<br />CityName<br />CountryCode  // FK</td></tr>
<tr>
<td><span style="border-width: 1.0pt;padding: 0.0cm;font-size: 9.0pt;color: black;font-family: Verdana;">&lt;v:shapetype coordsize=&quot;21600&amp;#44;21600&quot; filled=&quot;f&quot; id=&quot;&amp;#95;x0000&amp;#95;t75&quot; o&amp;#58;preferrelative=&quot;t&quot; o&amp;#58;spt=&quot;75&quot; path=&quot;m&amp;#64;4&amp;#64;5l&amp;#64;4&amp;#64;11&amp;#64;9&amp;#64;11&amp;#64;9&amp;#64;5xe&quot; stroked=&quot;f&quot;&gt;<img src="./images/10862.png" id="10862" class="WikiImage"/>&lt;/v:shapetype&gt;</span></td>
<td><img src="./images/10863.png" id="10863" class="WikiImage"/></td>
<td><img src="./images/10864.png" id="10864" class="WikiImage"/></td></tr></tbody></table></font></span></p>
<div><br /></div><div>NOTE: In case the attributes CityCode or CountryCode are autonumber, the reorg must disable this property before doing the corresponding insert, and setting it back after these inserts.<br /></div><div><br /></div><div><font size="2"></font><br /></div>
<br /><br />   <br />    <br /> <br /><br /></td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="5965.html">Reorganization Messages</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:20 PM</em></font></td></TR></table></font>