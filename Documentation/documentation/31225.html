<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Mode variable</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?31225,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Mode variable</h1>
<!--Mode variable--><div class="TableWikiBody" id="tblwikibody"><p>Indicates the mode in which a <a href="1908.html">Transaction object</a> will work.</p>

<p><b>Data type:</b><br />
Character(3)</p>

<h3><a id="Scope" class="HashLink" href="#Scope">Scope</a></h3>

<p><strong>Objects: </strong><a href="1908.html">Transaction</a>, <a href="15974.html">WWSD</a></p>

<h3><a id="Values" class="HashLink" href="#Values">Values</a></h3>

<div style="overflow-x:auto"><table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="text-align: center;"><strong>INS </strong></td>
			<td> Insert. This is the default value.</td>
		</tr>
		<tr>
			<td><strong> UPD </strong> </td>
			<td> Update.</td>
		</tr>
		<tr>
			<td style="text-align: center;"><strong>DLT</strong></td>
			<td> Delete.</td>
		</tr>
		<tr>
			<td style="text-align: center;"><strong>DSP</strong></td>
			<td> Display.</td>
		</tr>
	</tbody>
</table></div>

<p> </p>

<div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>: <em><strong>TrnMode</strong></em> domain is also available with those values.</div>

<h3><a id="Description" class="HashLink" href="#Description">Description</a></h3>

<p>The &amp;Mode <a href="7386.html">standard variable</a> defines the valid mode in which the Transaction can work in, during execution time.</p>

<p>The calling program passes a valid mode value as a parameter to the Transaction which receives &amp;Mode variable as a parameter.<br />
<br />
The received mode affects the first level of the Transaction, and it cannot be changed. Thus, a Transaction with two or more levels can receive the &amp;Mode variable, with the values Insert ('INS'), Display (‘DSP’) or Update ('UPD'), as a parameter. The second level can use all three modes (Insert, Update, or Delete).</p>

<p>If the received mode is Delete ('DLT'), a <a href="20901.html">delete cascade</a> is performed.<br />
<br />
The Transaction that receives the <i>Display Mode</i> by parameter doesn't accept secondary attributes, nor does it update the database or lock information. Only the load of the record is executed (and rules depending on the conditioning). The <a href="https://wiki.genexus.com/commwiki/wiki?22882,," target="_blank">Navigation Buttons</a> and the <i>Close</i> button are enabled. All other buttons are disabled. Enabling the key depends on the <a href="6856.html">NoAccept rule</a>, or if it is received as a parameter. The rest of the fields are disabled.</p>

<p>Like all other modes (Update, Delete and Insert) the Display mode can also be evaluated in the rules.</p>

<p style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>: Values are case sensitive.</p>

<h3><a id="Triggering+actions" class="HashLink" href="#Triggering+actions">Triggering actions</a></h3>

<p><b>Events:</b> Only Start and Exit events are triggered.</p>

<p><b>Rules:</b> Only the rules that fulfill the following conditions are triggered:</p>

<ul>
	<li>When appearing before the &quot;Read&quot; of the record in the navigation.</li>
	<li>When conditioned to the Update Mode.</li>
	<li>When depending only on the Transaction’s key.</li>
</ul>

<h3><a id="wiki%3F24829%2CCategory%253APanel%2Bobject+Panels" class="HashLink" href="#wiki%3F24829%2CCategory%253APanel%2Bobject+Panels"><a href="24829.html">Panels</a></a></h3>

<p>The &amp;Mode variable is available in Section and Detail nodes of <a href="15974.html">WWSD</a>. This approach is useful to decide in runtime what information you want to show when the end-user access to any of those Panels. The following table shows whether it is possible to use the &amp;Mode variable.</p>

<div style="overflow-x:auto"><table border="2" cellpadding="1" cellspacing="1" style="width: 200.0px;">
	<tbody>
		<tr>
			<td> </td>
			<td style="text-align: center;background-color: rgb(68,68,68);"><span style="color: rgb(255,255,255);">Client</span></td>
			<td style="text-align: center;background-color: rgb(68,68,68);"><span style="color: rgb(255,255,255);">Server</span></td>
		</tr>
		<tr>
			<td><strong>Detail</strong></td>
			<td style="text-align: center;">YES</td>
			<td style="text-align: center;">YES</td>
		</tr>
		<tr>
			<td><strong>Section </strong><br />
			(View mode)</td>
			<td style="text-align: center;vertical-align: middle;">YES</td>
			<td style="text-align: center;vertical-align: middle;">YES</td>
		</tr>
		<tr>
			<td><strong>Section</strong><br />
			(Edit mode)</td>
			<td style="text-align: center;vertical-align: middle;">YES</td>
			<td style="text-align: center;vertical-align: middle;">NO</td>
		</tr>
	</tbody>
</table></div>

<p> </p>

<div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>: The value of &amp;Mode received by the Transaction cannot be changed, otherwise, the corresponding program will not be generated.</div>

<h3><a id="Samples" class="HashLink" href="#Samples">Samples</a></h3>

<p>A <a href="6916.html">Web Panel</a> calls a Transaction to insert, update, delete or display purchase orders.</p>

<h4><a id="Case+1" class="HashLink" href="#Case+1">Case 1</a></h4>

<p><strong>Rules:</strong></p>

<p>The Transaction receives &amp;Mode and purchase order identifier as parameters:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Parm(&amp;OrderNumber, &amp;Mode);
OrderNumber = &amp;OrderNumber If Update Or Delete;
Noaccept(OrderNumber) If Update Or Delete;
</pre>

<p>The record's key is assigned the value passed as a parameter when Update or Delete mode is activated. The key has no pre-set value when Insert mode is activated, so the user has to enter a valid key-value and several orders may be inserted.</p>

<h4><a id="Case+2" class="HashLink" href="#Case+2">Case 2</a></h4>

<p><strong>Rules:</strong></p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Parm(OrderNumber, &amp;Mode);</pre>

<p>As OrderNumber is the key attribute and receives the value passed as a parameter, then the key will be fixed for all three modes. Only one record can be updated, deleted or inserted. If an insertion is to be performed, the user doesn’t have to enter the key of the new record as this value has been received as a parameter. So, the key is passed to the Transaction even in Insert mode. In this case, when the action over the record is completed, the program automatically returns to the calling program.</p>

<h4><a id="Case+3" class="HashLink" href="#Case+3">Case 3</a></h4>

<p>Suppose that you want to change the form caption depending on the mode that the end-user access to the Panel.<br />
In the following case, if the end-user enters the Panel in delete mode then the header text asks if the end-user wants to delete it.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event ClientStart
    if &amp;Mode = TrnMode.Delete
        Form.Caption = format(&quot;Delete customer %1?&quot;, CustomerId)
    endif
EndEvent

</pre>

<h3><a id="See+Also" class="HashLink" href="#See+Also">See Also</a></h3>

<p><a href="7386.html">Standard Variables List</a></p>

<p></p>

<p></p>
</div><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR></TR><TR><TD><a href="16847.html">Panel and Work With for Smart Devices tabs</a></TD><TD><a href="5640.html">Patterns - Work With Selection Node</a></TD><TD><a href="7386.html">Standard Variables List</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 06/02/22 11:41 PM</em></font></td></TR></table></font>