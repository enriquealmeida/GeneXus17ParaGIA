<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Formulas</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?5861,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Formulas</h1>
<!--Category:Formulas--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Formulas are expressions that contain a calculation which, once evaluated, returns a certain value. They are like functions. </p>

<p><span style="line-height: 1.6em;">In addition, they are a key way to share knowledge, when used to define the way everytime an attribute is going to be calculated. In such a case, the attribute is not stored in database (unless otherwise stated). Those special kinds of formulas are called &quot;global formulas&quot; or &quot;formula attributes&quot;.</span></p>

<h3><a id="What+is+a+Formula" class="HashLink" href="#What+is+a+Formula"><span style="line-height: 1.6em;">What is a Formula</span></a></h3>

<p>An <strong>expression</strong> that once evaluated, returns a certain value. For example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;today.Year() - PersonBirthDate.Year()</pre>

<p>where the formula calculates the person age, from: &amp;today system variable, PersonBirthDate attribute, and the <a href="12648.html">Year method</a>. Or:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Sum( InvoiceTotal, InvoiceDate &gt;= &amp;fromDate )</pre>

<p>where a sum of the values of the InvoiceTotal attribute is going to be triggered, for all records of the Invoice table whose InvoiceDate is bigger or equal than &amp;fromDate variable value.</p>

<p>Thus, a formula is a <strong>calculation based on other attributes, constants and/or functions or methods</strong>. </p>

<p>When an attribute or variable value can be calculated in this way, it can be associated to a <strong>formula</strong>. In addition, when this assignment is done at attribute definition level (that is, for the attribute, inside the transaction structure where it is specified), the attribute itself is known as &quot;formula attribute&quot; or abbreviated &quot;formula&quot;. <br />
<br />
There are two ways to define formulas:</p>

<ol>
	<li><a href="6440.html">Global Formulas</a> (Global definition, at the Knowledge Base level)</li>
	<li><a href="6441.html">Local / Inline Formulas</a> (Local definition, within objects code) </li>
</ol>

<h3><a id="Classification+of+Formulas+by+navigation+type" class="HashLink" href="#Classification+of+Formulas+by+navigation+type">Classification of Formulas by navigation type</a></h3>

<p>Formulas can be classified into three groups, depending on the type of calculation needed. This classification is valid either for global or local formulas. </p>

<ul>
	<li><a href="5864.html">Horizontal Formulas</a>:  Allow defining many kind of expressions (such as arithmetic, among others) involving <strong>a single</strong> <strong>record</strong> and it's associated in an extended table.</li>
	<li><a href="5868.html">Aggregate Formulas</a>:  Allow defining some calculations or searches involving <strong>many</strong> <strong>records</strong> of a table (and it's associated by means of the extended table).</li>
	<li><a href="5879.html">Compound Formulas</a>: Several horizontal and/or aggregate expressions combined. </li>
</ul>

<p>All these kind of formulas may have trigger conditions.</p>

<p>Note: You don't need to indicate when defining a formula in GeneXus, if it belongs to one classification or another. This is only an external classification. </p>

<h3><a id="Base+table+of+a+Formula" class="HashLink" href="#Base+table+of+a+Formula">Base table of a Formula</a></h3>

<p>The table that is <strong>navigated</strong> in order to evaluate the formula is known as its base table. Depending on the kind of formula, the evaluation will consider only one record (horizontal formula) or many (aggregate formula). In the former (horizontal), <strong>the context</strong> in what the formula is, will affect the base table determination. In the latter, the context will affect the filters that will be applied in order to retrieve the meaningful records.</p>

<h3><a id="Optimized+generated+code" class="HashLink" href="#Optimized+generated+code">Optimized generated code</a></h3>

<p>Defining formulas it's even better than writing <a href="6293.html">procedures</a> and invoking them.</p>

<p>When you define a formula, GeneXus has the knowledge of its definition and is able to generate optimized sentences by combining the formula query with the query in which the formula is present.</p>

<p>On the other hand, if you define a procedure and you invoke it, the procedure code is not &quot;visible&quot; from the invoker, and GeneXus can't combine the knowledge and generate the most optimized code.</p>

<h3><a id="See+Also" class="HashLink" href="#See+Also"><span style="line-height: 1.2em;font-size: 13.0px;">See Also</span></a></h3>

<p><a href="3155.html">Formulas/Generating SQL</a><br />
<span style="line-height: 1.6em;"><a href="25367.html">Changes in Formulas terminology</a></span></p>

<p></p>
</td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Pages</b></TD></TR><TR><TD><a href="5868.html">Aggregate Formulas</a></TD><TD><a href="6490.html">Attributes and Tables that can be Involved in Formulas</a></TD><TD><a href="25367.html">Changes in Formulas terminology</a></TD></TR><TR><TD><a href="5879.html">Compound Formulas</a></TD><TD><a href="5432.html">Data Selectors in Aggregations</a></TD><TD><a href="5882.html">Examples of Using Formulas</a></TD></TR><TR><TD><a href="6547.html">Find Formula</a></TD><TD><a href="3155.html">Formulas/Generating SQL</a></TD><TD><a href="6440.html">Global Formulas</a></TD></TR><TR><TD><a href="5864.html">Horizontal Formulas</a></TD><TD><a href="6441.html">Inline Formulas</a></TD><TD><a href="6442.html">Inline Formulas outside a contextual table</a></TD></TR><TR><TD><a href="6426.html">Inline Formulas within a contextual table</a></TD><TD><a href="6502.html">Max, Min Formulas</a></TD><TD><a href="5962.html">Redundant Formulas</a></TD></TR><TR><TD><a href="6500.html">Sum, Count, Average formulas</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 06/04/21 04:44 PM</em></font></td></TR></table></font>