<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>DetectObjects procedure</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?40178,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">DetectObjects procedure</h1>
<!--DetectObjects procedure--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Detects objects that appear in an image.</p>

<h2><a id="Parameters" class="HashLink" href="#Parameters">Parameters</a></h2>

<ul>
	<li>
	<p><strong>in</strong>:&amp;image :: <a href="15204.html">Image data type</a><br />
	An image to detect objects on it.</p>
	</li>
	<li>
	<p><strong>in</strong>:&amp;provider :: <a href="40197.html">Provider, GeneXusAI.Configuration</a><br />
	Provider settings.</p>
	</li>
	<li>
	<p><strong>inout</strong>:&amp;Messages :: <a href="40335.html">Messages, GeneXus.Common</a><br />
	A collection of warning and error messages returned by the task. You should check in your code if an error was returned. Refer to <a href="40188.html">error codes and descriptions</a> for more information.</p>
	</li>
	<li>
	<p><strong>out</strong>:&amp;OutputRegions:: <a href="40194.html">OutputRegion, GeneXusAI (collection)</a><br />
	A set of regions with the recognized objects.</p>
	</li>
</ul>

<h2><a id="Configuration" class="HashLink" href="#Configuration">Configuration</a></h2>

<p>The following table resumes the configuration properties (access credentials) you must set in order to use this AI task.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td> </td>
			<td colspan="4" rowspan="1" style="border-bottom: 1.0px solid black;text-align: center;"><strong><a href="40196.html">PropertyKey</a></strong></td>
		</tr>
		<tr style="border-bottom: 1.0px solid black;">
			<td><strong><a href="40195.html">ProviderType</a></strong></td>
			<td style="text-align: right;"><strong>Id</strong></td>
			<td style="text-align: right;"><strong>Key</strong></td>
			<td style="text-align: right;"><strong>SecretKey</strong></td>
		</tr>
		<tr>
			<td><strong>Alibaba</strong></td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Amazon</strong></td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">Rekognition</td>
			<td style="text-align: right;">Rekognition</td>
		</tr>
		<tr>
			<td><strong>Baidu </strong></td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Google </strong></td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">Cloud Vision API</td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>IBM </strong></td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Microsoft </strong></td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">Computer Vision</td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>MLKit</strong></td>
			<td style="text-align: right;">ML Kit API</td>
			<td style="text-align: right;">ML Kit API</td>
			<td style="text-align: right;"> </td>
		</tr>
		<tr>
			<td><strong>SAP </strong></td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Tencent </strong></td>
			<td style="text-align: right;">物体识别</td>
			<td style="text-align: right;">物体识别</td>
			<td style="text-align: right;">-</td>
		</tr>
	</tbody>
</table>

<h2><a id="Sample" class="HashLink" href="#Sample">Sample</a></h2>

<p>Taking the following image input, the table below shows how objects are identified for each provider (as a JSON structure) and the time it takes for processing it.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;max-height: 400.0px;max-width: 400.0px;">
	<tbody>
		<tr>
			<td><img src="./images/40295.png" id="40295" class="WikiImage"/></td>
		</tr>
	</tbody>
</table>

<p> </p>
<style type="text/css">.item img { transition: all 0.3s; } .item { transition: transform .2s; width: 200px; height: 200px; margin: 0 auto; } .item:hover img{ -ms-transform: scale(2.0); /* IE 9 */ -webkit-transform: scale(2.0); /* Safari 3-8 */ transform: scale(2.0); }
</style>
<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr style="border-bottom: 1.0px solid black;">
			<td style="vertical-align: top;"><strong>Provider</strong></td>
			<td style="vertical-align: top;"><strong>Output</strong></td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;"><strong>Benchmark</strong></td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Alibaba</strong></td>
			<td style="vertical-align: top;">N/A</td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Amazon</strong></td>
			<td style="vertical-align: top;">
			<pre class="Code" style="max-height:200px;">
[{
	"label": "Sunglasses 1",
	"confidence": 0.996,
	"top": 463,
	"left": 435,
	"width": 110,
	"height": 35
}, {
	"label": "Person 1",
	"confidence": 0.995,
	"top": 408,
	"left": 89,
	"width": 760,
	"height": 434
}, {
	"label": "Person 2",
	"confidence": 0.886,
	"top": 586,
	"left": 19,
	"width": 53,
	"height": 126
}]
</pre>
			</td>
			<td style="vertical-align: top;">
			<div class="item"><img src="./images/41967.png" id="41967" class="WikiImage"/></div>
			</td>
			<td style="vertical-align: top;">11121ms</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;;"><strong>Baidu</strong></td>
			<td style="vertical-align: top;">N/A</td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Google</strong></td>
			<td style="vertical-align: top;">
			<pre class="Code" style="max-height:200px;">
[{
    "label": "Person",
    "confidence": 0.7952577,
    "top": 477,
    "left": 115,
    "width": 722,
    "height": 369
}, {
    "label": "Man",
    "confidence": 0.64812267,
    "top": 409,
    "left": 146,
    "width": 600,
    "height": 372
}]
</pre>
			</td>
			<td style="vertical-align: top;">
			<div class="item"><img src="./images/41969.png" id="41969" class="WikiImage"/></div>
			</td>
			<td style="vertical-align: top;">8218ms</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>IBM </strong></td>
			<td style="vertical-align: top;">N/A</td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Microsoft </strong></td>
			<td style="vertical-align: top;">
			<pre class="Code" style="max-height:200px;">
[{
    "label": "outdoor",
    "confidence": 0.996472358703613,
    "top": 0,
    "left": 0,
    "width": 0,
    "height": 0
}, {
    "label": "sky",
    "confidence": 0.980476856231689,
    "top": 0,
    "left": 0,
    "width": 0,
    "height": 0
}, {
    "label": "person",
    "confidence": 0.974854707717896,
    "top": 0,
    "left": 0,
    "width": 0,
    "height": 0
}, {
    "label": "man",
    "confidence": 0.922227799892426,
    "top": 0,
    "left": 0,
    "width": 0,
    "height": 0
}, {
    "label": "building",
    "confidence": 0.8099485039711,
    "top": 0,
    "left": 0,
    "width": 0,
    "height": 0
}]
</pre>
			</td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;">4896ms</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>MLKit</strong></td>
			<td style="vertical-align: top;">
			<pre class="Code" style="max-height:200px;">
[{
    "label": "FASHION_GOOD",
    "confidence": 0.937,
    "top": 674,
    "left": 446,
    "width": 355,
    "height": 369
}, {
    "label": "FASHION_GOOD",
    "confidence": 0.71,
    "top": 724,
    "left": 369,
    "width": 55,
    "height": 90
}, {
    "label": "FASHION_GOOD",
    "confidence": 0.582,
    "top": 515,
    "left": 199,
    "width": 822,
    "height": 534
}, {
    "label": "UNKNOWN",
    "confidence": 0,
    "top": 716,
    "left": 186,
    "width": 48,
    "height": 122
}, {
    "label": "UNKNOWN",
    "confidence": 0,
    "top": 729,
    "left": 13,
    "width": 64,
    "height": 145
}]
</pre>
			</td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;">999ms</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>SAP </strong></td>
			<td style="vertical-align: top;">N/A</td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Tencent</strong></td>
			<td style="vertical-align: top;">
			<pre class="Code" style="max-height:200px;">
[{
	"label": "GXAI_TCN_OBJECT_668",
	"confidence": 0.623,
	"top": 0,
	"left": 0,
	"width": 0,
	"height": 0
}, {
	"label": "GXAI_TCN_OBJECT_873",
	"confidence": 0.204,
	"top": 0,
	"left": 0,
	"width": 0,
	"height": 0
}, {
	"label": "GXAI_TCN_OBJECT_682",
	"confidence": 0.101,
	"top": 0,
	"left": 0,
	"width": 0,
	"height": 0
}, {
	"label": "GXAI_TCN_OBJECT_442",
	"confidence": 0.017,
	"top": 0,
	"left": 0,
	"width": 0,
	"height": 0
}, {
	"label": "GXAI_TCN_OBJECT_698",
	"confidence": 0.01,
	"top": 0,
	"left": 0,
	"width": 0,
	"height": 0
}]
</pre>
			</td>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;">5587ms</td>
		</tr>
	</tbody>
</table>

<h2><a id="Notes" class="HashLink" href="#Notes">Notes</a></h2>

<ul>
	<li>The label assigned for an object depends on the provider used. Additional information can be found on the OutputRegion.Info field if it is given by the provider.</li>
	<li>Maximum image file size is 10MB.</li>
	<li>Tencent AI returns labels as 'GXAI_TCN_OBJECT_{id}' tags, where the {id} is a <a href='https://ai.qq.com/doc/vision_object.shtml#7-%E7%89%A9%E4%BD%93%E6%A0%87%E8%AF%86%E5%AE%9A%E4%B9%89'>numeric class</a> provided by Tencent. You can use a <a href="7258.html">Language object</a> for mapping each tag with string label as other provider does. You can <a href="https://wiki.genexus.com/commwiki/wiki?41968,," target="_blank">download this xpz</a> which contains the SimplifiedChinese language object with the official mapping, and also contains the English language mapping using machine translation (it can be inaccurate). Once you import this xpz, for example, the 'GXAI_TCN_OBJECT_668' label on the sample section will be translated to '清真寺' (or 'mosque' in English) if you have set <a href="https://wiki.genexus.com/commwiki/wiki?9126,," target="_blank">Translation Type Property</a> in your environment with 'Run-time' value.</li>
	<li>Rectangle area has zero values when the provider is not allowed to identify the region.</li>
	<li>GeneXusAI does not provide support for drawing a rectangle over an image. This action is the responsibility of the developer.<br />
	<strong>TIP</strong>: For Web applications, a good alternative can be combining <a href='https://www.w3schools.com/tags/ref_canvas.asp'>HTML5 Canvas control with JavaScript</a> with <a href="39356.html">User Control object</a>. On the other hand, for Smart Devices you could use <a href="17823.html">Image Map control</a> on which you can set the processed image as background and 'draw' square regions (i.e. set a border color on the table item of the grid).</li>
</ul>

<h2><a id="Scope" class="HashLink" href="#Scope">Scope</a></h2>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Platforms </strong></td>
			<td style="vertical-align: top;">Web(.NET,.NETCore,Java), SmartDevices(Android,iOS)</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Connectivity </strong></td>
			<td style="vertical-align: top;">Online</td>
		</tr>
	</tbody>
</table>

<h2><a id="Availability" class="HashLink" href="#Availability">Availability</a></h2>

<p>This procedure is available as of <a href="https://wiki.genexus.com/commwiki/wiki?35351,," target="_blank">GeneXus 16</a>.</p>

<ul>
	<li>As of <a href="https://wiki.genexus.com/commwiki/wiki?40782,," target="_blank">GeneXus 16 upgrade 1</a>:<br />
	- Google Cloud AI is available.</li>
	<li>As of <a href="https://wiki.genexus.com/commwiki/wiki?41525,," target="_blank">GeneXus 16 upgrade 2</a>:<br />
	- Amazon WS and Tencent AI are available.<br />
	- Google returns rectangles with values different from 0. Applies for .NET and Java environments, .NET Core is still limited.</li>
	<li>As of <a href="https://wiki.genexus.com/commwiki/wiki?45624,," target="_blank">GeneXus 16 upgrade 10</a>:<br />
	- Google returns rectangles with values different from 0 for .NET Core.</li>
	<li>As of <a href="https://wiki.genexus.com/commwiki/wiki?45901,," target="_blank">GeneXus 16 Upgrade 11</a>:<br />
	- Firebase ML Kit is available for Android</li>
</ul>

<p></p>

<p></p>

<p></p>
<br></td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="40189.html">Confidence domain</a></TD><TD><a href="40167.html">Toc:GeneXus Artificial Intelligence</a></TD><TD><a href="40315.html">GeneXusAI Overview</a></TD></TR><TR><TD><a href="40204.html">HowTo: Get credentials from a cloud provider for GeneXusAI</a></TD><TD><a href="40191.html">Label domain</a></TD><TD><a href="40194.html">OutputRegion data type</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:17 PM</em></font></td></TR></table></font>