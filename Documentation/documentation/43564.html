<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Xml Digital Signature Standard (DSig)</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?43564,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Xml Digital Signature Standard (DSig)</h1>
<!--Xml Digital Signature Standard (DSig)--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Also known as XmlDSig or DSig, it defines the XML syntax to sign an XML document.</p>

<p>It defines a Signature tag that will contain all signature related information; for example, for canonicalization methods, references needed to identify elements of signed documents, etc.</p>

<p>The standard also defines 3 types of signatures depending on how it relates to the signed document. It can be Enveloped, Enveloping or Detached.</p>

<ul>
	<li>Enveloped signatures are contained within the signed document. They add a reference to the signed element in cases in which just some document elements are signed.</li>
	<li>Enveloping signatures include the signed elements within their tags.</li>
	<li>Detached signatures are stored in another XML document separate from the original and linked with some reference to the original document.</li>
</ul>

<p>Signature structure example</p>

<pre>
&lt;Signature Id=&quot;MyFirstSignature&quot; xmlns=&quot;http://www.w3.org/2000/09/xmldsig#&quot;&gt; 
  &lt;SignedInfo&gt;  
   &lt;CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2006/12/xml-c14n11&quot;/&gt; 
   &lt;SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig-more#rsa-sha256&quot;/&gt; 
   &lt;Reference URI=&quot;http://www.w3.org/TR/2000/REC-xhtml1-20000126/&quot;&gt; 
     &lt;Transforms&gt; 
       &lt;Transform Algorithm=&quot;http://www.w3.org/2006/12/xml-c14n11&quot;/&gt; 
     &lt;/Transforms&gt; 
     &lt;DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt; 
     &lt;DigestValue&gt;dGhpcyBpcyBub3QgYSBzaWduYXR1cmUK...&lt;/DigestValue&gt; 
   &lt;/Reference&gt; 
 &lt;/SignedInfo&gt; 
   &lt;SignatureValue&gt;...&lt;/SignatureValue&gt; 
   &lt;KeyInfo&gt; 
    &lt;KeyValue&gt;
      &lt;DSAKeyValue&gt; 
        &lt;P&gt;...&lt;/P&gt;&lt;Q&gt;...&lt;/Q&gt;&lt;G&gt;...&lt;/G&gt;&lt;Y&gt;...&lt;/Y&gt; 
      &lt;/DSAKeyValue&gt; 
    &lt;/KeyValue&gt; 
   &lt;/KeyInfo&gt; 
 &lt;/Signature&gt;</pre>

<p><a href='https://www.w3.org/TR/xmldsig-core1/'>Source</a></p>

<h3><a id="DSig+structure+in+a+nutshell" class="HashLink" href="#DSig+structure+in+a+nutshell">DSig structure in a nutshell</a></h3>

<ul>
	<li><u>CanonicalizationMethod </u>defines an algorithm to process special characters; it is used to preprocess the input before the hash digest calculation. It is a way to preprocess the text in the same way on both ends of the conversation or the signature would fail.</li>
	<li><u>SignatureMethod </u>defines the hash algorithm and the signature asymmetric algorithm that will be used for signing.</li>
	<li><u>DigestMethod </u>defines the hash algorithm to be used to calculate the digest value.</li>
	<li><u>DigestValue </u>element contains the Base64 encoded hash of the signed text.</li>
	<li><u>Reference</u> element defines references by URI, ID within the document or to another signed document in case of detached signatures.</li>
	<li><u>Transforms</u> element contains definitions to transform the document before it is digested (hashed). It could also include XPath transformation to define an XPath predicate to find elements signed.</li>
	<li><u>SignatureValue</u> element contains the Base64 encoded signature value calculated using all the definitions expressed in the SignedInfo element.</li>
	<li><u>KeyInfo</u> is an optional element; it may or may not be attached to the signature in the standard. If it is present it could contain a KeyValue element type or an X509Data element type. When the KeyInfo element is not included in the Signature, the public key to verify the signature has to be obtained elsewhere.
	<ul>
		<li><u>KeyValue</u> element type would have information about the type and parameters of the public key to be used to verify the signature. The parameters must be expressed using Basse64 encoding.</li>
		<li><u>X509Data</u> element type would contain data related to the public key certificate and other certificate information to use in the signature verification process.</li>
	</ul>
	</li>
</ul>

<p> </p>

<p><br />
</p>
<br /></td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="43916.html">Toc:GeneXus Security API</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:21 PM</em></font></td></TR></table></font>