<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>HowTo: Consuming a Rest Data Provider</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?30737,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">HowTo: Consuming a Rest Data Provider</h1>
<!--HowTo: Consuming a Rest Data Provider--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>This document explains how to call a <a href="4417.html">Data Provider</a> (DP) exposed as <a href="28213.html">Rest web services in GeneXus</a>.</p>

<p>First, let's see the basic guidelines:</p>

<h3><a id="How+do+I+call+the+Rest+service+in+GeneXus%3F" class="HashLink" href="#How+do+I+call+the+Rest+service+in+GeneXus%3F">How do I call the Rest service in GeneXus?</a></h3>

<p>Use the <a href="6932.html">HttpClient data type</a>.</p>

<h3><a id="Which+HTTP+method+should+I+use+to+call+the+Rest+Data+Provider%3F" class="HashLink" href="#Which+HTTP+method+should+I+use+to+call+the+Rest+Data+Provider%3F">Which HTTP method should I use to call the Rest Data Provider?</a></h3>

<p>The HTTP method used for calling the Data Provider is the HTTP GET verb.</p>

<h3><a id="Which+is+the+URL+format+to+execute+the+GET+verb%3F" class="HashLink" href="#Which+is+the+URL+format+to+execute+the+GET+verb%3F">Which is the URL format to execute the GET verb?</a></h3>

<p>&lt;ServerUrl&gt;/&lt;module&gt;/&lt;DP name&gt;?&lt;param1&gt;=&lt;value1&gt;&amp;&lt;param2&gt;=&lt;value2&gt;,..,&lt;paramN&gt;=&lt;valueN&gt;</p>

<p>Where &lt;param1&gt;,&lt;param2&gt;,..,&lt;paramN&gt; are the parameters of the DP. The parameters should be separated by &amp;.</p>

<h3><a id="Example" class="HashLink" href="#Example">Example</a></h3>

<p>Consider the Invoice Business Component transaction, which looks as follows:</p>

<p><img src="./images/30738.png" id="30738" class="WikiImage"/></p>

<p>We have created a DP (called &quot;DPCaso20&quot;), whose <a href="41037.html">Data Provider Output</a> is the Invoice BC. Also, it's exposed as a Rest service. See the figure below:</p>

<p><img src="./images/30739.png" id="30739" class="WikiImage"/></p>

<p>The DP has the following rule:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
parm(in:&amp;invoicedate,in:&amp;CustomerId, in:&amp;Customername);</pre>

<p>To call that Rest DP, we have the following code:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
//http://server:8080/BaseUrl/rest/DPCaso20?Invoicedate=2013-11-14&amp;Customerid=1&amp;Customername=Francisco
&amp;httpclient.Host= &quot;server&quot;
&amp;httpclient.Port = 8080
&amp;httpclient.BaseUrl = &quot;BaseUrl&quot;
&amp;httpclient.secure = 0
&amp;httpclient.Execute('GET','DPCaso20?Invoicedate=2013-11-14&amp;Customerid=1&amp;Customername=Francisco')

if &amp;httpclient.StatusCode = 200
    &amp;result = &amp;httpclient.ToString()
else
   msg(&quot;Error: &quot; + &amp;httpclient.StatusCode.ToString())
endif

</pre>

<p>Download the sample from <a href="https://wiki.genexus.com/commwiki/wiki?30740,," target="_blank">Sample consuming a Rest DP</a></p>

<h4><a id="Note" class="HashLink" href="#Note">Note</a></h4>

<ul>
	<li>If the service URI is &quot;http://localhost/TestRESTFullGX.NetEnvironment/rest/Invoice&quot;, the BASE URL is: &quot;/TestRESTFullGX.NetEnvironment/rest/&quot;</li>
	<li>In Java, the parameters name must be normalized (First Character must be uppercase, and all the others must be lowercase) , in this example: Invoicedate, Customerid and Customername. </li>
	<li>Error handling is managed by querying the HTTP Status Code after the invocation.</li>
</ul>

<h3><a id="See+Also" class="HashLink" href="#See+Also">See Also</a></h3>

<p><a href="28213.html">Rest web services in GeneXus</a></p>

<p><br />
 </p>

<div style="background-color: rgb(255,255,204);border-left: 6.0px solid rgb(255,235,59);padding: 0.01em 16.0px;">
<p><b>Note:</b><br />
Concerning consuming a Rest service (it can be generated by GeneXus or not), GeneXus provides the <a href="31864.html">OpenAPI import tool</a>.</p>
</div>

<p><br />
<br />
<br />
</p>
<br />
<br />
</td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="28216.html">Data Providers as Rest web services in GeneXus</a></TD><TD><a href="28213.html">Toc:Rest web services in GeneXus</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 01/26/21 09:25 AM</em></font></td></TR></table></font>