<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Read test data from CSV</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?49717,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Read test data from CSV</h1>
<!--Read test data from CSV--><div class="TableWikiBody" id="tblwikibody"><p>GXtest provides a procedure and SDTs to allow read test data from a CSV file. The procedure is called ReadCSV and it will be explained next.</p>

<h2><a id="ReadCSV" class="HashLink" href="#ReadCSV">ReadCSV</a></h2>

<p>Goal: allow to read test data in runtime and from outside the KB, enabling to change testing data without having to modify any object in the KB.</p>

<p>Parameters:</p>

<ul>
	<li>filePath: path to the CSV file. Full and relative paths are supported</li>
	<li>separator: character used to split the values from each row</li>
	<li>useHeaders: if the CSV file has a first file of header names. Required to access values by name instead of index only</li>
	<li>dataPool: output SDT containing data read from the file.</li>
</ul>

<p> </p>

<p>Example of use:</p>

<p><img src="./images/49907.png" id="49907" class="WikiImage"/></p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;DataPool = ReadCSV(&quot;inputFile.csv&quot;, ',', true)

For &amp;Row in &amp;DataPool.Rows

    // use &amp;Row data to call the object under test and perform assertions

   &amp;id = GetIntegerValueFromRow(&amp;DataPool, &amp;Row, &quot;id&quot;)

   &amp;expectedName = GetValueFromRow(&amp;DataPool, &amp;Row, &quot;ExpectedName&quot;)

   &amp;name = getName(&amp;id)

  AssertStringEquals(&amp;expectedName, &amp;name, &quot;Assert name is retrieved correctly&quot;)

endfor</pre>

<p> </p>

<h2><a id="Auxiliar+procedures+and+SDTs" class="HashLink" href="#Auxiliar+procedures+and+SDTs">Auxiliar procedures and SDTs</a></h2>

<p>As you might have noted in the previous example, there are some functions and SDTs we used to convert string values to some specific types of values, like integer (numeric), and to store the data read from the CSV file. Those functions are also included inside the GXtest module and are listed below:</p>

<ul>
	<li>GetValueFromRow</li>
	<li>GetIntegerValueFromRow</li>
	<li>GetDecimalValueFromRow</li>
	<li>GetDateValueFromRow</li>
	<li>GetDateTimeValueFromRow</li>
	<li>GetBooleanValueFromRow</li>
</ul>

<p>The input parameters of these methods are the same:</p>

<ul>
	<li>DataPool: the structure read from the CSV file</li>
	<li>DataPoolRow: the row to read the value from</li>
	<li>Column: name of the column/header to read from the DataPoolRow</li>
</ul>

<p>The last parameter is an output parameter and its type is different for each function.</p>

<p>Regarding the SDTs there are two of them: DataPool and DataPoolRow</p>

<p>DataPool object is comprised of a collection of headers in the order they were defined in the CSV file and a list of DataPoolRows, containing the information of each line of the CSV file.</p>

<p> </p>

<p></p>

<p></p>
</div><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="38327.html">Toc:Automated Testing</a></TD><TD><a href="43807.html">Changelog GXtest</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 01/31/22 04:05 PM</em></font></td></TR></table></font>