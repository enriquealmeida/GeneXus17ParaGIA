<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Prompt rule</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?6863,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Prompt rule</h1>
<!--Prompt rule--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Changes a default prompt automatically called in a <a href="1908.html">Transaction object</a> or <a href="15974.html">Work With for Smart Devices object</a> Section(General)/Edit layout. It also allows invoking a prompt for a secondary attribute or a variable, to help the user with the selection of a valid value.</p>

<p><span style="line-height: 20.8px;">If the Prompt rule references several out parameters, at least one of them must be enabled in the Form; otherwise the Prompt rule will not be enabled.</span></p>

<h3><a id="Syntax" class="HashLink" href="#Syntax">Syntax</a></h3>

<p><b>Prompt(</b><em>objectName</em>, <em>parm<sub>x</sub></em> [, <em>parm<sub>1, </sub>.... , par<sub>N</sub></em><em><sub></sub></em>]<b>)</b> [ <b>on</b> <i>ctrl</i> ] <b>;</b></p>

<p><b>Where:</b><br />
<em>objectName</em><br />
 It's the name of the called object (it must be a Web Panel, Panel, or Work Panel, returning at least a parameter).<br />
<br />
<i>parm</i><i><sub>x</sub></i><br />
<span style="font-size: larger;"><sub>It's the attribute or variable for which the user needs to select a value through the prompt. </sub><span style="font-size: smaller;"><span style="vertical-align: sub;">If it is a compound foreign key, you have to specify the attributes that compose the foreign key separated by a comma.</span></span></span></p>

<p><em>parm<sub>1</sub>, .... , par<sub>N</sub></em><br />
Optional parameters that can be sent to the called object (and must be received there) for some purpose (I.e: for filtering in the prompt and showing only certain records that fulfill with a condition).</p>

<p><i>ctrl</i><br />
Is the control associated with the prompt.  </p>

<h3><a id="Description" class="HashLink" href="#Description">Description</a></h3>

<p><a href="1908.html">Transactions</a> offer automatically in their forms a <a href="21635.html">prompt or selection list</a> for each foreign key, by pressing the arrow icon offered aside each Foreign Key. They also offer another prompt by pressing the magnifying glass icon offered in the form above all. Similarly, when editing in a mobile application an element previously selected from the List of a Work With &lt;Transaction&gt;, a prompt will be offered on each FK attribute. That is, each WorkWith&lt;TransactionName&gt; offers in its Section(General)/Edit Layout prompts for each FK. </p>

<h3><a id="Notes" class="HashLink" href="#Notes">Notes</a></h3>

<p>If the attributes indicated as parameters compose a foreign key and there is an automatically generated prompt based on this foreign key, the object indicated in the prompt rule is called instead of the prompt generated by GeneXus.</p>

<p>As the syntax shows, the Prompt rule allows you to (optionally) specify a Web or mobile interface, the name of the control associated with the specific prompt you want to call. The possible controls for the web objects are those which have the link property (TextBlock, Image, etc.). For the mobile apps, the possible controls are the ones that can have an associated Tap Event.</p>

<p>If ‘on Ctrl’ is omitted, an image, button, etc. will be added (in the corresponding environments) to the right of the field(s) with prompt, as it has occurred so far. </p>

<h3><a id="Samples" class="HashLink" href="#Samples">Samples</a></h3>

<h4>Use of prompts on foreign key attributes<br />
<br />
Transactions:</h4>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Invoice                    Customer
{                          {
   InvoiceNumber*             CustomerId*
   InvoiceDate                CustomerName
   CustomerId              }
   CustomerName
   InvoiceAmount
}</pre>

<h4><a id="Rules+for+Invoice%3A" class="HashLink" href="#Rules+for+Invoice%3A">Rules for <b>Invoice</b>:</a></h4>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
prompt(CustomerSelection,CustomerId);</pre>

<h4><a id="Web+Panel+CustomerSelection%3A" class="HashLink" href="#Web+Panel+CustomerSelection%3A">Web Panel <b>CustomerSelection</b>:</a></h4>

<p>Rules:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Parm(inout: &amp;CustomerId);
</pre>

<p>Form: a grid with <a href="6347.html">Base Table</a> CUSTOMER, necessarily containing the CustomerId attribute (either visible or invisible).</p>

<p>Events:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event Enter
    &amp;CustomerId = CustomerId  //the selected value is charged in the parameter to be returned
    Return
EndEvent</pre>

<p><u>Note:</u> This example shows the prompt rule applied to a Transaction, but it can be used in a Web Panel. Suppose you define a variable &amp;customerId with the same data type as CustomerId. If you specify in the Web Panels Rules section:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
prompt(CustomerSelection, &amp;customerId); </pre>

<p>the prompt icon will be displayed next to the variable in the form, allowing the user to select the customer from the CustomerSelection object.</p>

<p>If the prompt has more than one out parameter, the prompt icon will be displayed in the last one of the parm rule.</p>

<h4><a id="Use+of+prompts+on+NON-foreign+key+attributes" class="HashLink" href="#Use+of+prompts+on+NON-foreign+key+attributes">Use of prompts on NON-foreign key attributes</a></h4>

<p>Transaction Student:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Student
{
   StudentId*
   StudentName
   StudentGender
   StudentAge
   StudentAdd
}
</pre>

<p>Rules:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
prompt(GenderSelection, StudentGender);
</pre>

<p>The attribute, StudentGender, is not a foreign key, but it must comply with its defined value range ('F' / 'M'). The Web Panel 'GenderSelection' displays the two possible values, and either value can be selected. This prompt is activated when you press the icon offered aside from the attribute StudentGender.</p>

<p>Similarly, having the Panel 'GenderSelection' and the above prompt rule in the Rules section of the WorkWithStudent/Section(General)/Edit layout, when trying to insert/modify a student through this layout at runtime, the StudentGender attribute will have the possibility to activate the 'GenderSelection' prompt in order to select the desired one.</p>

<p><u>Note</u>: These examples show how to use the prompt rule on a non-FK attribute inside a Transaction or WW Section(General)/edit. But the same can be done using a variable (&amp;gender) in a Web Panel or Panel for Smart Devices, to be loaded from the called prompt object.</p>

<h3><a id="Note" class="HashLink" href="#Note">Note</a></h3>

<p>The Prompt rule does not execute server-side events (Web Panels: <a href="8043.html">Start event</a>, <a href="https://wiki.genexus.com/commwiki/wiki?8195,," target="_blank">Refresh event</a> and <a href="8188.html">Load event</a>; Transactions: Start event and <a href="8046.html">Exit event</a>), except that it uses parameters encryption (<a href="8068.html">Encrypt URL parameters property</a>). When encrypting parameters, server-side events are executed.</p>

<h3><a id="Note+2+" class="HashLink" href="#Note+2+">Note 2 </a></h3>

<p>When you call a prompt (popup) with the GET method, you don´t have control over the maximum URL length. Each browser solves it differently:<br />
https://stackoverflow.com/questions/4618013/414-request-uri-too-large-is-this-browser-dependant<br />
https://support.microsoft.com/en-us/help/208427/maximum-url-length-is-2-083-characters-in-internet-explorer</p>

<h3><a id="Scope" class="HashLink" href="#Scope">Scope</a></h3>

<table border="0" style="width: 650.0px;">
	<tbody>
		<tr>
			<td><strong>Objects</strong></td>
			<td><a href="1908.html">Transaction object</a>, <a href="6916.html">Web Panel object</a>, <a href="15974.html">Work With for Smart Devices object</a>, <a href="24829.html">Panel object</a></td>
		</tr>
		<tr>
			<td><strong>Interface</strong></td>
			<td>Web, Smart Devices</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="See+also" class="HashLink" href="#See+also">See also</a></h3>

<p><a href="6864.html">Refcall rule</a><br />
<a href="6865.html">Refmsg Rule</a></p>

<p><br />
</p>
<br />
</td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="23901.html">How are prompts invoked?</a></TD></TR><TR><TD><a href="6861.html">NoPrompt rule</a></TD><TD><a href="21635.html">Prompt</a></TD></TR><TR><TD><a href="6864.html">Refcall rule</a></TD><TD><a href="6865.html">Refmsg Rule</a></TD><TD><a href="13576.html">Select Record from Prompt</a></TD><TD><a href="23894.html">Selection Lists</a></TD></TR><TR><TD><a href="8213.html">Transaction rules</a></TD><TD><a href="2280.html">Transaction rules when executed as Business Component</a></TD></TR><TR><TD><a href="8288.html">Web Panel rules</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 05/20/21 08:21 AM</em></font></td></TR></table></font>