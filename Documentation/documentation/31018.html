<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Automatic data population associated with Transactions - FAQ</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?31018,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Automatic data population associated with Transactions - FAQ</h1>
<!--Automatic data population associated with Transactions - FAQ--><div class="TableWikiBody" id="tblwikibody"><p>Here is a list of Frequently Asked Questions about the topic <a href="32706.html">Automatic data population associated with Transactions</a>:</p>

<ul>
	<li><strong>In which cases GeneXus automatically<span style="background-color: rgb(245,246,245);"> </span>set the Transaction <a href="9548.html">Business Component property</a>  = True, and in which cases you can set it explicitly?</strong></li>
</ul>

<p style="margin-left: 40.0px;">When you set the <a href="29584.html">Used to property</a> of a <a href="1908.html">Transaction</a> = Populate Data, GeneXus <span style="background-color: rgb(245,246,245);">automatically</span><span style="background-color: rgb(245,246,245);"> </span>sets the Transaction <a href="5846.html">Business Component</a>  = True, in order to store the data specified in the <a href="29597.html">associated Data Provider</a> in the physical table(s) associated with the Transaction. The operation that will be performed -through the Transaction executed as a business component- is an “upsert”; that is to say, an addition will be attempted, but if it fails because a duplicate key is found, an update will be performed.</p>

<p style="margin-left: 40.0px;">On the other hand, when you set the <a href="29584.html">Used to property</a> of a Transaction to Retrieve Data since no physical tables are created in association with the Transaction, the Business Component property remains with its default value (False). You can set it to True (<a href="28656.html">Learn more about this case</a>).<br />
 </p>

<ul>
	<li><strong>When is the data population run?</strong></li>
</ul>

<p style="margin-left: 40.0px;">You can find the answer in the <a href="29584.html">Used to property</a> article.<br />
 </p>

<ul>
	<li>
	<p><strong>How can you solve the case in which a Transaction needs an autogenerated key and as <a href="29584.html">the associated Data Provider is executed several times</a> it may cause data content to be</strong> <strong>repeated?  </strong></p>
	</li>
</ul>

<p style="margin-left: 40.0px;">Consider the following example, which may cause data content to be repeated:</p>

<p style="margin-left: 40.0px;"><img src="./images/29593.png" id="29593" class="WikiImage"/><br />
<br />
Because the MaritalStatus <a href="1908.html">Transaction</a> has the <a href="6798.html">Autonumber property</a> set to True for MaritalStatusId attribute and the Data Provider is defined as follows:</p>

<p style="margin-left: 40.0px;"><img src="./images/31796.png" id="31796" class="WikiImage"/></p>

<p style="margin-left: 40.0px;">It's never going to happen that a duplicate key is detected when an insertion is tried (because always a new identifier value is generated). So, data content may be repeated. To avoid this, an alternative may be:</p>

<p style="margin-left: 40.0px;">1) Not to set the Autonumber property = True for the MaritalStatusId identifier attribute.</p>

<p style="margin-left: 40.0px;">  The MaritalStatus_DataProvider has to be defined as follows:</p>

<pre class="Code" style="margin-left: 40.0px;">
<img src="./images/37731.png" id="37731" class="WikiImage"/>
</pre>

<p style="margin-left: 40.0px;">Thus, each time the MaritalStatus_DataProvider is executed, when an insertion is tried a duplicate key is detected.</p>

<p style="margin-left: 40.0px;">2) To obtain an autogenerated key for the MaritalStatusId attribute when the MaritalStatus Transaction is executed (through its form or as a business component), you can define the following rule in the MaritalStatus Transaction (to get the primary key value with the NextNumber Procedure defined by you):</p>

<pre class="Code" style="margin-left: 40.0px;">
MaritalStatusId = NextNumber() if MaritalStatusId.IsEmpty() on BeforeInsert;
</pre>

<pre class="Code" style="margin-left: 40.0px;">
Procedure: NextNumber
Rule: Parm(out:&amp;NextId);
For each MaritalStatus order (MaritalStatusId)
    &amp;NextId = MaritalStatusId + 1
    exit
when none
    &amp;NextId = 1
endfor    </pre>

<p style="margin-left: 40.0px;">The last thing to take into account is that the MaritalStatusId identifier attribute must be set as read-only and the MaritalStatus Transaction must be called with the different modes instantiated (for example from the corresponding Work With Web Panel). In this way, when the Transaction is executed in Insert mode, the identifier value is empty, the end-user can not enter any value to it, and the NextNumber Procedure will be executed. </p>

<p style="margin-left: 40.0px;">Note: Remember that we recommend using the <a href="5846.html">Business Component</a> concept so that the rules defined for the Transaction are triggered. If you decide to insert using the new command, the NextNumber procedure has to be called explicitly.</p>

<p style="margin-left: 40.0px;"> </p>

<p><br />
</p>

<p></p>
</div><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="32706.html">Toc:Automatic data population associated with Transactions</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 05/02/22 04:56 PM</em></font></td></TR></table></font>