<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Optimistic concurrency control</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?22885,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Optimistic concurrency control</h1>
<!--Optimistic concurrency control--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>GeneXus uses the <a href='http://en.wikipedia.org/wiki/Optimistic_concurrency_control'>Optimistic concurrency control</a> mechanism when updating records via <a href="1908.html">Transaction objects</a> and <a href="5846.html">Business Components</a>.</p>

<p>This mechanism assumes that multiple &quot;database transactions&quot; can complete without affecting each other and that therefore these &quot;database transactions&quot; can proceed without locking the data resources that they affect. Before performing an update, each database transaction verifies that no other database transaction has modified its data.</p>

<p>This has a relation with the stateless nature of the web; which makes locking infeasible for web user interfaces. It's common for a user to start editing a record, then leave without following a &quot;cancel&quot; or &quot;logout&quot; link. If locking is used, other users who attempt to edit the same record must wait until the first user's lock times out.</p>

<p>Instead of locking every record every time that it is used, the system merely looks for indications that two users actually did try to update the same record at the same time. If that evidence is found, then one user's updates are discarded and the user is informed.</p>

<p>In the GeneXus context, when two or more users want to update the same record, the first one will be able to update it and the others will get an error (because they were about to save new data based on outdated information updated by another user). So, in these last cases, the committing transaction rolls back.</p>

<p>Optimistic concurrency control is based on the <a href="https://wiki.genexus.com/commwiki/wiki?8472,," target="_blank">Old Function</a>. When a record is confirmed, the &quot;old&quot; values for all attributes are compared with current database values; if one value does not match, an error is displayed: &quot;<em>Table was changed</em>&quot;, which means that another user modified the record since the time you get the values.</p>

<h3><a id="Notes" class="HashLink" href="#Notes">Notes</a></h3>

<ul>
	<li>Only the attributes present in the Transaction structure are taken into account. In other words, if there are <a href="20209.html">Parallel Transactions</a> with more attributes, they are not checked.</li>
	<li>This mechanism does not apply to Blob based attributes (Image,Video,Audio),  Longvarchar, and <a href="https://wiki.genexus.com/commwiki/wiki?2006,," target="_blank">Additive Attributes</a>.</li>
</ul>

<p></p>
<br /></td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="45563.html">Toc:Concurrency control</a></TD><TD><a href="13998.html">Pseudo Conversational Dialog Property</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:20 PM</em></font></td></TR></table></font>