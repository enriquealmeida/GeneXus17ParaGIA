<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>How to use maps that are not provided by QueryViewer</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?49859,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">How to use maps that are not provided by QueryViewer</h1>
<!--How to use maps that are not provided by QueryViewer--><div class="TableWikiBody" id="tblwikibody"><p>The <a href="9075.html">QueryViewer control</a> provides and supports the following maps:</p>

<ul>
	<li>World</li>
	<li>All the continents</li>
	<li>The following countries: 
	<ul>
		<li>Argentina</li>
		<li>Brazil</li>
		<li>Chile</li>
		<li>China</li>
		<li>Japan</li>
		<li>Mexico</li>
		<li>Paraguay</li>
		<li>Spain</li>
		<li>United States of America</li>
		<li>Uruguay</li>
	</ul>
	</li>
</ul>

<p>These are the countries that are most used by the GeneXus community. With every map included in the QueryViewer the size of the deploy package increases. In order to keep it as small as possible no further maps will be, by default, included in QueryViewer. </p>

<p>But you can still use any country you need. You simply have to follow the steps below: </p>

<p>1) Access the following Github repository: <a href='https://github.com/genexuslabs/echarts-countries-js/tree/releases/1.0'>https://github.com/genexuslabs/echarts-countries-js/tree/releases/1.0</a></p>

<p>2) Choose the country map that you need and download it.</p>

<p>3) If you want to use ISO 3166-2 codes as the geographical dimension you will need to make some editions to the map as explained below.</p>

<p>4) Copy the downloaded map in the following GeneXus directories:</p>

<ul style="margin-left: 40.0px;">
	<li>UserControls\QueryViewer\Echarts\countries</li>
	<li>Packages\Reporting\QueryViewer\Echarts\countries</li>
</ul>

<p>5) Restart GeneXus</p>

<h3><a id="How+to+add+the+iso+code+to+a+map%3F" class="HashLink" href="#How+to+add+the+iso+code+to+a+map%3F">How to add the iso code to a map?</a></h3>

<p>To use a map from the Github repository above and use ISO 3166-2 codes as the geographical dimension you must edit and add the ISO 3166-2 codes for all the first level subdivisions of that country. </p>

<p>To do so, open the js file of the required map (i.e. if you want to add the ISO 3166-2 codes of France, the map name will be fr-all.js).</p>

<p>In the fr-all.js file, inside the properties of each subdivision, add the &quot;iso-code&quot; property as shown in the following example:</p>

<p><img src="./images/49923.png" id="49923" class="WikiImage"/></p>

<p>You can find the iso code of each country and subdivision in <a href='https://www.iso.org/obp/ui/#search/code/'>ISO - International Organization for Standardization.</a></p>

<h3><a id="Considerations" class="HashLink" href="#Considerations">Considerations</a></h3>

<ul>
	<li>In the Github repository, you can find the map of a country named according to the ISO Code 3166. The structure of the name of any map is the following: <strong>(iso code 3166)-all.js</strong>. For example, if you need the map of France you have to look for the file with the name <strong>fr-all.js</strong>.</li>
	<li>Please, don't change the name of the map that you downloaded from the Github repository.</li>
	<li>In the same way you can define the property &quot;center&quot; to the different regions as shown in the following example:</li>
</ul>

<p style="margin-left: 40.0px;"><img src="./images/49925.png" id="49925" class="WikiImage"/></p>

<p style="margin-left: 40.0px;">This is useful when you use bubble maps (with ISO 3166 codes) and want the bubble to be centered in specific coordinates.<br />
By default the position of the bubbles is calculated as the center of the region's polygon but for some areas that doesn't represent very well the main geographic area, or it's located outside the polygon for very irregular areas.</p>

<ul>
	<li>For download a map from github, there are some tips:</li>
</ul>

<p style="margin-left: 80.0px;">1. If you need all the country map collection you can download this in a zip folder:</p>

<p style="margin-left: 80.0px;"><img src="./images/50002.png" id="50002" class="WikiImage"/> </p>

<p style="margin-left: 80.0px;">2. If you need only some maps and you want to download individually, you can follow the next steps:</p>

<p style="margin-left: 120.0px;">-Select the map of the country that you want <br />
-Select &quot;Raw&quot;<br />
-Press &quot;Ctrl+S&quot; and you can save it with the original name.</p>

<p style="margin-left: 120.0px;"><img src="./images/50003.png" id="50003" class="WikiImage"/></p>

<h3><a id="See+also" class="HashLink" href="#See+also">See also</a></h3>

<p><a href="48199.html">Maps in QueryViewer</a></p>

<p></p>
</div><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="48199.html">Maps in QueryViewer</a></TD><TD><a href="25314.html">Toc:Reporting in GeneXus</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 01/26/22 02:19 PM</em></font></td></TR></table></font>