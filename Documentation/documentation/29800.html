<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Share external object</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?29800,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Share external object</h1>
<!--Share external object--><div class="TableWikiBody" id="tblwikibody"><div>
<p style="text-align: left;">It is increasingly common for users to share information from an application by using other applications installed on the device (e.g. Instagram, Facebook, Gmail, Hangouts, Dropbox). The Share external object<span id="docs-internal-guid-58a0b316-64dc-1ab8-65e5-714d87d91e1b"> lets you share content with any third-party application registered in the device to receive shared content.</span></p>

<p style="text-align: left;"><div style="background-color: rgb(255,255,204);border-left: 6.0px solid rgb(255,255,0);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><strong>Warning</strong>:  Keep in mind that <strong>not all applications allow sharing any kind of content</strong>, it is necessary to consider each case independently depending on each platform. Check the Troubleshooting and Notes sections for details and differences between platforms.</div>
</p>
</div>

<div>
<div style="overflow-x:auto"><table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><img src="./images/39650.png" id="39650" class="WikiImage"/></td>
			<td style="vertical-align: top;"><img src="./images/39651.png" id="39651" class="WikiImage"/></td>
		</tr>
	</tbody>
</table></div>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  For specific social media sharing, Facebook and Twitter external objects are also available.</div>
</p>

<h2><a id="Properties" class="HashLink" href="#Properties">Properties</a></h2>
</div>

<div>
<p>It does not have any</p>

<h2><a id="Methods" class="HashLink" href="#Methods">Methods</a></h2>

<div>
<h3><a id="ShareText+method" class="HashLink" href="#ShareText+method">ShareText method</a></h3>

<p>Shares a text. Optionally, an URL and a title can be added (otherwise, leave them empty). </p>

<div style="overflow-x:auto"><table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Return value </strong></td>
			<td style="vertical-align: top;">None</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Parameters</strong></td>
			<td style="vertical-align: top;">text:<a href="6778.html">VarChar(200)</a> [ , url:<a href="15668.html">URL</a> ] [ , title:<a href="6778.html">VarChar(200)</a> ]<br />
			 </td>
		</tr>
	</tbody>
</table></div>

<h3><a id="ShareImage+method" class="HashLink" href="#ShareImage+method">ShareImage method</a></h3>

<p>It allows sharing an Image. Optionally, a text, an URL and a title can be attached to it.</p>

<div style="overflow-x:auto"><table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Return value </strong></td>
			<td style="vertical-align: top;">None</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Parameters</strong></td>
			<td style="vertical-align: top;">image:<a href="15204.html">Image</a> [ , text:<a href="6778.html">VarChar(200)</a> ] [ , url:<a href="15668.html">URL</a> ] [ , title:<a href="6778.html">VarChar(200)</a> ]<br />
			 </td>
		</tr>
	</tbody>
</table></div>

<h3><a id="ShareFile+method" class="HashLink" href="#ShareFile+method">ShareFile method</a></h3>

<p>It allows sharing a File (e.g. a PDF file generated by the application). Optionally, a text, and a title can be provided.</p>

<div style="overflow-x:auto"><table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Return value </strong></td>
			<td style="vertical-align: top;">None</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Parameters</strong></td>
			<td style="vertical-align: top;">fileURI:<a href="6778.html">VarChar</a> [ , text:<a href="6778.html">VarChar(200)</a>, title:<a href="6778.html">VarChar(200)</a> ]<br />
			 </td>
		</tr>
	</tbody>
</table></div>

<p>Note: in iOS the text parameter is ignored.</p>

<p>This method is available as of <a href="https://wiki.genexus.com/commwiki/wiki?49301,," target="_blank">GeneXus 17 upgrade 7</a>.</p>

<h2><a id="Events" class="HashLink" href="#Events">Events</a></h2>

<p>It does not have any</p>

<h2 style="line-height: 1.295;margin-top: 0.0pt;margin-bottom: 8.0pt;"><a id="Examples" class="HashLink" href="#Examples">Examples</a></h2 style="line-height: 1.295;margin-top: 0.0pt;margin-bottom: 8.0pt;">

<h3><a id="ShareText+%26+ShareImage" class="HashLink" href="#ShareText+%26+ShareImage">ShareText &amp; ShareImage</a></h3>

<p>In <a href="https://wiki.genexus.com/commwiki/wiki?22592,," target="_blank">LightCRM</a>, suppose we want users to share information about the meeting.</p>

<p>To do this, we add a “Share” button to the Application Bar of the Work with Meeting object.</p>

<p><img src="./images/30759.png" id="30759" class="WikiImage"/></p>

<p>Next, we program the Event associated with this button.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event 'Share'
    Composite
        If not CompanyLogo.IsEmpty()
            msg(&quot;Sharing meeting with image&quot;,status)
            Share.ShareImage(CompanyLogo, MeetingTitle,!&quot;http://www.genexus.com&quot;,MeetingNote)
        Else
            msg(&quot;Sharing meeting&quot;,status)
            Share.ShareText(MeetingTitle,!&quot;http://www.genexus.com&quot;,MeetingNote)
        EndIf
    EndComposite
EndEvent
</pre>

<p>The application will look as shown below. Clicking on the button displays a pop-up dialog that shows the applications installed on our device for sharing content. Lastly, you must to select one of these applications and share it!</p>

<p><img src="./images/30761.png" id="30761" class="WikiImage"/></p>

<h3><a id="ShareFile" class="HashLink" href="#ShareFile">ShareFile</a></h3>

<p>Supsose that you have an offline application that generates a PDF file, and you want to give your users the possibility of exporting that file to save it to a cloud storage provider, like Dropbox, Google Drive, or iCloud.</p>

<p>You coud then have a GeneratePDF Procedure with the following rules</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
parm(in:&amp;fileName, out:&amp;fileUrl);
output_file(&amp;fileName, &quot;PDF&quot;);</pre>

<p>and this code somewhere in the source part:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;filePath = Directory.TemporaryFilesPath + &amp;file.Separator + &amp;name + '.' + &amp;extension
&amp;fileUrl = !'file://' + &amp;filePath</pre>

<p>To share the generated PDF file from an action in your application, you could add a button with the following associated event:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event 'ShareFile'
    composite
        &amp;fileUrl = GeneratePDF('Sample')
        GeneXus.Social.Share.ShareFile(&amp;fileUrl)
    endcomposite
EndEvent</pre>

<p>Note:</p>

<ul>
	<li>All the variables in the previous code examples are defined as VarChar, except for the &amp;file variable that is based on the File type.</li>
</ul>

<h2><a id="Notes" class="HashLink" href="#Notes">Notes</a></h2>

<ul>
	<li>Not all parameters specified in the methods will be shown in all applications when you share content, except for those that are required or accepted by the applications.</li>
	<li>The URL parameter should be complete, following the format <span style="font-family: courier new;">&lt;scheme&gt;://&lt;domain&gt;[&lt;port&gt;]/&lt;path&gt;</span>. Otherwise, the URL is considered relative to the Service URL of the application. </li>
</ul>

<h2><a id="Troubleshooting" class="HashLink" href="#Troubleshooting">Troubleshooting</a></h2>

<p>Not all third-party application accept any kind of content. </p>

<p>For example,</p>

<ul>
	<li>Facebook always is exposed as a &quot;share-with&quot; application but does not allow to share plain text, it only allows you sharing images and URLs<em>, </em>but not both at the same time.</li>
	<li>WhatsApp allows you to share images only if text, title, and URL are empty; otherwise, the image will not be sent.</li>
	<li>Twitter ignores title parameters.</li>
	<li>GMail takes the title as the subject of the email and text as its content.</li>
	<li>WeChat on iOS: it is not allowed to share a text without an image/URL.</li>
</ul>

<p>These limitations depend on the external application receiving the content.</p>

<h2><a id="Scope" class="HashLink" href="#Scope">Scope</a></h2>

<div style="overflow-x:auto"><table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><b>Platforms </b></td>
			<td>Smart Devices (iOS, Android)</td>
		</tr>
	</tbody>
</table></div>

<div>
<h2><a id="Availability" class="HashLink" href="#Availability">Availability</a></h2>

<p>This external object is available as of <a href="https://wiki.genexus.com/commwiki/wiki?28265,," target="_blank">GeneXus 15</a>.</p>
</div>

<h2><a id="See+also" class="HashLink" href="#See+also">See also</a></h2>

<ul>
	<li><a href="38432.html">Facebook external object</a></li>
	<li><a href="39432.html">Twitter external object</a>.</li>
</ul>

<p></p>
</div>
</div>
</div><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="25150.html">External utilities used by Genexus generated iOS applications</a></TD></TR><TR><TD><a href="31268.html">GeneXus Core module</a></TD><TD><a href="15288.html">Category:Smart Devices API</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 11/17/21 07:15 PM</em></font></td></TR></table></font>