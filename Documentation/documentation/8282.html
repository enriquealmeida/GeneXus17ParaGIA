<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>AfterValidate Triggering event</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?8282,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">AfterValidate Triggering event</h1>
<!--AfterValidate Triggering event--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>If you add an AfterValidate <a href="6840.html">triggering event</a> to a transaction rule, you will be specifying that you want to execute that rule, for each instance of the <a href="23108.html">level associated to the rule</a>, immediately before the instance is physically saved (inserted, updated or deleted) in the physical table associated to the level. This triggering event hasn't got implicitly a certain operation (insertion, update, deletion) in the database. The execution is when the user has already confirmed and immediately before writing the involved table.           </p>

<h3><a id="Syntax" class="HashLink" href="#Syntax">Syntax</a></h3>

<p><a href="8213.html">Any valid Transaction rule</a> [ IF <em>condition </em>][ <strong>ON AfterValidate</strong>] ;</p>

<p>Where:</p>

<p><em>condition</em><br />
         Is any valid logic condition</p>

<h3><a id="Example" class="HashLink" href="#Example"><strong>Example</strong></a></h3>

<p>Let's suppose the <a href="6798.html">Autonumber property</a> isn't an option to number automatically a primary key attribute because the user asks for a particular numeration with a certain criterion (with alphanumeric characters). So, we must solve it by programming a procedure object. </p>

<p>To call the numbering procedure, we must define a rule like the following, in the transaction that requires the particular numeration for its primary key (let's suppose the Flight transaction):</p>

<p>FlightId = NextFlightNumber() if Insert on AfterValidate;</p>

<p>It is not important for us in this moment to know the NextFlightNumber procedure code. If we read this rule defined in the Flight transaction, we know:</p>

<ol>
	<li>The procedure is returning a value for the primary key</li>
	<li>The rule is executed if the user is inserting a flight (because of the if insert condition explicitly added to the rule)</li>
	<li>Immediately before the first level data is inserted as a record in the FLIGHT physical table, the rule is executed  (because of the triggering event: on AfterValidate and the fact that the only referenced attribute in the rule belongs to the first level transaction).</li>
</ol>

<h3><a id="Notes" class="HashLink" href="#Notes">Notes</a></h3>

<ul>
	<li>This rule definition is appropriate because the procedure call is executed before inserting the record in the table. In other words, the insertion has been confirmed by the user, but it has not yet occurred. So the value returned by the procedure is assigned to the FlightId attribute, at the time of writing the Flight record.</li>
</ul>

<ul>
	<li>If no attribute were specified in the rule, the first level is assumed to trigger the rule. </li>
</ul>

<h3><a id="Scope" class="HashLink" href="#Scope"><strong>Scope</strong></a></h3>

<p><strong>Objects   </strong><a href="1908.html">Transaction object</a></p>

<h3><a id="Compatibility" class="HashLink" href="#Compatibility"><strong>Compatibility</strong></a></h3>

<p>The After(Confirm) triggering event is maintained for backward compatibility reasons. We highly recommend using the AfterValidate event instead. For further information see Triggering Events.</p>

<h3><a id="See+also" class="HashLink" href="#See+also"><strong>See also</strong></a></h3>

<p><a href="8213.html">Transaction rules</a><br />
<a href="6840.html">Rule Triggering Events</a></p>

<p></p>

<p> </p>

<p></p>

<p></p>

<p><br />
<br />
</p>
<br /><br /></td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="8284.html">After Action Triggering event</a></TD><TD><a href="8321.html">After function</a></TD><TD><a href="8546.html">Functions in Transactions</a></TD></TR><TR><TD><a href="12734.html">GetOldValue Method</a></TD><TD><a href="6840.html">Category:Triggering events for rules in Transactions</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:16 PM</em></font></td></TR></table></font>