<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Query Object: for each clause</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?33957,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Query Object: for each clause</h1>
<!--Query Object: for each clause--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>The For each clause in a <a href="9026.html">Query object</a> allows splitting a data element into more than one by using one axis to perform the separation.</p>

<p>In other words, it allows displaying the Query's result separated by the differents values, if you want it is similar to a SQL <em>group by</em> operation. The syntax is composed of the following elements:</p>

<p><img src="./images/46252.png" id="46252" class="WikiImage"/><br />
<strong>for each:</strong><br />
<img src="./images/46215.png" id="46215" class="WikiImage"/><br />
<strong>argument:</strong><br />
<img src="./images/46253.png" id="46253" class="WikiImage"/><br />
<strong>arithmetic expression:</strong><br />
<img src="./images/46216.png" id="46216" class="WikiImage"/></p>

<p>which in short translates to:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&lt;Expression1&gt; for each &lt;Expression2&gt;</pre>

<p>where:</p>

<ul>
	<li><em>&lt;arithmetic expression&gt;</em> is the data to split. It can be defined by a simple expression or with an aggregated formula.</li>
	<li><em>&lt;argument&gt;</em> is the axis used to separate the values. It must be defined using a simple expression (no aggregated formulas are allowed).</li>
</ul>

<h3><a id="Usage+example" class="HashLink" href="#Usage+example">Usage example</a></h3>

<p>There are many scenarios where this clause can be applied, so let's focus in two of them, a simple case and a more complex one.</p>

<p>Let's suppose a Car Dealer reality.</p>

<h4><a id="Simple+case" class="HashLink" href="#Simple+case">Simple case</a></h4>

<p>In this case, we will focus on each Car Brand's total sales. We want to show the differents values separated by country;Â to do so, we define the following Query structure:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
# Attributes
Sum(InvoiceTotal) for each CountryName
CarBrandName
</pre>

<p>After the Query's execution, the following values are displayed:</p>

<p><img src="./images/33972.png" id="33972" class="WikiImage"/></p>

<p>Notice that this type of syntax is also useful when:</p>

<ul>
	<li>the Attribute's values change dynamically over time.</li>
	<li>it's values are unknown when the Query's structure is defined.</li>
</ul>

<h4><a id="Complex+case" class="HashLink" href="#Complex+case">Complex case</a></h4>

<p>In this case, we want to compare the total sale's average with each Car Brand's total over time and separated by countries. So, the following structure is defined:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
# Attributes
Sum(InvoiceTotal) for each CountryName
Average(InvoiceTotal) by CountryName
Year(InvoiceDate)</pre>

<p>The result is as follows:</p>

<p><img src="./images/33975.png" id="33975" class="WikiImage"/></p>

<h3><a id="See+also" class="HashLink" href="#See+also">See also</a></h3>

<ul>
	<li><a href="9075.html">QueryViewer control</a></li>
</ul>

<p><h3><a id="Availability" class="HashLink" href="#Availability">Availability</a></h3>

<p>This behavior is available since <a href="https://wiki.genexus.com/commwiki/wiki?45901,," target="_blank">GeneXus 16 Upgrade 11</a>.</p>

<p></p>
</p>

<p></p>
</td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="11032.html">Query Object Compatibility</a></TD><TD><a href="11782.html">Query object expressions</a></TD></TR><TR><TD><a href="25314.html">Toc:Reporting in GeneXus</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 08/11/20 05:15 PM</em></font></td></TR></table></font>