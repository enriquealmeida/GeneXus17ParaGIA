<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>After connect property</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?9024,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">After connect property</h1>
<!--After connect property--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td>The purpose is to allow calling a GeneXus procedure immediately after assigning the connection in an application. This implementation makes it possible to support audit mechanisms.  <h3><a id="Description" class="HashLink" href="#Description">Description</a></h3>

<p> <p>The idea is that right after taking a connection, a call must be made to a procedure that saves the necessary data to make the connection, such as username, time, action, etc. For example, in the connection it allows indicating the logical user instead of the physical one (the application user instead of the database user).  This allows us to meet a frequent requirement for displaying the actual user even though all users connect with the same generic user account required to use the connection pool.</p>

<p>As for its scope, the implementation is valid for any type of applications including web, win 2-tier and win 3-tier applications. It applies both to the connection with the GeneXus pool and with an external one connecting with a server datasource when Java is used (read <a href="https://wiki.genexus.com/commwiki/wiki?9384,," target="_blank">Use Datasource for Web Based Applications Property</a>).</p>

<h4><a id="Procedure+requirements" class="HashLink" href="#Procedure+requirements">Procedure requirements</a></h4>

<p>The procedure associated with the After Connect property must receive an In parameter of String type (Char).</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
parm(in:&amp;datastore); //&amp;datastore is of Char type</pre>

<p>Internally, in this parameter we send the name of the data store to which it is connecting (it is used by GeneXus when calling the procedure and the user doesn't have to worry about it besides defining the string parameter).</p>

<p>If the logic is to be identified depending on whether we’re connecting to one data store or another, a case can be programmed within the procedure, asking for the value of the parameter received.</p>

<h4><a id="When+is+After+Connect+executed%3F" class="HashLink" href="#When+is+After+Connect+executed%3F">When is After Connect executed?</a></h4>

<p>For Java, read <a href='http://www2.gxtechnical.com/portal/hgxpp001.aspx?15,4,61,O,S,0,,34245'>SAC #34245</a></p></p>
 <h3><a id="wiki%3F17719%2CApplying%2Bproperty%2Bchanges+How+to+apply+changes" class="HashLink" href="#wiki%3F17719%2CApplying%2Bproperty%2Bchanges+How+to+apply+changes"><a href="17719.html">How to apply changes</a></a></h3>

<p> To apply changes made by this property, do a Build with this Only of the object.</p>
 <h3><a id="See+Also" class="HashLink" href="#See+Also">See Also</a></h3>

<p> <p><a href="8997.html">Before connect property</a></p></p>
   <br /> </td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="8997.html">Before connect property</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 09/02/20 07:26 PM</em></font></td></TR></table></font>