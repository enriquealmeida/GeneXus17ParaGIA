<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Audio external object</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?30041,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Audio external object</h1>
<!--Audio external object--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>The audio external object provides a powerful and versatile system for you to control audio stream on smart device applications.<br />
It has three principal aims:</p>

<ul>
	<li>Allow end users to choose audio sources and define when and how to play them.</li>
	<li>Create and manage play queues.</li>
	<li>Customize the functionality of the <a href="31046.html">player</a>.</li>
</ul>

<p><div style="background-color: rgb(255,255,204);border-left: 6.0px solid rgb(255,255,0);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><strong>Warning</strong>:  The methods and events provided by this <a href="17880.html">External Object</a> are fully available on the <a href="17042.html">client-side</a> of smart devices events for <a href="24829.html">panels</a> or <a href="15974.html">WWSD</a> objects and partially available on Web environments.</div>
</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><img src="./images/39660.png" id="39660" class="WikiImage"/></td>
			<td style="vertical-align: top;"><img src="./images/39661.png" id="39661" class="WikiImage"/></td>
		</tr>
	</tbody>
</table>

<h2><a id="Properties" class="HashLink" href="#Properties">Properties</a></h2>

<p>It does not have any.</p>

<h2><a id="Methods" class="HashLink" href="#Methods">Methods</a></h2>

<h3><a id="Play+method" class="HashLink" href="#Play+method">Play method</a></h3>

<p>Plays the given audio with the specified category.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>audio:<a href="16529.html">Audio</a>, category:AudioAPISessionType</td>
		</tr>
	</tbody>
</table>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  Supported for Smart Devices and Web environments.</div>
</p>

<h3><a id="PlayBackground+method" class="HashLink" href="#PlayBackground+method">PlayBackground method</a></h3>

<p>Plays the given audio in the background, and keeps playing while the application is running in the background.  This method is considered canonical, being analogous to <span style="font-family: courier new;">Play(&amp;Audio</span><span style="font-family: courier new;">,AudioAPISessionType</span><span style="font-family: courier new;">.Background)</span> with the ability to add a <em>description </em>when the audio is played.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>audio:<a href="16529.html">Audio</a> [, description:<a href="6777.html">Character(20)</a> ]</td>
		</tr>
	</tbody>
</table>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  Supported for Smart Devices and Web environments.</div>
</p>

<h3><a id="Stop+method" class="HashLink" href="#Stop+method">Stop method</a></h3>

<p>By default, it stops the audio playing in all categories, unless any session type is specified, in which case any audio being played in this category is stopped.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>[ category:AudioAPISessionType ]</td>
		</tr>
	</tbody>
</table>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  Supported for Smart Devices and Web environments.</div>
</p>

<h3><a id="IsPlaying+method" class="HashLink" href="#IsPlaying+method">IsPlaying method</a></h3>

<p>Returns whether there is audio playing in any session type or at a certain category when it is specified.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>[ category:AudioAPISessionType ]</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="GetQueue+method" class="HashLink" href="#GetQueue+method">GetQueue method</a></h3>

<p>Returns the current audio queue.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>MediaQueue</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="GetQueueState+method" class="HashLink" href="#GetQueueState+method">GetQueueState method</a></h3>

<p>Get the information about the state of the current audio queue (including the position in the queue and inside the current playing item, if any).</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>MediaQueueState</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="SetQueue+method" class="HashLink" href="#SetQueue+method">SetQueue method</a></h3>

<p>Sets the current audio queue. Stops current background playback, if any.  Also, it preserves the playing status by looking for the current media item in the new queue; if it finds it, it updates the current position of that item in the queue; otherwise, it stops the queue and plays it from the beginning.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>queue:MediaQueue</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="PlayQueue+method" class="HashLink" href="#PlayQueue+method">PlayQueue method</a></h3>

<p>Starts or resumes playback of the current audio queue (previously set).</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="PauseQueue+method" class="HashLink" href="#PauseQueue+method">PauseQueue method</a></h3>

<p>Pauses playback of the current audio queue.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="SetPlayerSettings+method" class="HashLink" href="#SetPlayerSettings+method">SetPlayerSettings method</a></h3>

<p>Allows the developer to set settings indicated in the AudioPlayerSettings.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>settings:AudioPlayerSettings</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="SetQueueCurrentIndex+method" class="HashLink" href="#SetQueueCurrentIndex+method">SetQueueCurrentIndex method</a></h3>

<p>Sets the current item played by its index in the current media queue. The current item playing can be obtained using the GetQueueState method.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>index:<a href="6793.html">Numeric(8.0)</a></td>
		</tr>
	</tbody>
</table>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  Behavior details:<br />
- If the current item was modified, the <a href="31046.html">player</a> reflects the change.<br />
- If the index does not exist in the current media queue, the call will be ignored.<br />
- If a song in the queue is playing when the method is invoked, that song will be aborted. Then, the selected song (by its index in the queue) starts playing from the beginning - even if the item is the same that is currently playing.<br />
- If you call the method with <em>shuffle mode</em> activated through <em>SetPlayerSettings </em>method, the index is that which belongs to the original queue (set by <em>SetQueue </em>method) and probably not follows the order expected (caused by the player mode).</div>
</p>

<h3><a id="SetQueueCurrentItem+method" class="HashLink" href="#SetQueueCurrentItem+method">SetQueueCurrentItem method</a></h3>

<p>It has the same behavior as <em>SetQueueCurrentIndex</em> method, but It will set it by its MediaId instead of its index in the queue.  </p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>mediaId:<a href="6778.html">VarChar(40)</a></td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="iOSSetShowsMiniPlayer+method" class="HashLink" href="#iOSSetShowsMiniPlayer+method">iOSSetShowsMiniPlayer method</a></h3>

<p>With this method is possible to indicate if the default iOS player is showed (True) or not (False) at the bottom of the screen.<br />
The player will be initialized with the first song paused.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>show:<a href="4374.html">Boolean</a></td>
		</tr>
	</tbody>
</table>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  Considerations:<br />
- This method is iOS specific and it's necessary to set <a href="16229.html">Navigation Style</a> in Slide mode.<br />
- This player is not the same that the <a href="31046.html">mini-player</a>.<br />
- This default mini player (provided by iOS) can be customized by <em>*.plist</em> file located in the generated project adding these additional lines. <br />
&gt;&gt; Customize height:<br />
        <strong>&lt;key&gt;</strong>GXSliderMenuCollapsedBottomPanelHeight<strong>&lt;/key&gt;</strong><br />
        <strong>&lt;integer&gt;</strong><em>numeric_value</em><strong>&lt;/integer&gt;</strong><br />
   where <em>numeric_value</em> is an integer expressed in dips<br />
&gt;&gt; Customize Color<br />
        <strong>&lt;key&gt;</strong>GXAudioAPIMiniPlayerBackgroundColor <strong>&lt;/key&gt;</strong><br />
        <strong>&lt;integer&gt;</strong><em>hex_color</em><strong>&lt;/integer&gt;</strong><br />
   where <em>hex_color </em>is the hexadecimal representation for a color (e.g. #29b6f6)<br />
In order to not overwrite It on every build, It can be added into <em>MainName-Info.plist </em> file located in <em>&lt;gx_install_dir&gt;/iOS/Templates/iOS_Genexus/ </em>directory.</div>
</p>

<h3><a id="iOSDisplayFullScreenPlayer+method" class="HashLink" href="#iOSDisplayFullScreenPlayer+method">iOSDisplayFullScreenPlayer method</a></h3>

<p>This method allows the developer to display the player in fullscreen mode.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="iOSDismissFullScreenPlayer+method" class="HashLink" href="#iOSDismissFullScreenPlayer+method">iOSDismissFullScreenPlayer method</a></h3>

<p>This method allows the developer to dismiss the player when It is in fullscreen mode (e.g. through a custom action on the player).</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Return value </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td><strong>Parameters</strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h2><a id="Events" class="HashLink" href="#Events">Events</a></h2>

<h3><a id="QueueStateChanged+event" class="HashLink" href="#QueueStateChanged+event">QueueStateChanged event</a></h3>

<p>It is triggered when the current media item or the media state in playback changes.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Input</strong></td>
			<td>queueState:MediaQueueState</td>
		</tr>
		<tr>
			<td><strong>Output </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<ul>
</ul>

<h3><a id="QueueItemFinished+event" class="HashLink" href="#QueueItemFinished+event">QueueItemFinished event</a></h3>

<p>It is activated when the current media item has finished playing.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Input</strong></td>
			<td>finishedInfo:MediaItemFinishedInfo</td>
		</tr>
		<tr>
			<td><strong>Output </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<h3><a id="CustomActionEvent+event" class="HashLink" href="#CustomActionEvent+event">CustomActionEvent event</a></h3>

<p>It is called when the end user triggers a custom action with certain ActiontId (usually an event name) in the <a href="31046.html">player</a> with its associated MediaItem.</p>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><strong>Input</strong></td>
			<td>actionId:<a href="6778.html">VarChar(40)</a>, currentItem:MediaItem</td>
		</tr>
		<tr>
			<td><strong>Output </strong></td>
			<td>None</td>
		</tr>
		<tr>
			<td> </td>
			<td> </td>
		</tr>
	</tbody>
</table>

<p>Custom action usage example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event Audio.CustomActionEvent(&amp;actionId, &amp;currentMediaItem)
    composite
        do Case 
            case &amp;actionId= !&quot;someUserAction&quot;
                // do something
            case &amp;actionId= !&quot;anotherAction&quot;
                // do something else
            otherwise
                msg(!&quot;Unknown event&quot;, nowait)
        endCase
    endComposite
EndEvent
</pre>

<h2><a id="Domains" class="HashLink" href="#Domains">Domains</a></h2>

<h3><a id="AudioAPISessionType+domain" class="HashLink" href="#AudioAPISessionType+domain">AudioAPISessionType domain</a></h3>

<p>Possible streams of audio playback.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Background </strong></td>
			<td style="vertical-align: top;">Audio is activated even when you exit the application or lock your device (e.g. a music application)<span style="line-height: 1.6;">.</span></td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Mix</strong></td>
			<td style="vertical-align: top;">Audio is activated even if another audio is playing in the background (e.g. a notification sound when a new message arrived).</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Solo</strong></td>
			<td style="vertical-align: top;">Audio is activated, stopping any other audio and re-playing it once the audio playing in Solo mode is inactive (e.g. like a ringtone on an incoming call). </td>
		</tr>
	</tbody>
</table>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  Solo + Mix modes mix, but Mix + Solo modes stop Mix mode.</div>
</p>

<h3><a id="MediaDuration+domain" class="HashLink" href="#MediaDuration+domain">MediaDuration domain</a></h3>

<p>To manage time elapsed in milliseconds. It's represented by a Numeric(12.0).</p>

<h3><a id="MediaMetadataKey+domain" class="HashLink" href="#MediaMetadataKey+domain">MediaMetadataKey domain</a></h3>

<p>It consists of a known key set for a certain media item. All of them are recognized automatically by the device.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Artist</strong></td>
			<td style="vertical-align: top;">The artist name.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Album</strong></td>
			<td style="vertical-align: top;">The album title.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Author</strong></td>
			<td style="vertical-align: top;">The author name.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Writer</strong></td>
			<td style="vertical-align: top;">The writer name.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Composer </strong></td>
			<td style="vertical-align: top;">The composer name.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Year</strong></td>
			<td style="vertical-align: top;">The release year (number as a string).</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Genre</strong></td>
			<td style="vertical-align: top;">The genre name.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>TrackNumber</strong> </td>
			<td style="vertical-align: top;">The track's number on the album (number as a string).</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>NumberOfTracks</strong>  </td>
			<td style="vertical-align: top;">The number of the album's tracks (number as a string).</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>DiscNumber</strong></td>
			<td style="vertical-align: top;">The disc number (number as a string).</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>AlbumArtist</strong></td>
			<td style="vertical-align: top;">The album artist name.</td>
		</tr>
	</tbody>
</table>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  It is a good practice to incorporate this information into each media item.</div>
</p>

<h3><a id="MediaStreamType" class="HashLink" href="#MediaStreamType">MediaStreamType</a></h3>

<p>Enumerated domain with possible media stream types.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>None</strong></td>
			<td style="vertical-align: top;">No information is provided</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Buffered</strong> </td>
			<td style="vertical-align: top;">It indicates that the streaming content will be buffered.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Live</strong></td>
			<td style="vertical-align: top;">It indicates that the streaming content will be in real-time.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;"> </td>
		</tr>
	</tbody>
</table>

<h3><a id="PlaybackState+domain" class="HashLink" href="#PlaybackState+domain">PlaybackState domain</a></h3>

<p>Enumerated domain describing the possible playback states.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>None</strong></td>
			<td style="vertical-align: top;">The initial state of the play queue. </td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Stopped</strong></td>
			<td style="vertical-align: top;">The play queue is stopped, resetting the current track. This means that when the queue is played again, the last track starts from the beginning.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Paused</strong></td>
			<td style="vertical-align: top;">The play queue is paused. When the queue is played again, the last track will be resumed, starting in the same position before it was paused.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Playing</strong></td>
			<td style="vertical-align: top;">The play queue is playing the current track.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Error</strong></td>
			<td style="vertical-align: top;">Indicates that an error occurred in the play queue</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Transitional</strong> </td>
			<td style="vertical-align: top;">Temporary states of the queue that are not any of those described above (like Buffering, Rewinding, Skipping, Fast-Forwarding, etc.)</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;"> </td>
		</tr>
	</tbody>
</table>

<h3><a id="MediaFinishReason" class="HashLink" href="#MediaFinishReason">MediaFinishReason</a></h3>

<p>Enumerated domain to indicate the reason why the current audio has finished. Its values are:</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Unknown</strong></td>
			<td style="vertical-align: top;">The reason that the media item has finished is not any of the other values listed below.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>PlaybackCompleted</strong> </td>
			<td style="vertical-align: top;">The current audio playing mode has completed or ended normally.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Stopped</strong></td>
			<td style="vertical-align: top;">The current audio playing has stopped.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Skipped</strong></td>
			<td style="vertical-align: top;">The current audio playing has skipped.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>QueueReplaced</strong></td>
			<td style="vertical-align: top;">The audio queue has changed and the current audio playing does not include that item.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;"> </td>
		</tr>
	</tbody>
</table>

<h2><a id="Structured+Data+Types" class="HashLink" href="#Structured+Data+Types">Structured Data Types</a></h2>

<p>To use this API, a set of data types is provided under SmartDevicesApi/Media folder.</p>

<h3><a id="MediaItem" class="HashLink" href="#MediaItem">MediaItem</a></h3>

<p>It is an item from a playlist.</p>

<ul>
	<li>Id:<a href="6778.html">VarChar(40)</a><br />
	The media item identifier.<br />
	 </li>
	<li>Uri:<a href="15668.html">URL</a><br />
	The media item URI (e.g. web URL). It can be provided by a URL Shortener (e.g. <a href='http://tinyurl.com/'>tiny</a>, <a href='https://bitly.com/'>bitly</a> or <a href='https://goo.gl/'>goo.gl</a>)<br />
	 </li>
	<li>ContentType:<a href="6778.html">VarChar(100)</a><br />
	The media item content type (e.g. 'audio/mpeg' for audio).<br />
	 </li>
	<li>StreamType:MediaStreamType<br />
	The media item stream type.<br />
	 </li>
	<li>Title:<a href="6778.html">VarChar(100)</a><br />
	The media item title.<br />
	 </li>
	<li>Subtitle:<a href="6778.html">VarChar(100)</a><br />
	The media item subtitle.<br />
	 </li>
	<li>Description:<a href="6778.html">VarChar(300)</a><br />
	The media item description.<br />
	 </li>
	<li>Image:<a href="15204.html">Image</a><br />
	The media item image (e.g. album cover).<br />
	 </li>
	<li>Duration:MediaDuration<br />
	The media item duration. Semantically 0 means 'infinite' or 'unknown'.<br />
	 </li>
	<li>IsFavourite:<a href="4374.html">Boolean</a><br />
	Indicates if the media item has been marked as favourite (True) or not (False).<br />
	 </li>
	<li>Metadata:Collection( Property )<br />
	Defines key-value pairs to incorporate extra information for a MediaItem. <br />
	 
	<ul>
		<li>Key:<a href="6778.html">VarChar(50)</a><br />
		The metadata key. A set of keys (automatically recognized by the device) is listed in MediaMetadataKey domain, but you can add your custom keys.<br />
		 </li>
		<li>Value:<a href="6778.html">VarChar(500)</a><br />
		The metadata value as a string.</li>
	</ul>
	</li>
</ul>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  The ContentType and StreamType fields are used to interact with <a href="31540.html">Google Chromecast</a> and there are only available on Android.<br />
- ContentType is the MIME type for the Uri. Its value is mandatory (by default &quot;audio/ mpeg &quot;)<br />
- StreamType can be used by the receiver app to make decisions based on its value..</div>
</p>

<h3><a id="+MediaQueue" class="HashLink" href="#+MediaQueue"> MediaQueue</a></h3>

<p>It represents a play queue on the system.</p>

<ul>
	<li>Title:<a href="6778.html">VarChar(100)</a><br />
	The media queue title.<br />
	 </li>
	<li>Items:Collection( MediaItems )<br />
	The media queue items.<br />
	 </li>
</ul>

<h3><a id="+MediaQueueState" class="HashLink" href="#+MediaQueueState"> MediaQueueState</a></h3>

<p>It provides information about the current state of the play queue. </p>

<ul>
	<li>State:PlaybackState<br />
	Indicates the playback state of the queue.<br />
	 </li>
	<li>QueuePosition:<a href="6793.html">Numeric(8.0)</a><br />
	Indicates the queue position of the currently displayed media item (starting at 1).<br />
	 </li>
	<li>TrackPosition:MediaDuration<br />
	Milliseconds elapsed since the start of the media item currently displayed.<br />
	 </li>
	<li>MediaId:<a href="6778.html">VarChar(40)</a><br />
	Identifier of the current item in the media queue.<br />
	 </li>
</ul>

<h3><a id="MediaItemFinishedInfo" class="HashLink" href="#MediaItemFinishedInfo">MediaItemFinishedInfo</a></h3>

<p>It is an item from a playlist.</p>

<ul>
	<li>ItemId:<a href="6778.html">VarChar(40)</a><br />
	Idenfier of the media item.<br />
	 </li>
	<li>QueuePosition:<a href="6793.html">Numeric(8.0)</a><br />
	Position of the media item in the queue.<br />
	 </li>
	<li>TrackPosition:MediaDuration<br />
	Milliseconds elapsed for the media item.<br />
	 </li>
	<li>Reason:MediaFinishReason<br />
	The reason why the media item finished.<br />
	 </li>
</ul>

<h3><a id="AudioPlayerCustomAction" class="HashLink" href="#AudioPlayerCustomAction">AudioPlayerCustomAction</a></h3>

<p>Defines a custom action that will be added to <a href="31046.html">player</a> when it is in full-screen mode.</p>

<ul>
	<li>Id:<a href="6778.html">VarChar(40)</a><br />
	The custom action identifier (e.g. a custom event name).<br />
	 </li>
	<li>Title:<a href="6778.html">VarChar(200)</a><br />
	The custom action title (displayed on the screen).<br />
	 </li>
	<li>Image:<a href="15204.html">Image</a><br />
	The custom action image (e.g. an icon).</li>
</ul>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  Images are only supported on Android generator, images must be included in the KB (external images are not supported) and to watch them it is necessary to include a reference in the SDPanel/WWSD where the player is embedded..</div>
</p>

<h3><a id="+AudioPlayerSettings" class="HashLink" href="#+AudioPlayerSettings"> AudioPlayerSettings</a></h3>

<p>Offers the option to enable three default modes or incorporate a set of custom actions for the <a href="31046.html">player</a> when it is in full-screen mode.<br />
The default modes are:</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td style="vertical-align: top;width: 125.0px;"><strong><em>Toggle Favourite </em></strong></td>
			<td style="vertical-align: top;">Allows the end user to select a song as a favorite or unfavorite. <br />
			Consequently, this action triggers <em>CustomActionEvent </em>event, where EventName has value &quot;GXFavouriteStatusChange&quot; and the MediaItem is that which has changed its <em>IsFavourite</em> field.  </td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong><em>Toggles Repeat</em></strong></td>
			<td style="vertical-align: top;">Allows the end user to play the same song again, play all the queue repetitively or simply not repeat it.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong><em>Toggles Shuffle</em></strong></td>
			<td style="vertical-align: top;">Allows the end user to play the songs randomly or sequentially.</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"> </td>
			<td style="vertical-align: top;"> </td>
		</tr>
	</tbody>
</table>

<ul>
	<li>SupportsFavourite:<a href="4374.html">Boolean</a><br />
	Enables favorite icon on the <a href="31046.html">player</a> and the end user can mark his/her favorites media items.<br />
	 </li>
	<li>SupportRepeat:<a href="4374.html">Boolean</a><br />
	Enables repeat mechanisms (with its icon <img src="./images/39663.png" id="39663" class="WikiImage"/>) on the <a href="31046.html">player</a><br />
	 </li>
	<li>SupportShuffle:<a href="4374.html">Boolean</a><br />
	Enables shuffle mechanism (with its icon <img src="./images/39664.png" id="39664" class="WikiImage"/>) on the <a href="31046.html">player</a><br />
	 </li>
	<li>CustomActions:Collection( AudioPlayerCustomAction )<br />
	A collection of custom actions added to the <a href="31046.html">player</a>.</li>
</ul>

<p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>:  To set a new configuration it is necessary to call <em>SetPlayerSettings </em>method (described below). This action will not take effect until the next time that the player is displayed in full-screen (if it is already shown in that mode when the method is called).</div>
</p>

<h2><a id="Notes" class="HashLink" href="#Notes">Notes</a></h2>

<h3><a id="Smart+Devices" class="HashLink" href="#Smart+Devices">Smart Devices</a></h3>

<ul>
	<li>Audio in background mode can be shared with Google Cast device through <a href="31540.html">Google Cast Receiver Application Id property</a></li>
	<li>For canonical examples, refer to <a href="20114.html">How to using AudioAPI in Smart Devices</a></li>
	<li>On iOS, for playing audio in background mode is necessary to include the 'audio' value to the <a href="35408.html">Background Modes property</a>.</li>
</ul>

<h3><a id="Web+specific" class="HashLink" href="#Web+specific">Web specific</a></h3>

<ul>
	<li>Use standard audio formats such as mp3 or wav files; support for other file extensions depends on the browser. </li>
	<li>Play, PlayBackground and Pause method are available for Web environment since <a href="https://wiki.genexus.com/commwiki/wiki?35908,," target="_blank">GeneXus 15 Upgrade 6</a>.</li>
</ul>

<h2><a id="Scope" class="HashLink" href="#Scope">Scope</a></h2>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td><b>Platforms </b></td>
			<td>Web(Java, .NET), Smart Devices (iOS, Android)</td>
		</tr>
	</tbody>
</table>

<h2><a id="Availability" class="HashLink" href="#Availability">Availability</a></h2>

<p>This external object is available as from <a href="https://wiki.genexus.com/commwiki/wiki?28265,," target="_blank">GeneXus 15</a>.</p>

<ul>
	<li>Web support is partially added since <a href="https://wiki.genexus.com/commwiki/wiki?35908,," target="_blank">GeneXus 15 Upgrade 6</a></li>
	<li>SetQueueCurrentItem is available as of <a href="https://wiki.genexus.com/commwiki/wiki?32288,," target="_blank">GeneXus 15 Upgrade 1</a>.</li>
</ul>

<h2><a id="See+also" class="HashLink" href="#See+also">See also</a></h2>

<ul>
	<li><a href="36060.html">Supported audio formats for Smart Devices</a></li>
	<li><a href="31046.html">AudioController control for Smart Devices</a></li>
	<li><a href="17339.html">HowTo: Using the PlayAudio Method From Interop in Smart Devices Api</a></li>
</ul>

<p></p>

<p><br />
</p>
<br />
<br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="16529.html">Audio data type</a></TD><TD><a href="31046.html">AudioController control for Smart Devices</a></TD></TR><TR><TD><a href="34096.html">AudioRecorder external object</a></TD><TD><a href="35408.html">Background Modes property</a></TD></TR><TR><TD><a href="31268.html">GeneXus Core module</a></TD><TD><a href="31540.html">Google Cast Receiver Application Id property</a></TD><TD><a href="35987.html">Grids with Selection By Code for Smart Devices</a></TD><TD><a href="20114.html">HowTo: Using Audio in Smart Devices</a></TD></TR><TR><TD><a href="15288.html">Category:Smart Devices API</a></TD><TD><a href="36060.html">Supported audio formats for Smart Devices</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:16 PM</em></font></td></TR></table></font>