<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>GAM configuration to send emails</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?48421,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">GAM configuration to send emails</h1>
<!--GAM configuration to send emails--><div class="TableWikiBody" id="tblwikibody"><p>GAM allows you to configure an email server to send emails to users when they want to be notified in any of the following situations:</p>

<ul>
	<li>Account activation.</li>
	<li>The account password was changed.</li>
	<li>The account email address or username were changed.</li>
	<li>Password recovery</li>
	<li>Send password when using the One Time Password method. Read <a href="48197.html">GAM - One Time Password (OTP)</a></li>
</ul>

<h2><a id="Email+server+configuration" class="HashLink" href="#Email+server+configuration">Email server configuration</a></h2>

<p>The configuration for sending emails can be found in <strong>Settings &gt;</strong> <strong>Repository Configuration &gt; Email Tab</strong>.</p>

<p><img src="./images/48422.png" id="48422" class="WikiImage"/><br />
Figure 1: Example of configuration using Gmail server.</p>

<h3><a id="Properties" class="HashLink" href="#Properties">Properties</a></h3>

<ul>
	<li><strong>Server Host</strong>: Domain name of the email server to be used.</li>
	<li><strong>Server Port</strong>: Port on which the service is located on the email server.</li>
	<li><strong>Timeout (seconds)</strong>: Time (in seconds) that the server waits to receive the response.</li>
	<li><strong>Secure</strong>: Indicates whether a secure connection (HTTP or HTTPS) with the server is used.</li>
	<li><strong>Sender email address</strong>: Email address of the sender.</li>
	<li><strong>Sender name</strong>: Name of the sender. This name will appear in the email message sent next to the email address.</li>
	<li><strong>Server require authentication?: </strong>Indicates whether the server requires authentication to proceed with sending the email. If authentication is required, the sender’s credentials will be requested:
	<ul>
		<li><strong>Username</strong>: Sender's username.</li>
		<li><strong>Password</strong>: Password of the corresponding sender.</li>
	</ul>
	</li>
</ul>

<h2><a id="Configuration+of+email+notifications+sent+to+the+user" class="HashLink" href="#Configuration+of+email+notifications+sent+to+the+user">Configuration of email notifications sent to the user</a></h2>

<p>After configuring the email server to be used, you can configure the following properties that will notify the user depending on the action performed. These properties are found in <b>Settings &gt;</b> <b>Repository Configuration &gt; Email Tab</b>:</p>

<ul>
	<li><strong>Send email when user activate account?: </strong>If this option is enabled, when users register with the application, an email will be automatically sent to them containing the account activation link. When enabling this option, the Account Activation Object property must be configured in the corresponding application (read the section <a href="48421.html#Configuracion+de+la+propiedad+Account+Activation+Object'">Configuration of the Account Activation Object property</a>). The account activation link will be valid for the time defined in the property <a href="18934.html">User automatic activation timeout</a> located in the menu Repository Configuration &gt; Users Tab.

	<ul>
		<li><strong>Email subject for activating a user account</strong>: Indicates the subject of the email to be sent to activate the account.</li>
		<li><strong>Email body for activating a user account</strong>: Indicates the body of the email to be sent to activate the account. If the characters %1 and %2 are included in the email body, these values will be replaced with the application name and the account activation link, respectively. On the other hand, if only %1 is found in the email body, it will be replaced with the link to activate the account. If neither %1 nor %2 are included, GAM automatically adds the account activation link at the end of the email body.<br />
		<br />
		<img src="./images/48423.png" id="48423" class="WikiImage"/><br />
		Figure 2: Example of email delivery configuration to activate the account.</li>
	</ul>
	</li>
</ul>

<p> </p>

<ul>
	<li><strong>Send email when user change password?: </strong>If this option is enabled, when a user's password is changed, the user will be automatically notified by email about it.

	<ul>
		<li><strong>Email subject for changing a user password</strong>: Indicates the subject of the email to be sent when a user's password is changed.</li>
		<li><b>Email body for changing a user password</b>: Indicates the body of the email to be sent when a user's password is changed. Optionally, if %1 is included in the email body, it will be replaced with the application name.<br />
		<br />
		<img src="./images/48424.png" id="48424" class="WikiImage"/><br />
		Figure 3: Example of email delivery configuration when the password is changed.</li>
	</ul>
	</li>
</ul>

<p> </p>

<ul>
	<li><strong>Send email when user change email address/username?: </strong>If this option is enabled, when the email address or username of an account are modified, the user associated with that account will be automatically notified by email about it. If the email address is changed, notifications will be sent to the old email address and to the new email address.

	<ul>
		<li><strong>Email subject for changing a user's email address/username: </strong>Indicates the subject of the email to send when the email address/username of a user account are changed.</li>
		<li><strong>Email body for changing a user's email address/username: </strong>Indicates the body of the email to send when the email address/username of a user account are changed. If %1, %2, and %3 are included in the email body, these elements will be replaced with the application name, old email address, and new email address, respectively. If only %1 and %2 are included in the email body, they will be replaced with the old email address and the new email address, respectively. If only %1 is found in the email body, it will be replaced with the new email address/username.<br />
		<br />
		<img src="./images/48425.png" id="48425" class="WikiImage"/><br />
		Figure 4: Example of configuration for sending an email when the email address/username are changed.</li>
	</ul>
	</li>
</ul>

<p> </p>

<ul>
	<li><strong>Send email for password recovery?: </strong>If this option is enabled, end users will be able to recover their password with their registered email address. <strong> </strong> 

	<ul>
		<li><strong>Email subject for recovery password</strong>: Indicates the subject of the email to send when a user wants to recover their account password.</li>
		<li><strong>Email body for recovery password</strong>: : Indicates the body of the email to send when a user wants to recover their account password. If %1 and %2 are included in the email body, they will be replaced with the application name and the password recovery link, respectively. If only %1 is included in the email body, it will be replaced with the password recovery link. If neither %1 nor %2 are included, GAM automatically adds the password recovery link at the end of the email body.<br />
		<br />
		<img src="./images/48426.png" id="48426" class="WikiImage"/><br />
		Figure 5: Example of configuration to send email to recover the password.</li>
	</ul>
	</li>
</ul>

<h2><a id="Configuration+of+the+Account+Activation+Object+property" class="HashLink" href="#Configuration+of+the+Account+Activation+Object+property">Configuration of the Account Activation Object property</a></h2>

<p>When the property <strong>Send email when user activates account?</strong> mentioned above is activated, it is necessary to configure the <strong>Account Activation Object</strong> property located in <strong>Settings &gt; Applications &gt; &lt;Application_name&gt;</strong>. This property allows you to assign the object or URL that will be in charge of activating the user. The example object distributed is <strong>GAMExampleActivateUserAccount</strong>. Below are the three formats accepted in the field <em>Account Activation Object</em>:</p>

<ol>
	<li>The name of the object as found in the KB. GAM will automatically add the package containing it, as well as the extension, virtual directory, server host and port (this data is in the<strong> Environment Settings</strong> tab). In addition, '?%1' will be added at the end, where %1 will be replaced with the activation key.<br />
	<br />
	<strong>Example:</strong><br />
	 
	<ul>
		<li>NET:<br />
		<span style="font-family: courier new;"><b>Account Activation Object</b>: GAMExampleActivateUserAccount<br />
		<br />
		Link emailed to the user:<br />
		http://gamidp.com/IPServerNetSQL/GAMExampleActivateUserAccount.aspx?00926da5925445a19f57c383b6b2f3d474318284f2cbeadcfd394cb9814a80943b2830ce</span><br />
		 </li>
		<li>JAVA: (The object name must be in lowercase)<br />
		<span style="font-family: courier new;"><b>Account Activation Object</b>: gamexampleactivateuseraccount<br />
		<br />
		Link emailed to the user:<br />
		http://gamidp.com:8080/IPServerJavaSQL/com.ipserver.gamexampleactivateuseraccount?4416647a41b5472d8428aa0da421a9ab90424358ad0b09d1ddbc45d3b37ce8d633d698c2</span><br />
		 </li>
	</ul>
	</li>
	<li>The name of the object with the corresponding package to which it belongs, the extension, and the parameters defined by the developer. In this case, GAM will automatically include only the virtual directory and the server host and port. If %1 is not included, GAM will add it automatically at the end of the URL. In this case, you need to check that the URL is well formed; otherwise, the end user will receive an invalid link.<br />
	<strong>Example:</strong></li>
</ol>

<ul style="margin-left: 40.0px;">
	<li>NET:
	<ul>
		<li><b>Case 1: Named parameters</b><br />
		<span style="font-family: courier new;"><b>Account Activation Object</b>: GAMExampleActivateUserAccount.aspx?param1=value1&amp;param2=value2&amp;ActivationKey=%1<br />
		<br />
		Link emailed to the user:<br />
		http://gamidp.com/IPServerNetSQL/GAMExampleActivateUserAccount.aspx?param1=value1&amp;param2=value2&amp;ActivationKey=0d40f7dfd06244dbbe001deeb1beabc9558233772ce48851a5414f39bf0efb30d646434a</span><br />
		 </li>
		<li><b>Case 2: Positional parameters</b><br />
		<span style="font-family: courier new;"><b>Account Activation Object</b>: GAMExampleActivateUserAccount.aspx?%1,value1,value2<br />
		<br />
		Link emailed to the user:<br />
		http://gamidp.com/IPServerNetSQL/GAMExampleActivateUserAccount.aspx?7cfd8cc218104b6da6b9b2e2ba3d3cc1310342080d9a497fff9346bb939417a67bd35ffe,value1,value2</span><br />
		 </li>
	</ul>
	</li>
	<li>JAVA:<br />
	 
	<ul>
		<li><b>Case 1: Named parameters</b><br />
		<span style="font-family: courier new;"><b>Account Activation Object</b>: com.ipserver.gamexampleactivateuseraccount?param1=value1&amp;param2=value2&amp;ActivationKey=%1<br />
		<br />
		Link emailed to the user:<br />
		http://gamidp.com:8080/IPServerJavaSQL/com.ipserver.gamexampleactivateuseraccount?param1=value1&amp;param2=value2&amp;ActivationKey=1d346739866f4ab3a4c16e43a3af40b52087192559aa08887595419fa7b3a3a481f1d3f2</span><br />
		 </li>
		<li><b>Case 2: Positional parameters</b><br />
		<span style="font-family: courier new;"><b>Account Activation Object</b>: com.ipserver.gamexampleactivateuseraccount?%1,value1,value2<br />
		<br />
		Link emailed to the user:<br />
		http://gamidp.com:8080/IPServerJavaSQL/com.ipserver.gamexampleactivateuseraccount?16a1c395dfdd462a802608c82f4e33882282348878ad1eb72dea49d68fe09c2493f7b703,value1,value2</span></li>
	</ul>
	</li>
</ul>

<p style="margin-left: 40.0px;"> 3. Full URL to the object. In this case, you can place the URL of the object that will activate the user, which doesn’t have to be in the same KB or on the same server used for development. You must include the package where the object is located, as well as the extension, virtual directory (if necessary), server host and port. In this case, GAM doesn't include any data; that is, the URL will not be altered by GAM.<br />
<strong>Example:</strong> The examples are similar to the previous point, except that in this case the full URL must be included (both for Named parameters and Positional parameters).</p>

<ul style="margin-left: 40.0px;">
	<li>NET:</li>
</ul>

<p style="margin-left: 80.0px;"><span style="font-family: courier new;"><b>Account Activation Object</b>: http://gamidp.com/IPServerNetSQL/GAMExampleActivateUserAccount.aspx?param1=value1&amp;param2=value2&amp;ActivationKey=%1</span><br />
<br />
<span style="font-family: courier new;">Link emailed to the user: (The link received will be similar to the URL entered except for modifications made to the parameters passed in the URL)<br />
http://gamidp.com/IPServerNetSQL/GAMExampleActivateUserAccount.aspx?param1=value1&amp;param2=value2&amp;ActivationKey=301467e8d0ab461ba3aabff4af86a667995575988f5032f33f7741c886cc1f7bbcd7adf8</span></p>

<ul style="margin-left: 40.0px;">
	<li>JAVA:</li>
</ul>

<p style="margin-left: 80.0px;"><span style="font-family: courier new;"><b>Account Activation Object</b>: http://localhost:8080/IPServerJavaSQL/com.ipserver.gamexampleactivateuseraccount?%1,value1,value2<br />
<br />
Link emailed to the user: (The link received will be similar to the URL entered except for modifications made to the parameters passed in the URL)<br />
http://localhost:8080/IPServerJavaSQL/com.ipserver.gamexampleactivateuseraccount?85ff2cccf30a438eb6ff06b3c100539464262222da484f79160148dba83672fc07b0e222,value1,value2</span></p>

<p> </p>

<div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>: Remember to configure the properties found in Settings &gt; Applications &gt; Environment Settings Tab. By default, the values set in the KB are assigned. If there are several environments (Net, Java, NetCore) in a KB that use the same GAM DB, it is necessary to configure the environment being used at the moment. If you use Positional parameters, remember that the position of each parameter in the URL must match the position in which they were defined in the Rules section in the corresponding object of the KB. %1.</div>

<p> </p>

<p></p>
</div><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="18932.html">User Activation Method Repository property</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 12/03/21 05:49 PM</em></font></td></TR></table></font>