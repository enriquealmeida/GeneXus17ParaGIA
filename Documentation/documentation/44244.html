<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Evaluate procedure</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?44244,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Evaluate procedure</h1>
<!--Evaluate procedure--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>Evaluates a custom model behavior (i.e. 'how well' it makes new predictions).</p>

<h2><a id="Parameters" class="HashLink" href="#Parameters">Parameters</a></h2>

<ul>
	<li>
	<p><strong>in</strong>:&amp;model :: <a href="44240.html">Model, GeneXusAI.Custom</a><br />
	The model information to be evaluated.</p>
	</li>
	<li>
	<p><strong>in</strong>:&amp;provider :: <a href="40197.html">Provider, GeneXusAI.Configuration</a><br />
	Provider settings.</p>
	</li>
	<li>
	<p><strong>inout</strong>:&amp;Messages :: <a href="40335.html">Messages, GeneXus.Common</a><br />
	A collection of warning and error messages returned by the task. You should check in your code if an error was returned. Refer to <a href="40188.html">error codes and descriptions</a> for more information.</p>
	</li>
	<li>
	<p><strong>out</strong>:&amp;Measure :: <a href="44239.html">Measure data type</a><br />
	Measure obtained before the evaluation.</p>
	</li>
</ul>

<h2><a id="Configuration" class="HashLink" href="#Configuration">Configuration</a></h2>

<p>The following table resumes the configuration properties (access credentials) you must set in order to use this AI task.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr>
			<td> </td>
			<td colspan="1" rowspan="1" style="border-bottom: 1.0px solid black;text-align: center;"><strong><a href="40196.html">PropertyKey</a></strong></td>
		</tr>
		<tr style="border-bottom: 1.0px solid black;">
			<td><strong><a href="40195.html">ProviderType</a></strong></td>
			<td style="text-align: right;"><strong>Key</strong></td>
		</tr>
		<tr>
			<td><strong>Alibaba</strong></td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Amazon</strong></td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Baidu</strong></td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Google </strong></td>
			<td style="text-align: right;">Service Account JSON</td>
		</tr>
		<tr>
			<td><strong>IBM</strong></td>
			<td style="text-align: right;">Visual Recognition Key</td>
		</tr>
		<tr>
			<td><strong>Microsoft</strong></td>
			<td style="text-align: right;">Custom Vision Training Key</td>
		</tr>
		<tr>
			<td><strong>SAP</strong></td>
			<td style="text-align: right;">-</td>
		</tr>
		<tr>
			<td><strong>Tencent</strong></td>
			<td style="text-align: right;">-</td>
		</tr>
	</tbody>
</table>

<h2><a id="Sample" class="HashLink" href="#Sample">Sample</a></h2>

<p>After training your model with <a href='https://www.kaggle.com/alxmamaev/flowers-recognition'>Mamaevs' Flowers Recognition dataset</a>, the table below shows the evaluation made for each provider and the time it takes for processing it.</p>

<table border="0" cellpadding="1" cellspacing="1" style="border-collapse: collapse;">
	<tbody>
		<tr style="border-bottom: 1.0px solid black;">
			<td style="vertical-align: top;"><strong>Provider</strong></td>
			<td style="vertical-align: top;"><strong>Output</strong></td>
			<td style="vertical-align: top;"><strong>Benchmark</strong></td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Alibaba</strong></td>
			<td style="vertical-align: top;">GXAI6001 - Task 'GeneXusAI.Custom.Evaluate' is unavailable (...) </td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Amazon</strong></td>
			<td style="vertical-align: top;">GXAI6001 - Task 'GeneXusAI.Custom.Evaluate' is unavailable (...)</td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Baidu</strong></td>
			<td style="vertical-align: top;">GXAI6001 - Task 'GeneXusAI.Custom.Evaluate' is unavailable (...)</td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Google</strong></td>
			<td style="vertical-align: top;">
			<pre class="prettyprint lang-genexus" style="max-width: 100%">
{
    &quot;Score&quot;: 1,
    &quot;Additional&quot;: [
        {
            &quot;Key&quot;: &quot;auPrc&quot;,
            &quot;Value&quot;: 1
        },
        {
            &quot;Key&quot;: &quot;auRoc&quot;,
            &quot;Value&quot;: 0
        },
        {
            &quot;Key&quot;: &quot;F1Score@000&quot;,
            &quot;Value&quot;: 0.922
        },
        {
            &quot;Key&quot;: &quot;Precision@000&quot;,
            &quot;Value&quot;: 0.915
        },
        {
            &quot;Key&quot;: &quot;Recall@000&quot;,
            &quot;Value&quot;: 0.918
        },
        ...
        {
            &quot;Key&quot;: &quot;ConfusionMatrix[DAISY,DAISY]&quot;,
            &quot;Value&quot;: 1
        },
        ...
        {
            &quot;Key&quot;: &quot;ConfusionMatrix[ROSE,ROSE]&quot;,
            &quot;Value&quot;: 1
        }
    ],
    &quot;Local&quot;: false
}</pre>
			</td>
			<td style="vertical-align: top;">1299ms</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>IBM</strong></td>
			<td style="vertical-align: top;">
			<pre class="prettyprint lang-genexus" style="max-width: 100%">
{
    &quot;Score&quot;: 0.823,
    &quot;Additional&quot;: [
        {
            &quot;Key&quot;: &quot;ConfusionMatrix[TULIP,TULIP]&quot;,
            &quot;Value&quot;: 10
        },
        ...
        {
            &quot;Key&quot;: &quot;ConfusionMatrix[ROSE,TULIP]&quot;,
            &quot;Value&quot;: 2
        },
        ...
        {
            &quot;Key&quot;: &quot;Precision@000&quot;,
            &quot;Value&quot;: 0.922
        },
        {
            &quot;Key&quot;: &quot;Recall@000&quot;,
            &quot;Value&quot;: 0.915
        },
        {
            &quot;Key&quot;: &quot;FScore@000&quot;,
            &quot;Value&quot;: 0.918
        },
        ...
        {
             &quot;Key&quot;: &quot;Precision@100&quot;,
             &quot;Value&quot;: 0.4
        },
        {
            &quot;Key&quot;: &quot;Recall@100&quot;,
            &quot;Value&quot;: 0.4
        },
        {
            &quot;Key&quot;: &quot;Precision@100&quot;,
            &quot;Value&quot;: 0.4
        }
    ],
    &quot;Local&quot;: True
}</pre>
			</td>
			<td style="vertical-align: top;">156ms</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Microsoft </strong></td>
			<td style="vertical-align: top;">
			<pre class="prettyprint lang-genexus" style="max-width: 100%">
{
    &quot;Score&quot;: 0.999,
    &quot;Additional&quot;: [
        {
            &quot;Key&quot;: &quot;Precision&quot;,
            &quot;Value&quot;: 1.000
        },
        {
            &quot;Key&quot;: &quot;PrecisionSdtDeviation&quot;,
            &quot;Value&quot;: 0.000
        },
        {
            &quot;Key&quot;: &quot;Recall&quot;,
            &quot;Value&quot;: 0.998
        },
        {
            &quot;Key&quot;: &quot;RecallSdtDeviation&quot;,
            &quot;Value&quot;: 0.000
        },
        {
            &quot;Key&quot;: &quot;AveragePrecision&quot;,
            &quot;Value&quot;: 1.000
        },
        {
            &quot;Key&quot;: &quot;AverageRecall&quot;,
            &quot;Value&quot;: 0,998
        }
    ],
    &quot;Local&quot;: False
}</pre>
			</td>
			<td style="vertical-align: top;">215ms</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>SAP</strong></td>
			<td style="vertical-align: top;">GXAI6001 - Task 'GeneXusAI.Custom.Evaluate' is unavailable (...)</td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
		<tr style="border-bottom: 1.0px solid silver;">
			<td style="vertical-align: top;"><strong>Tencent</strong></td>
			<td style="vertical-align: top;">GXAI6001 - Task 'GeneXusAI.Custom.Evaluate' is unavailable (...)</td>
			<td style="vertical-align: top;">N/A</td>
		</tr>
	</tbody>
</table>

<h2><a id="Notes" class="HashLink" href="#Notes">Notes</a></h2>

<ul>
	<li>When you get higher score values you may fall in the <a href='https://en.wikipedia.org/wiki/Overfitting'>Overffiting problem</a>.<br />
	 </li>
	<li>When you have <a href='https://en.wikipedia.org/wiki/Precision_and_recall#Precision'>Precision</a> and <a href='https://en.wikipedia.org/wiki/Precision_and_recall#Recall'>Recall</a> measures in the Additional field, the main score (Score field) will be the <a href='https://en.wikipedia.org/wiki/Precision_and_recall#F-measure'>F1-Measure</a>.<br />
	 </li>
	<li>In case your cloud-provider does not give information about the evaluation (e.g. IBM), this task locally calculates some <a href="44239.html">standard metrics</a> once your model has been deployed. In this scenario, the <a href="44239.html">Measure.Local field</a> is set to True. Despite the fact that it does not require any credentials for making the calculations, you need to indicate the access credentials for checking the deployed status (i.e. <a href="44242.html">Check procedure</a>) and for predicting every test-data on your dataset (i.e. <a href="44245.html">Predict procedure</a>) in order to compare the true-value with the predicted-value. Also, the Evaluation task must know which model has to use (Id/Version fields), which type of model are you evaluating (Type field) because the metrics depend on it, and where is the dataset information (Dataset field with the csv file path) because the task needs to know which are the testing-data. So, your <a href="44240.html">Model data type</a> input must be fully set.<br />
	 </li>
	<li>When the evaluation is locally performed and you had enabled log level in Debug mode, GeneXusAI will log the confusion matrix, outcomes, metrics and macros. For example:
	<pre class="prettyprint lang-genexus" style="max-width: 100%">
Matrix    | TULIP | SUNFLOWER | DANDELION | ROSE | DAISY
----------+-------+-----------+-----------+------+-------
TULIP     |    10 |         0 |         0 |    0 |     0
SUNFLOWER |     0 |         8 |         1 |    0 |     0
DANDELION |     0 |         1 |         8 |    0 |     0
ROSE      |     2 |         0 |         0 |    8 |     0
DAISY     |     0 |         0 |         0 |    0 |     9

Outcomes | TULIP | SUNFLOWER | DANDELION | ROSE | DAISY
---------+-------+-----------+-----------+------+-------
TP       |    10 |         8 |         8 |    8 |     9
TN       |    35 |        37 |        37 |   37 |    38
FP       |     2 |         1 |         1 |    0 |     0
FN       |     0 |         1 |         1 |    2 |     0
POP      |    47 |        47 |        47 |   47 |    47
P        |    10 |         9 |         9 |   10 |     9
N        |    37 |        38 |        38 |   37 |    38
TOP      |    12 |         9 |         9 |    8 |     9
TON      |    35 |        38 |        38 |   39 |    38

Metrics | TULIP | SUNFLOWER | DANDELION |  ROSE | DAISY
--------+-------+-----------+-----------+-------+-------
ACC     | 0.957 |     0.957 |     0.957 | 0.957 |     1
ERR     | 0.043 |     0.043 |     0.043 | 0.043 |     0
PPV (P) | 0.833 |     0.889 |     0.889 |     1 |     1
TPR (R) |     1 |     0.889 |     0.889 |   0.8 |     1
F0.5    | 0.862 |     0.889 |     0.889 | 0.952 |     1
F1      | 0.909 |     0.889 |     0.889 | 0.889 |     1
F2      | 0.962 |     0.889 |     0.889 | 0.833 |     1
J       | 0.833 |       0.8 |       0.8 |   0.8 |     1
TNR     | 0.946 |     0.974 |     0.974 |     1 |     1
NPV     |     1 |     0.974 |     0.974 | 0.949 |     1
AUC     | 0.973 |     0.932 |     0.932 |   0.9 |     1
MCC     | 0.888 |     0.863 |     0.863 | 0.871 |     1

Macros  |  MEAN | VARIANCE | STD DEV | STD ERR
--------+-------+----------+---------+---------
ACC     | 0.966 |  0.00037 | 0.01924 | 0.00837
ERR     | 0.034 |  0.00037 | 0.01924 | 0.00837
PPV (P) | 0.922 |  0.00557 | 0.07463 | 0.03332
TPR (R) | 0.916 |  0.00726 | 0.08521 | 0.03808
F0.5    | 0.918 |  0.00317 |  0.0563 |  0.0251
F1      | 0.915 |  0.00232 | 0.04817 | 0.02145
F2      | 0.915 |  0.00438 | 0.06618 | 0.02966
J       | 0.847 |  0.00756 | 0.08695 | 0.03886
TNR     | 0.979 |  0.00051 | 0.02258 |    0.01
NPV     | 0.979 |  0.00046 | 0.02145 | 0.00949
AUC     | 0.947 |  0.00154 | 0.03924 | 0.01761
MCC     | 0.897 |  0.00342 | 0.05848 | 0.02608
</pre>
	</li>
</ul>

<h2><a id="Scope" class="HashLink" href="#Scope">Scope</a></h2>

<table border="0" cellpadding="1" cellspacing="1">
	<tbody>
		<tr>
			<td style="vertical-align: top;"><strong>Platforms </strong></td>
			<td style="vertical-align: top;">Web(.NET,.NETCore,Java), SmartDevices(Android,iOS)</td>
		</tr>
		<tr>
			<td style="vertical-align: top;"><strong>Connectivity </strong></td>
			<td style="vertical-align: top;">Online</td>
		</tr>
	</tbody>
</table>

<h2><a id="Availability" class="HashLink" href="#Availability">Availability</a></h2>

<p>This procedure is available as of <a href="https://wiki.genexus.com/commwiki/wiki?43978,," target="_blank">GeneXus 16 upgrade 6</a>.</p>

<ul>
	<li>As of <a href="https://wiki.genexus.com/commwiki/wiki?44454,," target="_blank">GeneXus 16 upgrade 7</a>:<br />
	- Evaluation is made locally when the provider does not give evaluation information.</li>
	<li>As of <a href="https://wiki.genexus.com/commwiki/wiki?44913,," target="_blank">GeneXus 16 upgrade 8</a><br />
	-  Google AutoML is available.</li>
</ul>

<h2><a id="See+also" class="HashLink" href="#See+also">See also</a></h2>

<ul>
	<li><a href="44246.html">Train procedure</a></li>
	<li><a href="43665.html">HowTo: Build a custom model for GeneXusAI</a></li>
</ul>

<p></p>

<p></p>
<br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="40167.html">Toc:GeneXus Artificial Intelligence</a></TD><TD><a href="40315.html">GeneXusAI Overview</a></TD><TD><a href="40204.html">HowTo: Get credentials from a cloud provider for GeneXusAI</a></TD></TR><TR><TD><a href="44239.html">Measure data type</a></TD><TD><a href="44240.html">Model data type</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:17 PM</em></font></td></TR></table></font>