<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>GAM - Two Factor Authentication</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?48254,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">GAM - Two Factor Authentication</h1>
<!--GAM - Two Factor Authentication--><div class="TableWikiBody" id="tblwikibody"><p>It is possible to authenticate and verify, in a second step, the user who is trying to log in. This is known as Two Factor Authentication (2FA), and 2 Step Verification (2SV).</p>

<p>2FA is commonly used when a password or username is entered and a second validation step is performed by sending an email or SMS as a way to mitigate brute force attacks.</p>

<p>The second factor authentication can only be <a href="50664.html">One Time Password (OTP)</a> verification, including OTP Custom.</p>

<p><iframe width="560" height="315" src="https://www.youtube.com/embed/H4w1lkF_2W0?start=588" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>

<h2><a id="How+does+it+work%3F" class="HashLink" href="#How+does+it+work%3F">How does it work?</a></h2>

<p>To improve security, the user is required to validate twice before accessing. The first step involves entering a username and password, and the second step performs another validation (like the one mentioned before).</p>

<p>In both cases, in a web or mobile app, when the user has this functionality enabled, every time the user logs in has to follow two steps. This means that while logging in, the user has to successfully pass the second factor to keep logged on the app.</p>

<h2><a id="Considerations" class="HashLink" href="#Considerations">Considerations</a></h2>

<p>Two Factor Authentication can be configured with the following authentication types: OTP, <a href="20703.html">Local</a>, <a href="21751.html">Custom</a>, <a href="16512.html">WebService</a>, <a href="44833.html">GAMRemoteRest</a>.</p>

<ul>
</ul>

<ul>
</ul>

<h2><a id="Steps+to+set+up+Two+Factor+Authentication" class="HashLink" href="#Steps+to+set+up+Two+Factor+Authentication">Steps to set up Two Factor Authentication</a></h2>

<p>In this example, Local Authentication is set as the first factor authentication, and OTP is the second factor authentication.</p>

<ul>
	<li>Step 1: Add the second factor authentication by choosing OTP. <a href="48197.html">Read this documentation</a> to fully understand OTP configuration.</li>
</ul>

<p style="margin-left: 40.0px;">In order to use OTP only as second factor authentication, the checkbox &quot;Use For First Factor Authentication?&quot; must be kept unchecked.</p>

<p style="margin-left: 40.0px;"><img src="./images/48263.png" id="48263" class="WikiImage"/></p>

<ul>
	<li>Step 2: In this example, the first factor authentication is going to be Local. Local is the default authentication in GAM, so you have to edit it.</li>
</ul>

<p><img src="./images/48268.png" id="48268" class="WikiImage"/></p>

<p style="margin-left: 40.0px;">In the edit form of Local Authentication, the check box &quot;Enable Two Factor Authentication?&quot; has to be selected.</p>

<p style="margin-left: 40.0px;">In the &quot;Authentication Type Name&quot; Combo Box, choose the OTP that was added in step 1.</p>

<p style="margin-left: 40.0px;">The checkbox &quot;Force 2FA for all users?&quot; is selected. This option sets 2FA for all the users in the application.</p>

<p style="margin-left: 40.0px;"><img src="./images/48266.png" id="48266" class="WikiImage"/></p>

<p style="margin-left: 40.0px;">By selecting the checkbox &quot;Force 2FA for all users?&quot; in the first factor authentication, every user of the app is set with the &quot;Enable two factor authentication?&quot; checkbox selected.</p>

<p style="margin-left: 40.0px;">If you do not select &quot;Force 2FA for all users?&quot;, you must select the &quot;Enable two factor authentication?&quot; checkbox in the settings of every user that you want to use 2FA.</p>

<p style="margin-left: 40.0px;"><img src="./images/48267.png" id="48267" class="WikiImage"/></p>

<h2><a id="2FA+properties" class="HashLink" href="#2FA+properties">2FA properties</a></h2>

<p>Besides the configuration shown above, 2FA properties can also be set in the GeneXus IDE. For this, you will have to refer to the properties by the following names:</p>

<ul>
	<li style="margin-left: 40.0px;">&amp;AuthenticationTypeLocal.TwoFactorAuthentication.Enable</li>
	<li style="margin-left: 40.0px;">&amp;AuthenticationTypeLocal.TwoFactorAuthentication.AuthenticationTypeName</li>
	<li style="margin-left: 40.0px;">&amp;AuthenticationTypeLocal.TwoFactorAuthentication.FirstAuthenticationFactorExpiration (seconds): Numeric 9. Default = 900.</li>
	<li style="margin-left: 40.0px;">&amp;AuthenticationTypeLocal.TwoFactorAuthentication.ForceForAllUsers: If set to false, every user can enable this.</li>
	<li style="margin-left: 40.0px;">&amp;UserEnableTwoFactorAuth = Boolean (allows null)</li>
</ul>

<h2><a id="Availability" class="HashLink" href="#Availability">Availability</a></h2>

<p>Since <a href="48247.html">GeneXus 17 Upgrade 5</a></p>

<p></p>
</div><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="50726.html">GAM - Two factor Authentication for mobile</a></TD><TD><a href="48247.html">GeneXus 17 Upgrade 5</a></TD><TD><a href="49956.html">GeneXus 17 Upgrade 9</a></TD></TR><TR><TD><a href="24746.html">Toc:GeneXus Access Manager (GAM)</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 05/09/22 04:23 PM</em></font></td></TR></table></font>