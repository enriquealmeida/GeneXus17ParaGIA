<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>HowTo: Creating a Code Snippet</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?10725,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">HowTo: Creating a Code Snippet</h1>
<!--HowTo: Creating a Code Snippet--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>
	If you have to type frequently the same code in any <a href="1866.html">GeneXus object</a> you can take advantage of <a href="10662.html">Code Snippets</a> in order to reuse them as templates which can be activated easily via drag and drop or using a shortcut from the Snippets toolbox.</p>
<p>
	For example lets assume you are using extensively the <a href="5636.html">Work With pattern</a> and want to reuse in an easy way the following code which is automatically generated by the pattern to check the security:</p>
<pre class="prettyprint lang-genexus" style="max-width: 100%">
PGetContext.Call(&amp;Context)
IsAuthorized.Call(&amp;PgmName, &amp;IsAuthorized)
If (not &amp;IsAuthorized)
    NotAuthorized.Call(&amp;PgmName)
Endif
</pre>
<p>
	Instead of copying a pasting this code between object and defining the variables it uses; I want to have an easy way to insert the code in a <a href="6293.html">Procedure</a>.</p>
<p>
	Why not using a <a href="10662.html">code snippet</a> to encapsulate this code and use it as a command, like available <a href="10662.html">ones</a> such as <a href="8260.html">Call</a>, <a href="https://wiki.genexus.com/commwiki/wiki?20195,," target="_blank">For Each command (X Evolution 2)</a>, <a href="8585.html">For In</a> and so on ?</p>
<p>
	To Create a <a href="10662.html">Code Snippet</a> follow these steps:</p>
<h4>
	Create a snippet file wrapping your desired code</h4>
<p>
	Within the <a href="https://wiki.genexus.com/commwiki/wiki?9256,," target="_blank">GeneXus X Evolution I</a> installation directory, you will notice the default <a href="10662.html">code snippets</a> folder in the <i>&lt;GeneXusInstallationFolder&gt;\Snippets</i> folder.</p>
<p>
	The easiest way to create your own snippet is to reuse an existing one, and then do the desired modifications. We will use this approach.</p>
<p>
	Copy any command snippet and rename it, in this case we are creating our own with the <i>Check Security command.snippet </i>name.</p>
<p>
	<span style="text-align: center;"><img src="./images/10726.gif" id="10726" class="WikiImage"/></span></p>
<p>
	Edit it and replace its content with the following code:</p>
<pre class="prettyprint lang-genexus" style="max-width: 100%">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;CodeSnippets xmlns=&quot;http://schemas.microsoft.com/VisualStudio/2005/CodeSnippet&quot;&gt;
    &lt;CodeSnippet Format=&quot;1.0.0&quot;&gt;
        &lt;Header&gt;
            &lt;Title&gt;Check Security Sample&lt;/Title&gt;
            &lt;Shortcut&gt;css&lt;/Shortcut&gt;
            &lt;Description&gt;Reuses the security checking generated by the Work With Pattern&lt;/Description&gt;
            &lt;Author&gt;Artech&lt;/Author&gt;
            &lt;SnippetTypes&gt;
                &lt;SnippetType&gt;Expansion&lt;/SnippetType&gt;
                &lt;SnippetType&gt;SurroundsWith&lt;/SnippetType&gt;
            &lt;/SnippetTypes&gt;
        &lt;/Header&gt;
        &lt;Snippet&gt;
            &lt;Declarations&gt;
                &lt;Literal Editable=&quot;true&quot;&gt;
                    &lt;ID&gt;ContextVariable&lt;/ID&gt;
                    &lt;ToolTip&gt;Context SDT Variable&lt;/ToolTip&gt;
                    &lt;Default&gt;&amp;amp;Context&lt;/Default&gt;
                    &lt;Function&gt;
                    &lt;/Function&gt;
                &lt;/Literal&gt;
                &lt;Literal Editable=&quot;true&quot;&gt;
                    &lt;ID&gt;IsAuthorizedVariable&lt;/ID&gt;
                    &lt;ToolTip&gt;IsAuthorized Boolean Variable&lt;/ToolTip&gt;
                    &lt;Default&gt;&amp;amp;IsAuthorized&lt;/Default&gt;
                    &lt;Function&gt;
                    &lt;/Function&gt;
                &lt;/Literal&gt;
            &lt;/Declarations&gt;
            &lt;Code Language=&quot;&quot;&gt;
                &lt;![CDATA[LoadContext.Call($ContextVariable$)
IsAuthorized.Call(&amp;PgmName, $IsAuthorizedVariable$)
If (not $IsAuthorizedVariable$)
    NotAuthorized.Call(&amp;PgmName)
Endif
]]&gt;
            &lt;/Code&gt;
        &lt;/Snippet&gt;
    &lt;/CodeSnippet&gt;
&lt;/CodeSnippets&gt;</pre>
<p>
	Some comments about the meaning of this code:</p>
<ul>
	<li>
		The <i>Title</i>, <i>Shortcut</i> and <i>Description</i> tags are important because details how the user will see and use the <a href="10662.html">code snippets</a> in the <a href="5272.html">IDE</a>; in this case:
		<ul>
			<li>
				The <i>Check Security Sample</i> value will be shown as an available snippet.</li>
			<li>
				When using the mouse over, you will get a tooltip with the <i>css</i> shortcut and the associated <i>description</i>.</li>
		</ul>
	</li>
</ul>
<p>
	<span style="text-align: center;">                           <img src="./images/10728.gif" id="10728" class="WikiImage"/></span></p>
<ul>
	<li>
		Check the <i>Code</i> tag, which contains the desired block of code to be inserted. In this case the code has some minor changes comparing with the initial one because there's some variables we want to replace, that's why you will notice we are using the <i>$ContextVariable$</i> and <i>$IsAuthorizedVariable$</i> parameters. These are <i>Literals</i> which will have to be replaced.</li>
	<li>
		Check the <i>Declarations</i> tag, containing the default values for these variables.</li>
</ul>
<h4>
	Register your snippet for the desired GeneXus Object</h4>
<p>
	Your snippet file is ready; you will have to register it in the desired <a href="1866.html">GeneXus object</a> you want to use.</p>
<p>
	To register your snippet in a <a href="1866.html">GeneXus object</a> you will have to add an entry in a XML File. Notice that for each <a href="1866.html">GeneXus object</a> there's a <i>config.xml</i> file detailing the available ones for each part.</p>
<p>
	<span style="text-align: center;"><img src="./images/10727.gif" id="10727" class="WikiImage"/></span></p>
<p>
	In this case we just want to register it in the <a href="6293.html">Source Procedure</a> section; notice we need to add a new <i>Snippet</i> tag with the name of the snippet file within the &lt;GeneXusInstallationFolder&gt;\Snippets\Procedure\Procedure\config.xml configuration file:</p>
<pre class="prettyprint lang-genexus" style="max-width: 100%">
&lt;Snippets&gt;
  &lt;Category name=&quot;Snippets&quot;&gt;
<b>        &lt;Snippet name=&quot;Check Security command&quot;/&gt;</b>
        &lt;Snippet name=&quot;Call command&quot;/&gt;
......
</pre>
<p>
	Ready; you have finished the registration process.</p>
<h4>
	Restart GeneXus</h4>
<p>
	Make sure you have restarted your <a href="5272.html">IDE</a>.</p>
<h4>
	Check your new Snippet</h4>
<p>
	To make sure your custom snippet for the <a href="6293.html">Source Procedure</a> section is available open or create a new <a href="6293.html">Procedure</a>, and go to the snippet toolbox; check the tooptip for more information.</p>
<p>
	<span style="text-align: center;"><img src="./images/10728.gif" id="10728" class="WikiImage"/></span></p>
<h4>
	Use it !!</h4>
<p>
	To use it just drag &amp; drop it or type the shortcut (<i>css</i> for &quot;<i>Check Security snippet</i>&quot; in this example) and tab; you will get the desired replacement.</p>
<p>
	<span style="text-align: center;"><img src="./images/10729.gif" id="10729" class="WikiImage"/></span></p>
<p>
	Once inserted, you just have to create the <i>&amp;Context</i> and &amp;<i>IsAuthorized</i> variables to complete the operation; notice the related green section.</p>
<p>
	Congratulations! You have created and used a <a href="10662.html">custom GeneXus Code Snippet</a>!!</p>
<p>
	<strong>Note:  </strong>Backup your <a href="10662.html">Code Snippets</a> every time you install a new GeneXus Upgrade.</p>
<p>
	</p>
<p>
	</p>
   <br /> <br />   <br />    <br /> <br /><br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="10662.html">Code Snippets</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:18 PM</em></font></td></TR></table></font>