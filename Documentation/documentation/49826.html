<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Comparing the .NET Core generator with the .NET generator (GeneXus 17 upgrade or prior)</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?49826,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Comparing the .NET Core generator with the .NET generator (GeneXus 17 upgrade or prior)</h1>
<!--Comparing the .NET Core generator with the .NET generator (GeneXus 17 upgrade or prior)--><div class="TableWikiBody" id="tblwikibody"><p>The <a href="https://wiki.genexus.com/commwiki/wiki?38604,," target="_blank">GeneXus .NET Generator</a> is very similar to the .NET generator because they share most of the code. </p>

<p>Both generate C# code and share the same repository of <a href="https://wiki.genexus.com/commwiki/wiki?18859,," target="_blank">GeneXus Standard Classes</a>.</p>

<p>Some differences between the .NET Core generator and the .NET generator are only because the .NET Core generator is still in the development stage, while other differences are due to differences between platforms.</p>

<p>Also, the .NET Core generator is similar in several aspects to the Java generator because the generated code runs on Linux.</p>

<h2><a id="Differences+related+to+the+IDE" class="HashLink" href="#Differences+related+to+the+IDE">Differences related to the IDE</a></h2>

<ul>
	<li>The <a href="9017.html">Web Server property</a> available at Generator level, offers different values for the .NET Core generator and the .NET generator because the platforms are different. For example, the &quot;Kestrel HTTP Server&quot; value is only offered for the .NET Core generator because it is specific for it.<br />
	 </li>
	<li>The output shown in GeneXus after any <a href="5690.html">Build operation</a> is similar in both cases. Both generators compile with the MSBuild mechanism.
	<ul>
		<li>The .NET Core generator compiles using the &quot;dotnet build&quot; command.</li>
		<li>The .NET generator compiles using the msbuild.exe command but only to avoid requiring the .NET Core (because both can compile with the &quot;dotnet build&quot; command).</li>
	</ul>
	</li>
	<li>
	<p>A Visual Studio solution called LastBuild.sln is always generated in every operation, containing the list of objects generated in the last build operation. That solution can be used to rebuild assemblies outside GeneXus IDE and also to debug the generated code.<br />
	<br />
	<img src="./images/45781.png" id="45781" class="WikiImage"/></p>
	</li>
</ul>

<p><br />
The generated code remains in the <strong>build</strong> directory (parallel to the <strong>web</strong> directory):</p>

<p><img src="./images/45782.png" id="45782" class="WikiImage"/></p>

<h2><br />
Differences related to the generated code</h2>

<p>The code generated by the .NET Core generator is practically the same as the generated by the .NET generator, with the exception that the .NET Core generator creates fewer sources. <br />
For REST services, sources with suffix _services.cs (*_services.cs)<b> </b>are not generated (but *.svc are still generated).<br />
Also, *.rsp bld * .cs are not generated in any case.</p>

<p> </p>

<h3><a id="Differences+related+to+the+generated+configuration+files" class="HashLink" href="#Differences+related+to+the+generated+configuration+files">Differences related to the generated configuration files</a></h3>

<p>When generating in .NET, the web.config file contains the environment properties settings. The equivalent in .NET Core is called <strong>appsettings.json</strong>. The format is JSON (property-value list) and it is generated with a structure that is very similar to the web.config file.</p>

<p><img src="./images/45784.png" id="45784" class="WikiImage"/></p>

<p>The appsettings.json file has less information than the web.config file because the sections that are specific to ASPNET aren't in the appsettings.json file but they are directly programmed into the <a href="https://wiki.genexus.com/commwiki/wiki?18859,," target="_blank">GeneXus Standard Classes</a> code.</p>

<p>The .NET Core generator only creates a small web.config file when configuring the Web Server property = Internet Information Server.<br />
It is very small and contains the settings to connect the IIS with the Kestrel web server.<br />
 </p>

<h3><a id="Differences+related+to+the+generated+code+for+Main+procedures" class="HashLink" href="#Differences+related+to+the+generated+code+for+Main+procedures">Differences related to the generated code for Main procedures</a></h3>

<ul>
	<li>The command line main procedures that in .NET have a .exe extension, in .NET Core have a .dll extension.  They are executed with a command like this: 
	<ul>
		<li>
		<pre class="prettyprint lang-genexus" style="max-width: 100%">
<strong>dotnet.exe aproceduremain.dll</strong></pre>
		</li>
	</ul>
	</li>
	<li>To execute main procedures is required that the corresponding .deps.json (it contains the dependencies and their paths) exists in the same path as the executable. 
	<ul>
		<li>For example, to run amainprocedure.dll, amainprocedure.deps.json must be in the same directory as amainprocedure.dll</li>
	</ul>
	</li>
</ul>

<h2><a id="Differences+at+runtime" class="HashLink" href="#Differences+at+runtime">Differences at runtime</a></h2>

<p>- At runtime, when running the application in a browser and comparing an application generated with .NET and another generated with .NET Core you will see only a few differences.</p>

<ul>
	<li>You can see in the headers that for .NET the server is: Microsoft-IIS, and for .NET Core, the server is Kestrel.</li>
	<li>You will also see differences in compression:
	<ul>
		<li>.NET always compresses with gzip.</li>
		<li>.NET Core has multiple compressors and uses the first one in the list supported by the client (Example: 'br' corresponds to Brotli compressor).</li>
	</ul>
	</li>
</ul>

<p>- The URL is the same.</p>

<p>- Performance &amp; multithreading: .NET Core supports concurrency in requests in the same session by default, while.NET queues them, unless you change the configuration (.NET framework 4.7 supports that). The behavior of .NET Core is similar to Java in this aspect. (ref. <a href='https://stackoverflow.com/questions/44527292/enabling-concurrent-requests-from-same-session-in-asp-net-core'>https://stackoverflow.com/questions/44527292/enabling-concurrent-requests-from-same-session-in-asp-net-core</a>)</p>

<h3><a id="Differences+in+Navigation+%28MySQL%29" class="HashLink" href="#Differences+in+Navigation+%28MySQL%29">Differences in Navigation (MySQL)</a></h3>

<p>The MySQL driver for .NET Core does not support multiple data readers. This implies the following:</p>

<p>If you have nested loops on tables of the database (eg, nested <a href="24744.html">For Each command</a>s or a for each command with a nested new), and the recordset that is returned by the outer for each has a high cardinality, memory consumption can be very high.</p>

<h2><a id="Differences+related+to+troubleshooting" class="HashLink" href="#Differences+related+to+troubleshooting">Differences related to troubleshooting</a></h2>

<p>When the <a href="9017.html">Web Server property</a> is set to Kestrel HTTP Server, while the server is running there is an opened console where the information about the runtime execution is displayed as well as unmanaged exceptions and errors.</p>

<p>When the <a href="9017.html">Web Server property</a> is set to Internet Information Server, there is a trace containing the internal Kestrel server output that can be activated through the web.config (by setting the &quot;sdtoutLogEnabled&quot; as shown):</p>

<p><img src="./images/45812.png" id="45812" class="WikiImage"/></p>

<p></p>
   <br /></div><script src="./images/run_prettify.js?lang=genexus"></script>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 12/21/21 12:02 AM</em></font></td></TR></table></font>