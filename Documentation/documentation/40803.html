<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>How to deploy a command line procedure to AWS Lambda as a Function</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?40803,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">How to deploy a command line procedure to AWS Lambda as a Function</h1>
<!--How to deploy a command line procedure to AWS Lambda as a Function--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>This document tells you the prerequisites and steps to deploy a command line procedure to <a href='https://aws.amazon.com/lambda/'>AWS Lambda</a> and <a href='https://aws.amazon.com/api-gateway'>AWS API Gateway</a>.</p>

<blockquote>
<p>&quot;AWS Lambda lets you run code without provisioning or managing servers. You pay only for the compute time you consume - there is no charge when your code is not running.&quot; ref.: <a href='https://aws.amazon.com/lambda/'>https://aws.amazon.com/lambda/</a></p>
</blockquote>

<p>The main benefits of deploying to serverless platforms are the following:</p>

<ul>
	<li>No worry about infrastructure at all.</li>
	<li>No need to manage, configure or install any server. </li>
	<li>No need to rent or buy any server. </li>
	<li>24/7/365 up time for (almost) free. (You pay only if the App is used.)</li>
</ul>

<h2><a id="Technology+used" class="HashLink" href="#Technology+used"><strong>Technology used</strong></a></h2>

<ul>
	<li>AWS Lambda is used in order to Deploy Code that will be run in the Cloud. </li>
</ul>

<h2><a id="Restrictions" class="HashLink" href="#Restrictions"><strong>Restrictions</strong></a></h2>

<ul>
	<li>Deployment of command line <a href="6293.html">procedures</a> </li>
	<li>Java Generator only</li>
	<li>Requires AWS Account and <a href='http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey'>AWS API Key</a></li>
	<li>If using Image, Audio, Video, BlobFile data types =&gt; <a href="31121.html">Storage Provider property</a> must be used. This is because all App multimedia must be served from an external URL, such as Amazon S3. </li>
	<li>Not supported
	<ul>
		<li>File/read write access as Blob data type, Excel, PDF Reports. </li>
	</ul>
	</li>
	<li>Each time the function is triggered, its execution must not last more than 5 minutes. Check for this limit and others <a href='https://docs.aws.amazon.com/lambda/latest/dg/limits.html'>here</a>.</li>
</ul>

<h2><a id="How+to+use+it" class="HashLink" href="#How+to+use+it"><strong>How to use it</strong></a></h2>

<ol>
	<li>Build the main command line procedure with Java Generator.</li>
	<li>Select the procedure to deploy using <a href="32092.html">Deploy Applications tool</a>.</li>
	<li>From the Target Dropdown, select: &quot;AWS Lambda Function deploy (Main Procedure Only)&quot;</li>
	<li>Set<a href='http://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey'> AWS Access Key Id, AWS Secret Access Key</a><strong>*** </strong>and AWS Default Region.</li>
	<li>Set Application Name and Stage Name (ex: v1, v2, v3).</li>
	<li>Click &quot;Deploy&quot;.</li>
</ol>

<p>That's it!</p>

<p>At the final step, GeneXus will print out the final URL.</p>

<p>You can use it now in the Smart Devices Generator's <a href="21146.html">Services URL property</a>.</p>

<p><strong>Some important notes:</strong></p>

<p>***<strong><u>AWS Access Key requires Custom Policy</u>: </strong><a href="https://wiki.genexus.com/commwiki/wiki?40685,," target="_blank">IAM Serverless Policy for Serverless Deploy</a> <strong>OR just aws:policy/AdministratorAccess</strong></p>

<p>The AWS Lambda Function deployed <u><strong>must </strong></u>have access to the Database (should be in the same VPC and Security Group). You will have to configure it manually in the AWS Lambda Function Console. </p>

<p> <img src="./images/40759.PNG" id="40759" class="WikiImage"/></p>

<h2><a id="Availability" class="HashLink" href="#Availability"><strong>Availability</strong></a></h2>

<p>This feature is available as of <a href="https://wiki.genexus.com/commwiki/wiki?35351,," target="_blank">GeneXus 16</a>.</p>

<h2><a id="See+Also" class="HashLink" href="#See+Also">See Also</a></h2>

<ul>
	<li><a href='https://aws.amazon.com/lambda/pricing/'>https://aws.amazon.com/lambda/pricing/</a> (As of September 2018: &quot;The Lambda free tier includes 1M free requests per month and 400,000 GB-seconds of compute time per month.&quot;)</li>
	<li><a href='https://www5.genexus.com/meeting2017/gx27.session.aspx?en,Serverless-computing-The-next-evolution-of-Cloud-Computing'>Serverless computing - The next evolution of Cloud Computing</a> <em>by Gonzalo Gallotti (Presented at #GX27, Spanish only, 30 mins)</em></li>
	<li><a href="35355.html">How to deploy an application to AWS Lambda and AWS API Gateway</a></li>
</ul>

<p></p>
<br />
</td></tr></tbody></table><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="32092.html">Toc:Application Deployment tool</a></TD></TR><TR><TD><a href="40679.html">Function Name Prefix property</a></TD><TD><a href="35355.html">How to deploy an application to AWS Lambda and AWS API Gateway</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 11/30/20 11:45 AM</em></font></td></TR></table></font>