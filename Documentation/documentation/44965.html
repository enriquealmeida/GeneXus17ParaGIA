<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>GeneXus SFTP Module</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?44965,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">GeneXus SFTP Module</h1>
<!--GeneXus SFTP Module--><div class="TableWikiBody" id="tblwikibody"><p><span style="color: rgb(255,0,0);"><span style="font-size: smaller;"><span style="font-family: courier new;">Warning! This module is not recommended for end-user public applications. Do not add this module to your application unless it is strictly necessary.</span></span></span></p>

<p>GeneXus SFTP Module is an independent module that implements the SSH File Transfer Protocol  - SFTP (aka Secure File Transfer Protocol) defined in <a href='https://tools.ietf.org/html/draft-ietf-secsh-filexfer-13'>this draft</a></p>

<p>This module is based on <a href='https://github.com/sshnet/SSH.NET'>SSH.Net</a> implementation using fixes from <a href='https://doc.neonkube.com/Neon.SSH.NET-Overview.htm'>Neon.SSH.NET</a> to overcome Linux problems and bugs for .Net implementations and <a href='http://www.jcraft.com/jsch/'>Jsch</a> for Java implementation.</p>

<h2><a id="Detail" class="HashLink" href="#Detail">Detail</a></h2>

<p>The module is organized in one folder containing the Sftp Client implementation and the SDT SftpOptions for connection configuration.</p>

<p><strong>Requires Net Framework &gt;= 4.7 </strong></p>

<p><strong>Requires dotnet SDK&gt;=3.1 and 5.0 since <a href="48247.html">GeneXus 17 Upgrade 5</a></strong></p>

<p><strong>Requieres dotnet SDK&gt;= 6.0 since <a href="49616.html">GeneXus 17 Upgrade 8</a></strong></p>

<h2><a id="Dependencies" class="HashLink" href="#Dependencies">Dependencies</a></h2>

<p>GeneXus</p>

<ul>
	<li>SecurityAPICommons Module</li>
</ul>

<p>.Net</p>

<ul>
	<li><a href='https://www.nuget.org/packages/Neon.SSH.NET/1.0.4'>Neon.SSH.Net 1.0.4</a></li>
</ul>

<p>Java</p>

<ul>
	<li><a href='https://mvnrepository.com/artifact/com.jcraft/jsch/0.1.55'>JSch-0.1.55.jar</a></li>
</ul>

<h2><a id="Install" class="HashLink" href="#Install">Install</a></h2>

<p>You have to install <strong>SecurityAPICommons and GeneXusSftp modules </strong>using the <a href="40172.html">Manage Module References</a> dialog from the Knowledge Manager option (located in the GeneXus IDE toolbar).  </p>

<h2><a id="Availability" class="HashLink" href="#Availability">Availability</a></h2>

<p><a href="https://wiki.genexus.com/commwiki/wiki?44913,," target="_blank">GeneXus 16 Upgrade 8</a></p>

<p>For Net Core is available since <a href="https://wiki.genexus.com/commwiki/wiki?45275,," target="_blank">GeneXus 16 Upgrade 9</a></p>

<h2><a id="Scope" class="HashLink" href="#Scope">Scope</a></h2>

<p>Java, .Net Framework and Net Core Web (server-side module)</p>

<h2><a id="SFTP+in+a+nutshell" class="HashLink" href="#SFTP+in+a+nutshell">SFTP in a nutshell</a></h2>

<p>It is the FTP protocol but using SSH as a secure channel, and it also provides mutual authentication capabilities.</p>

<p>Therefore, it provides file access, file transfer, and file management over a reliable data stream provided by SSH.</p>

<p>It provides two authentication methods:</p>

<ul>
	<li>With username and password - This method uses a username and password to authenticate to the server, which is the same username and password used to establish an SSH session.</li>
	<li>With a known pre-registered private key (recommended) - This method uses a given user's private key that is registered on the server to establish the SFTP channel. The user must also be added to the connection parameters.</li>
</ul>

<p>Also, the protocol provides a way to use mutual authentication (the client identifies to the server and vice-versa) exchanging keys in the early stages of the connection intent. In this case, the user sends his credentials (username and password or username and private key), and the server sends to the client its key fingerprint that should match a known_hosts file registry known by the client. This way, the client knows he is connecting to a known server and avoids man-in-the-middle type of attacks.</p>

<h2><a id="Security+Tips" class="HashLink" href="#Security+Tips">Security Tips</a></h2>

<p><span style="color: rgb(255,0,0);"><span style="font-family: courier new;">Do not trust user inputs!!!</span></span></p>

<p>This module could have path manipulation vulnerabilities if not used carefully. </p>

<ul>
	<li>This module does not sanitize paths or file names. Do not trust user inputs.</li>
	<li>This module allows you to upload to and download from the server any kind of file. Use a whitelist to filter file types.</li>
	<li>This module allows you to upload to and download from the server any directory on which the user has permissions. Fix/sanitize allowed paths and files.</li>
</ul>

<p>Do not add this module to an application if it is not necessary.</p>

<p>Take security measures on deploy if external users are not allowed. </p>

<p></p>
</div><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="44967.html">Connection Options SFTP</a></TD><TD><a href="45554.html">File Extensions Whitelisting</a></TD></TR><TR><TD><a href="43916.html">Toc:GeneXus Security API</a></TD><TD><a href="44966.html">SFTP Client</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 03/31/22 03:01 PM</em></font></td></TR></table></font>