<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>Level associated to a transaction rule</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?23108,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">Level associated to a transaction rule</h1>
<!--Level associated to a transaction rule--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>
	GeneXus always determines that a transaction rule be triggered on the first opportunity possible, that is, upon having all data involved in the rule definition.</p>
<p>
	The attributes involved in a rule &quot;tell&quot; GeneXus the triggering level. For example, if a rule only references attributes of the first level of a transaction (either in the rule itself or in the triggering condition), then GeneXus will understand that the rule is associated with the tansaction's first level (and it will be triggered as soon as there are values for all data referenced in the rule).</p>
<p>
	Likewise, when a rule only references attributes in the second level of the transaction (either in the rule itself or in the triggering condition), then GeneXus will understand that the rule is associated with the transaction's second level. This means that the rule will be executed for each line in the second level (as soon as there are values for all data referenced in the rule).</p>
<p>
	If a rule references attributes from different levels, GeneXus understands that the rule is associated with the last nested level, the only location where all referenced attributes have values. The rule will be executed for each instance in the last level.</p>
<h3>
	Examples</h3>
<p>
	<img src="./images/23109.png" id="23109" class="WikiImage"/></p>
<p>
	<strong>1)</strong> If the following rule is defined in the above transaction:</p>
<pre class="prettyprint lang-genexus" style="max-width: 100%">
Default(CustomerAddedDate, &amp;today);</pre>
<p>
	...since the only attribute mentioned in the rule is CustomerAddedDate, which is an attribute from the transaction's first level, then GeneXus will determine that this rule is associated with</p>
<p>
	the first level.</p>
<p>
	<strong>2)</strong> If the following rule is also defined in the above transaction:</p>
<pre class="prettyprint lang-genexus" style="max-width: 100%">
Add(CustomerTripMiles,CustomerTotalMiles);</pre>
<p>
	...since the two attributes mentioned in this rule are in the transaction's second level, then GeneXus will determine that this rule is associated with the second level. So this <a href="6845.html">Add rule</a> will be executed for each line in the second level.</p>
<p>
	What triggering level will be associated by default with a rule where no attributes are referenced?  If no attributes are involved in a rule, then the level associated by default with that rule will be the first level.</p>
<p>
	For example, the rule below, defined in the above transaction:</p>
<pre class="prettyprint lang-genexus" style="max-width: 100%">
Error(‘Customers cannot be deleted’) if delete; </pre>
<p>
	...involves no attributes, so, by default, the first level will be associated with the rule. This means that when user tries deleting a customer, the condition turns to True, and the error text will be displayed, and the customer will not be deleted. Note that the rule will not be triggered if user tries to delete a line with a trip, and this is because the rule is asociated with the first level.</p>
<h3>
	Scope</h3>
<p>
	<strong>Objects   </strong><a href="1908.html">Transaction object</a></p>
<h3>
	See also</h3>
<p>
	<a href="8438.html">Level clause for transaction rules</a></p>
<p>
	</p>
<p>
	</p>
<br />   <br />    <br /> <br /><br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="8282.html">AfterValidate Triggering event</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:19 PM</em></font></td></TR></table></font>