<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>JWT Utils</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?43986,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">JWT Utils</h1>
<!--JWT Utils--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p><div style="background-color: rgb(242,242,242);border-left: 6.0px solid rgb(128,128,128);margin-bottom: 15.0px;padding: 4.0px 12.0px;"><b>Note</b>: This is part of the <a href="43980.html">GeneXus JWT Module</a> and provides different utilities...</div>
</p>

<h2><a id="PrivateClaims" class="HashLink" href="#PrivateClaims">PrivateClaims</a></h2>

<h3><a id="SetClaim" class="HashLink" href="#SetClaim">SetClaim</a></h3>

<p>Adds a String private claim.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
SetClaim(privateClaimKey, privateClaimValue)</pre>

<ul>
	<li>Input privateClaimkey: Character(100)</li>
	<li>Input privateClaimValue: Character(100)</li>
	<li>Returns: Boolean true if the claim was added correctly.</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;isOK = &amp;PrivateClaims.SetClaim(&amp;key, &amp;value)</pre>

<h3><a id="SetNestedClaim" class="HashLink" href="#SetNestedClaim">SetNestedClaim</a></h3>

<p>(This method is available since <a href="https://wiki.genexus.com/commwiki/wiki?45901,," target="_blank">GeneXus 16 Upgrade 11</a>)</p>

<p>Adds nested private claims on multiple levels as an arborescent structure</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
SetNestedClaim(privateClaimKey, privateClaimObject)</pre>

<ul>
	<li>Input privateClaimKey: Character(100)</li>
	<li>Input privateClaimObject: PrivateClaim </li>
	<li>Returns: Boolean true if the claim was added correctly.</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;isOK = &amp;PrivateClaimsFather.SetNestedClaim(&amp;key, &amp;PrivateClaimsSon)</pre>

<h3><a id="SetNumericClaim" class="HashLink" href="#SetNumericClaim">SetNumericClaim</a></h3>

<p>(This method is available since GeneXus 17 Upgrade 2)</p>

<p>Adds a Numeric private claim.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
SetNumericClaim(privateClaimKey, privateClaimValue)</pre>

<ul>
	<li>Input privateClaimkey: Character(100)</li>
	<li>Input privateClaimValue: Numeric(8.0)</li>
	<li>Returns: Boolean true if the claim was added correctly.</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;isOK = &amp;PrivateClaims.SetNumericClaim(&amp;key, &amp;value)</pre>

<h3><a id="SetBooleanClaim" class="HashLink" href="#SetBooleanClaim">SetBooleanClaim</a></h3>

<p>(This method is available since GeneXus 17 Upgrade 2)</p>

<p>Adds a Boolean private claim.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
SetBooleanClaim(privateClaimKey, privateClaimValue)</pre>

<ul>
	<li>Input privateClaimkey: Character(100)</li>
	<li>Input privateClaimValue: Boolean</li>
	<li>Returns: Boolean true if the claim was added correctly.</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;isOK = &amp;PrivateClaims.SetBooleanClaim(&amp;key, &amp;value)</pre>

<h3><a id="SetDateClaim" class="HashLink" href="#SetDateClaim">SetDateClaim</a></h3>

<p>(This method is available since GeneXus 17 Upgrade 2)</p>

<p>Adds a Date private claim.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
SetDateClaim(privateClaimKey, privateClaimValue)</pre>

<ul>
	<li>Input privateClaimkey: Character(100)</li>
	<li>Input privateClaimValue: Numeric(11.0)</li>
	<li>Returns: Boolean true if the claim was added correctly.</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;isOK = &amp;PrivateClaims.SetDateClaim(&amp;key, &amp;value)</pre>

<ul>
	<li>JWT uses an integer defined as <a href='https://en.wikipedia.org/wiki/Unix_time'>UNIX time</a> format, which is the number of seconds since the 1st of January of 1970 at 00.00.00. The complexity of this calculation is transparent to the user.</li>
</ul>

<h2><a id="Revocation+List" class="HashLink" href="#Revocation+List">Revocation List</a></h2>

<p>Defines a revocation list to be used on token verification.</p>

<h3><a id="DeleteFromRevocationList" class="HashLink" href="#DeleteFromRevocationList">DeleteFromRevocationList</a></h3>

<p>Deletes a token ID from the revocation list.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
DeleteFromRevocationList(id)</pre>

<ul>
	<li>Input id: Character(100)</li>
	<li>Returns: Boolean, true if it was successfully removed.</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;RList.DeleteFromRevocationList(&amp;id)</pre>

<h3><a id="AddIDToRevocationList" class="HashLink" href="#AddIDToRevocationList">AddIDToRevocationList</a></h3>

<p>Adds a token ID to the revocation list.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
AddIDToRevocationList(id)</pre>

<ul>
	<li>Input id: Character(100)</li>
	<li>Returns void</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;RList.AddIDToRevocationList(&amp;id)</pre>

<h3><a id="IsInRevocationList" class="HashLink" href="#IsInRevocationList">IsInRevocationList</a></h3>

<p>Verifies if a given ID is included in the revocation list.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
IsInRevocationList(id)</pre>

<ul>
	<li>Input id: Character(100)</li>
	<li>Returns true if the ID is present in the revocation list.</li>
</ul>

<h2><a id="GUID" class="HashLink" href="#GUID">GUID</a></h2>

<p>Deprecated since <a href="https://wiki.genexus.com/commwiki/wiki?45901,," target="_blank">GeneXus 16 Upgrade 11</a>, use <a href="31772.html">GeneXus GUID data type</a> instead.</p>

<p>GUID generator utility for token ID generation.</p>

<h3><a id="Generate" class="HashLink" href="#Generate">Generate</a></h3>

<p>Generates a string GUID using platform default implementation.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Generate()</pre>

<ul>
	<li>Returns Character(100) GUID</li>
</ul>

<p>Example</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
 &amp;guid = &amp;GUID.Generate()</pre>

<p><u>Implementation details:</u></p>

<ul>
	<li>Java - uses java.util.UUID implementation</li>
	<li>.Net - uses System.Guid implementation</li>
</ul>

<h2><a id="DateUtil" class="HashLink" href="#DateUtil">DateUtil</a></h2>

<p>Deprecated since <a href="https://wiki.genexus.com/commwiki/wiki?45901,," target="_blank">GeneXus 16 Upgrade 11</a>, use <a href="7370.html">GeneXus DateTime data type</a> instead.</p>

<p>It retrieves system date and time using seconds to calculate registered time validating claims on the string format yyyy/MM/dd HH:mm:ss specific for the module definition.</p>

<p>This utility is made to bring a tool to manage Dates and Times in a human-readable form.</p>

<p>JWT uses an integer defined as <a href='https://en.wikipedia.org/wiki/Unix_time'>UNIX time</a> format, which is the number of seconds since the 1st of January of 1970 at 00.00.00. The complexity of this calculation is transparent to the user.</p>

<h3><a id="GetCurrentDate" class="HashLink" href="#GetCurrentDate">GetCurrentDate</a></h3>

<p>Gets the current system date.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
GetCurrentDate()</pre>

<ul>
	<li>Returns Character(100) current date and time using seconds on the yyyy/MM/dd HH:mm:ss specific format.</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;date = &amp;DateUtil.GetCurrentDate()</pre>

<h3><a id="CurrentPlusSeconds" class="HashLink" href="#CurrentPlusSeconds">CurrentPlusSeconds</a></h3>

<p>Gets the system's current date and adds the specified seconds returning a string with the specific format for the module definition.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
CurrentPlusSeconds(seconds)</pre>

<ul>
	<li>Input seconds: Numeric(12.0)</li>
	<li>Returns Character(100) string date formatted as yyyy/MM/dd HH:mm:ss</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;date = &amp;DateUtil.CurrentPlusSeconds(&amp;seconds)</pre>

<h3><a id="CurrentMinusSeconds" class="HashLink" href="#CurrentMinusSeconds">CurrentMinusSeconds</a></h3>

<p>Gets the system's current date and subtracts the specified seconds returning a string with the specific format for the module definition.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
CurrentMinusSeconds(seconds)</pre>

<ul>
	<li>Input seconds: Numeric(12.0)</li>
	<li>Returns Character(100)  string date formated yyyy/MM/dd HH:mm:ss</li>
</ul>

<p>Example:</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
&amp;date = &amp;DateUtil.CurrentMinusSeconds(&amp;seconds)</pre>

<p> </p>

<p><br />
</p>
<br />
</td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="43916.html">Toc:GeneXus Security API</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 12/11/20 04:19 PM</em></font></td></TR></table></font>