<!DOCTYPE html>
<html>
<head>
<meta http-equiv=Content-Type content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="./images/WikiTheme2.css"/>
<link rel="stylesheet" type="text/css" href="./images/bootstrap.min.css"/>
<title>View DateTime values in a selected time zone - TimeZone Scenario</title>
</head>
<body bgcolor="#FFFFFF" style="display: block;margin: 8px;"><span id="W0004BODY" class="WikiBody"><table border=0 width=100%><tr><td><div align="right"><FONT face=Verdana size=2><a href =https://wiki.genexus.com/commwiki/wiki?22140,, target=_"blank">Newest Version</a></FONT></div></td></tr></table><h1 class="WikiName">View DateTime values in a selected time zone - TimeZone Scenario</h1>
<!--View DateTime values in a selected time zone - TimeZone Scenario--><table class="TableWikiBody" id="tblwikibody"><tbody><tr><td><p>The article <a href="https://wiki.genexus.com/commwiki/wiki?22139,," target="_blank">Last Updated - TimeZone Scenario</a> describes the need to show/accept fields of <a href="7370.html">DateTime data type</a> in the <a href="https://wiki.genexus.com/commwiki/wiki?21997,," target="_blank">TimeZone</a> corresponding to each user (<a href="22146.html">Current TimeZone</a>) regardless of the time zone where these fields were originally generated.</p>

<p>Now, let’s suppose that a user in Tokyo needs to see fields of DateTime type in a time zone different than his current <a href="https://wiki.genexus.com/commwiki/wiki?21998,," target="_blank">TZ</a>. For instance, this could be the schedule of a conference that takes place in another country. The user sees the conference times in his time zone but he may also need to see them in the time zone of the country where they take place.</p>

<h3><a id="Solution" class="HashLink" href="#Solution">Solution</a></h3>

<p>To solve this scenario, the application must have <a href="21988.html">TimeZone Support</a> enabled and allow the user to select the time zone of the country where the conference takes place from the user’s interface.</p>

<p>Suppose that the conference takes place in New York. Its time zone is <a href="21989.html">TimeZones</a>.New_York. The application must have an event, similar to the one below, that changes alternatively from the user’s time zone to New York’s time zone, and whose code invokes the <a href="21893.html">SetTimeZone method</a>.</p>

<pre class="prettyprint lang-genexus" style="max-width: 100%">
Event &quot;Change time zone&quot;
    if DateTime.GetTimeZone() &lt;&gt; TimeZones.New_York
      // &amp;PreviousTimeZone is a variable based on the TimeZones Domain that is used to hold the value of the default user time zone.
      &amp;PreviousTimeZone = DateTime.GetTimeZone()
      DateTime.SetTimeZone(TimeZones.New_York)
   else
      DateTime.SetTimeZone(&amp;PreviousTimeZone)
   endif
   Refresh
EndEvent</pre>

<h3><a id="Other+scenarios" class="HashLink" href="#Other+scenarios">Other scenarios</a></h3>

<p><a href="https://wiki.genexus.com/commwiki/wiki?22139,," target="_blank">Last Updated - TimeZone Scenario</a></p>

<h3><a id="See+also" class="HashLink" href="#See+also">See also</a></h3>

<p><a href="22146.html">Current TimeZone</a><br />
<a href="21893.html">SetTimeZone method</a><br />
<a href="21989.html">Timezones Domain</a></p>

<p> </p>

<p><br />
</p>

<p><br />
</p>

<p> </p>
   <br />    <br /> <br /><br /></td></tr></tbody></table><script src="./images/run_prettify.js?lang=genexus"></script><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><TD><b>Backlinks</b></TD></TR><TR><TD><a href="17218.html">DateTime storage timezone property</a></TD><TD><a href="22147.html">Enabling TimeZone Support</a></TD><TD><a href="21988.html">Toc:TimeZone Support</a></TD></TR></table>
</span></body>
</html><hr /><table id="Pages" class="Table" cellpadding="1" cellspacing="2" style=" width: 100%;" ><TR><td align="left"><font face="Verdana" size="1"><em>Source: <a href="https://wiki.genexus.com" target=_blank>wiki.genexus.com</a></em></font></td><td align="right"><font face="Verdana" size="1"><em>Last modification: 07/31/20 01:21 PM</em></font></td></TR></table></font>