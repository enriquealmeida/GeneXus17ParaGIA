/*
 * Switch GeneXus User Control 0.0.0.134372
 *
 * Copyright 2016, GeneXus
 */
/*
 Apache-2.0
*/
(function(f,g){"function"==typeof define&&define.amd?define(["jquery"],g):"undefined"!=typeof exports?g(require("jquery")):(g(f.jquery),f.bootstrapSwitch={})})(this,function(f){f=f&&f.__esModule?f:{"default":f};var g=Object.assign||function(d){for(var a,b=1;b<arguments.length;b++)for(var c in a=arguments[b],a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c]);return d},h=function(){function d(a,b){for(var c,l=0;l<b.length;l++)c=b[l],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&
(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(a,b,c){return b&&d(a.prototype,b),c&&d(a,c),a}}(),d=f["default"]||window.jQuery||window.$,k=function(){function e(a){var b=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.$element=d(a);this.options=d.extend({},d.fn.bootstrapSwitch.defaults,this._getElementOptions(),c);this.prevOptions={};this.$wrapper=d("\x3cdiv\x3e",{"class":function(){var a=
[];return a.push(b.options.state?"on":"off"),b.options.size&&a.push(b.options.size),b.options.disabled&&a.push("disabled"),b.options.readonly&&a.push("readonly"),b.options.indeterminate&&a.push("indeterminate"),b.options.inverse&&a.push("inverse"),b.$element.attr("id")&&a.push("id-"+b.$element.attr("id")),a.map(b._getClass.bind(b)).concat([b.options.baseClass],b._getClasses(b.options.wrapperClass)).join(" ")}});this.$container=d("\x3cdiv\x3e",{"class":this._getClass("container")});this.$on=d("\x3cspan\x3e",
{html:this.options.onText,"class":this._getClass("handle-on")+" "+this._getClass(this.options.onColor)});this.$off=d("\x3cspan\x3e",{html:this.options.offText,"class":this._getClass("handle-off")+" "+this._getClass(this.options.offColor)});this.$label=d("\x3cspan\x3e",{html:this.options.labelText,"class":this._getClass("label")});this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,a));this.$element.on("switchChange.bootstrapSwitch",function(){for(var c=arguments.length,e=Array(c),
f=0;f<c;f++)e[f]=arguments[f];!1===b.options.onSwitchChange.apply(a,e)&&(b.$element.is(":radio")?d('[name\x3d"'+b.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):b.$element.trigger("previousState.bootstrapSwitch",!0))});this.$container=this.$element.wrap(this.$container).parent();this.$wrapper=this.$container.wrap(this.$wrapper).parent();this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off);this.options.indeterminate&&
this.$element.prop("indeterminate",!0);this._init();this._elementHandlers();this._handleHandlers();this._labelHandlers();this._formHandler();this._externalLabelHandler();this.$element.trigger("init.bootstrapSwitch",this.options.state)}return h(e,[{key:"setPrevOptions",value:function(){this.prevOptions=g({},this.options)}},{key:"state",value:function(a,b){return"undefined"==typeof a?this.options.state:this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?
this.$element:(this.$element.is(":radio")?d('[name\x3d"'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",!!a).trigger("change.bootstrapSwitch",b),this.$element)}},{key:"toggleState",value:function(a){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):
this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",a)}},{key:"size",value:function(a){return"undefined"==typeof a?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),a&&this.$wrapper.addClass(this._getClass(a)),this._width(),this._containerPosition(),this.options.size=a,this.$element)}},{key:"animate",value:function(a){return"undefined"==typeof a?this.options.animate:this.options.animate===!!a?this.$element:this.toggleAnimate()}},
{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(a){return"undefined"==typeof a?this.options.disabled:this.options.disabled===!!a?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),
this.$element}},{key:"readonly",value:function(a){return"undefined"==typeof a?this.options.readonly:this.options.readonly===!!a?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(a){return"undefined"==typeof a?this.options.indeterminate:this.options.indeterminate===
!!a?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(a){return"undefined"==typeof a?this.options.inverse:this.options.inverse===!!a?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));
var a=this.$on.clone(!0),b=this.$off.clone(!0);return this.$on.replaceWith(b),this.$off.replaceWith(a),this.$on=b,this.$off=a,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(a){return"undefined"==typeof a?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(a)),this.options.onColor=a,this.$element)}},{key:"offColor",value:function(a){return"undefined"==typeof a?this.options.offColor:
(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(a)),this.options.offColor=a,this.$element)}},{key:"onText",value:function(a){return"undefined"==typeof a?this.options.onText:(this.$on.html(a),this._width(),this._containerPosition(),this.options.onText=a,this.$element)}},{key:"offText",value:function(a){return"undefined"==typeof a?this.options.offText:(this.$off.html(a),this._width(),this._containerPosition(),this.options.offText=
a,this.$element)}},{key:"labelText",value:function(a){return"undefined"==typeof a?this.options.labelText:(this.$label.html(a),this._width(),this.options.labelText=a,this.$element)}},{key:"handleWidth",value:function(a){return"undefined"==typeof a?this.options.handleWidth:(this.options.handleWidth=a,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(a){return"undefined"==typeof a?this.options.labelWidth:(this.options.labelWidth=a,this._width(),this._containerPosition(),
this.$element)}},{key:"baseClass",value:function(){return this.options.baseClass}},{key:"wrapperClass",value:function(a){return"undefined"==typeof a?this.options.wrapperClass:(a||(a=d.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(a).join(" ")),this.options.wrapperClass=a,this.$element)}},{key:"radioAllOff",value:function(a){if("undefined"==typeof a)return this.options.radioAllOff;a=
!!a;return this.options.radioAllOff===a?this.$element:(this.options.radioAllOff=a,this.$element)}},{key:"onInit",value:function(a){return"undefined"==typeof a?this.options.onInit:(a||(a=d.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=a,this.$element)}},{key:"onSwitchChange",value:function(a){return"undefined"==typeof a?this.options.onSwitchChange:(a||(a=d.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=a,this.$element)}},{key:"destroy",value:function(){var a=this.$element.closest("form");
return a.length&&a.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),
inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var a=
this,b=this.$on.add(this.$off).add(this.$label).css("width",""),c="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return b.width(c),this.$label.width(function(b,d){return"auto"===a.options.labelWidth?d<c?c:d:a.options.labelWidth}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",
value:function(){var a=this,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.state;this.$container.css("margin-left",function(){var c=[0,"-"+a._handleWidth+"px"];return a.options.indeterminate?"-"+a._handleWidth/2+"px":b?a.options.inverse?c[1]:c[0]:a.options.inverse?c[0]:c[1]})}},{key:"_init",value:function(){var a=this,b=function(){a.setPrevOptions();a._width();a._containerPosition();setTimeout(function(){if(a.options.animate)return a.$wrapper.addClass(a._getClass("animate"))},
50)};if(this.$wrapper.is(":visible"))return void b();var c=window.setInterval(function(){if(a.$wrapper.is(":visible"))return b(),window.clearInterval(c)},50)}},{key:"_elementHandlers",value:function(){var a=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){a.options=a.prevOptions;a.options.indeterminate&&a.$wrapper.addClass(a._getClass("indeterminate"));a.$element.prop("checked",a.options.state).trigger("change.bootstrapSwitch",
!0)},"change.bootstrapSwitch":function(b,c){b.preventDefault();b.stopImmediatePropagation();var e=a.$element.is(":checked");a._containerPosition(e);e===a.options.state||(a.options.state=e,a.$wrapper.toggleClass(a._getClass("off")).toggleClass(a._getClass("on")),!c&&(a.$element.is(":radio")&&d('[name\x3d"'+a.$element.attr("name")+'"]').not(a.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),a.$element.trigger("switchChange.bootstrapSwitch",[e])))},"focus.bootstrapSwitch":function(b){b.preventDefault();
a.$wrapper.addClass(a._getClass("focused"))},"blur.bootstrapSwitch":function(b){b.preventDefault();a.$wrapper.removeClass(a._getClass("focused"))},"keydown.bootstrapSwitch":function(b){!b.which||a.options.disabled||a.options.readonly||(37===b.which||39===b.which)&&(b.preventDefault(),b.stopImmediatePropagation(),a.state(39===b.which))}})}},{key:"_handleHandlers",value:function(){var a=this;return this.$on.on("click.bootstrapSwitch",function(b){return b.preventDefault(),b.stopPropagation(),a.state(!1),
a.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(b){return b.preventDefault(),b.stopPropagation(),a.state(!0),a.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var a=this;this.$label.on({click:function(a){a.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(b){a._dragStart||a.options.disabled||a.options.readonly||(b.preventDefault(),b.stopPropagation(),a._dragStart=(b.pageX||b.originalEvent.touches[0].pageX)-
parseInt(a.$container.css("margin-left"),10),a.options.animate&&a.$wrapper.removeClass(a._getClass("animate")),a.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(b){if(null!=a._dragStart){var c=(b.pageX||b.originalEvent.touches[0].pageX)-a._dragStart;b.preventDefault();c<-a._handleWidth||0<c||(a._dragEnd=c,a.$container.css("margin-left",a._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(b){a._dragStart&&((b.preventDefault(),
a.options.animate&&a.$wrapper.addClass(a._getClass("animate")),a._dragEnd)?(b=a._dragEnd>-(a._handleWidth/2),a._dragEnd=!1,a.state(a.options.inverse?!b:b)):a.state(!a.options.state),a._dragStart=!1)},"mouseleave.bootstrapSwitch":function(){a.$label.trigger("mouseup.bootstrapSwitch")}})}},{key:"_externalLabelHandler",value:function(){var a=this,b=this.$element.closest("label");b.on("click",function(c){c.preventDefault();c.stopImmediatePropagation();c.target===b[0]&&a.toggleState()})}},{key:"_formHandler",
value:function(){var a=this.$element.closest("form");a.data("bootstrap-switch")||a.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){a.find("input").filter(function(){return d(this).data("bootstrap-switch")}).each(function(){return d(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(a){return this.options.baseClass+"-"+a}},{key:"_getClasses",value:function(a){return d.isArray(a)?a.map(this._getClass.bind(this)):[this._getClass(a)]}}]),
e}();d.fn.bootstrapSwitch=function(e){for(var a=arguments.length,b=Array(1<a?a-1:0),c=1;c<a;c++)b[c-1]=arguments[c];return Array.prototype.reduce.call(this,function(a,c){var f=d(c),g=f.data("bootstrap-switch"),h=g||new k(c,e);return g||f.data("bootstrap-switch",h),"string"==typeof e?h[e].apply(h,b):a},this)};d.fn.bootstrapSwitch.Constructor=k;d.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",
onText:"ON",offText:"OFF",labelText:"\x26nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}});function Switch(f){this.Value;this.CheckedValue;this.UncheckedValue;this.Checked;this.Visible;this.Enabled;this.OnText;this.OffText;var g,h,d,k;this.SetAttribute=function(d){this.SetValue(d)};this.GetAttribute=function(){return this.Value};this.SetValue=function(e){this.Checked="boolean"===typeof e?e==gx.lang.booleanValue(this.CheckedValue):this.CheckedValue==e;this.Value=e;d&&d.bootstrapSwitch("state",this.Checked,!1)};this.SetState=function(d){this.Value=d?this.CheckedValue:this.UncheckedValue;
this.Checked=d};this.show=function(){this.IsPostBack?(d.bootstrapSwitch("readonly",!this.Enabled),d.bootstrapSwitch("state",this.Checked,!1),k.toggle(this.Visible)):setTimeout(this.init.closure(this),0)};this.init=function(){g=f(this.getContainerControl());h=this.ContainerName.replace(this.DesignContainerName,this.DesignContainerName.replace(/Container$/,""))+"_checkbox";var e=Mustache.to_html("\x3cinput type\x3d'checkbox' id\x3d'{{id}}'/\x3e",{id:h});this.setHtml(e);e={size:"small",onColor:"success on",
offColor:"default off",wrapperClass:"wrapper gx-switch-"+this.Class,readonly:!this.Enabled,state:this.Checked,onText:this.OnText,offText:this.OffText};d=f("#"+h).bootstrapSwitch(e);var a=this;d.on("switchChange.bootstrapSwitch",function(b,c){a.SetState(c);a.ControlValueChanged&&a.ControlValueChanged()});k=d.closest(".form-group");k=k.length?k:g;k.toggle(this.Visible);k.find("label").attr("for",h)}};

//# sourceMappingURL=switch.min.map
